(function(a,b){function f(c){var a=c.length,p=e.type(c);return e.isWindow(c)?!1:1===c.nodeType&&a?!0:"array"===p||"function"!==p&&(0===a||"number"===typeof a&&0<a&&a-1 in c)}function g(c){var a=$a[c]={};e.each(c.match(la)||[],function(c,e){a[e]=!0});return a}function l(c,a,p,y){if(e.acceptData(c)){var d=e.expando,P=c.nodeType,k=P?e.cache:c,h=P?c[d]:c[d]&&d;if(h&&k[h]&&(y||k[h].data)||p!==b||"string"!==typeof a){h||(h=P?c[d]=ma.pop()||e.guid++:d);k[h]||(k[h]=P?{}:{toJSON:e.noop});if("object"===typeof a||
"function"===typeof a)y?k[h]=e.extend(k[h],a):k[h].data=e.extend(k[h].data,a);c=k[h];y||(c.data||(c.data={}),c=c.data);p!==b&&(c[e.camelCase(a)]=p);"string"===typeof a?(p=c[a],null==p&&(p=c[e.camelCase(a)])):p=c;return p}}}function r(c,a,p){if(e.acceptData(c)){var y,d,b=c.nodeType,k=b?e.cache:c,h=b?c[e.expando]:e.expando;if(k[h]){if(a&&(y=p?k[h]:k[h].data)){e.isArray(a)?a=a.concat(e.map(a,e.camelCase)):a in y?a=[a]:(a=e.camelCase(a),a=a in y?[a]:a.split(" "));for(d=a.length;d--;)delete y[a[d]];if(p?
!m(y):!e.isEmptyObject(y))return}if(!p&&(delete k[h].data,!m(k[h])))return;b?e.cleanData([c],!0):e.support.deleteExpando||k!=k.window?delete k[h]:k[h]=null}}}function v(c,a,p){if(p===b&&1===c.nodeType)if(p="data-"+a.replace(yb,"-$1").toLowerCase(),p=c.getAttribute(p),"string"===typeof p){try{p="true"===p?!0:"false"===p?!1:"null"===p?null:+p+""===p?+p:zb.test(p)?e.parseJSON(p):p}catch(y){}e.data(c,a,p)}else p=b;return p}function m(c){for(var a in c)if(("data"!==a||!e.isEmptyObject(c[a]))&&"toJSON"!==
a)return!1;return!0}function w(){return!0}function z(){return!1}function C(){try{return F.activeElement}catch(c){}}function u(c,a){do c=c[a];while(c&&1!==c.nodeType);return c}function G(c,a,p){if(e.isFunction(a))return e.grep(c,function(c,e){return!!a.call(c,e,c)!==p});if(a.nodeType)return e.grep(c,function(c){return c===a!==p});if("string"===typeof a){if(Ab.test(a))return e.filter(a,c,p);a=e.filter(a,c)}return e.grep(c,function(c){return 0<=e.inArray(c,a)!==p})}function A(c){var a=ab.split("|");
c=c.createDocumentFragment();if(c.createElement)for(;a.length;)c.createElement(a.pop());return c}function B(c,a){return e.nodeName(c,"table")&&e.nodeName(1===a.nodeType?a:a.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function J(c){c.type=(null!==e.find.attr(c,"type"))+"/"+c.type;return c}function D(c){var a=Bb.exec(c.type);a?c.type=a[1]:c.removeAttribute("type");return c}function E(c,a){for(var p,y=0;null!=(p=c[y]);y++)e._data(p,"globalEval",
!a||e._data(a[y],"globalEval"))}function O(c,a){if(1===a.nodeType&&e.hasData(c)){var p,y,d;y=e._data(c);var b=e._data(a,y),k=y.events;if(k)for(p in delete b.handle,b.events={},k)for(y=0,d=k[p].length;y<d;y++)e.event.add(a,p,k[p][y]);b.data&&(b.data=e.extend({},b.data))}}function I(c,a){var p,y,d=0,P=typeof c.getElementsByTagName!==da?c.getElementsByTagName(a||"*"):typeof c.querySelectorAll!==da?c.querySelectorAll(a||"*"):b;if(!P)for(P=[],p=c.childNodes||c;null!=(y=p[d]);d++)!a||e.nodeName(y,a)?P.push(y):
e.merge(P,I(y,a));return a===b||a&&e.nodeName(c,a)?e.merge([c],P):P}function q(c){Oa.test(c.type)&&(c.defaultChecked=c.checked)}function L(c,a){if(a in c)return a;for(var p=a.charAt(0).toUpperCase()+a.slice(1),e=a,d=bb.length;d--;)if(a=bb[d]+p,a in c)return a;return e}function S(c,a){c=a||c;return"none"===e.css(c,"display")||!e.contains(c.ownerDocument,c)}function X(c,a){for(var p,y,d,b=[],k=0,h=c.length;k<h;k++)y=c[k],y.style&&(b[k]=e._data(y,"olddisplay"),p=y.style.display,a?(b[k]||"none"!==p||
(y.style.display=""),""===y.style.display&&S(y)&&(b[k]=e._data(y,"olddisplay",T(y.nodeName)))):b[k]||(d=S(y),(p&&"none"!==p||!d)&&e._data(y,"olddisplay",d?p:e.css(y,"display"))));for(k=0;k<h;k++)y=c[k],!y.style||a&&"none"!==y.style.display&&""!==y.style.display||(y.style.display=a?b[k]||"":"none");return c}function ea(c,a,p){return(c=Cb.exec(a))?Math.max(0,c[1]-(p||0))+(c[2]||"px"):a}function Q(c,a,p,y,d){a=p===(y?"border":"content")?4:"width"===a?1:0;for(var b=0;4>a;a+=2)"margin"===p&&(b+=e.css(c,
p+sa[a],!0,d)),y?("content"===p&&(b-=e.css(c,"padding"+sa[a],!0,d)),"margin"!==p&&(b-=e.css(c,"border"+sa[a]+"Width",!0,d))):(b+=e.css(c,"padding"+sa[a],!0,d),"padding"!==p&&(b+=e.css(c,"border"+sa[a]+"Width",!0,d)));return b}function V(c,a,p){var y=!0,d="width"===a?c.offsetWidth:c.offsetHeight,b=ta(c),k=e.support.boxSizing&&"border-box"===e.css(c,"boxSizing",!1,b);if(0>=d||null==d){d=ga(c,a,b);if(0>d||null==d)d=c.style[a];if(Ha.test(d))return d;y=k&&(e.support.boxSizingReliable||d===c.style[a]);
d=parseFloat(d)||0}return d+Q(c,a,p||(k?"border":"content"),y,b)+"px"}function T(c){var a=F,p=cb[c];p||(p=U(c,a),"none"!==p&&p||(Ca=(Ca||e("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(a.documentElement),a=(Ca[0].contentWindow||Ca[0].contentDocument).document,a.write("<!doctype html><html><body>"),a.close(),p=U(c,a),Ca.detach()),cb[c]=p);return p}function U(c,a){var p=e(a.createElement(c)).appendTo(a.body),d=e.css(p[0],"display");p.remove();
return d}function Y(c,a,p,d){var b;if(e.isArray(a))e.each(a,function(a,x){p||Db.test(c)?d(c,x):Y(c+"["+("object"===typeof x?a:"")+"]",x,p,d)});else if(p||"object"!==e.type(a))d(c,a);else for(b in a)Y(c+"["+b+"]",a[b],p,d)}function Z(c){return function(a,p){"string"!==typeof a&&(p=a,a="*");var d,b=0,k=a.toLowerCase().match(la)||[];if(e.isFunction(p))for(;d=k[b++];)"+"===d[0]?(d=d.slice(1)||"*",(c[d]=c[d]||[]).unshift(p)):(c[d]=c[d]||[]).push(p)}}function aa(c,a,p,d){function b(f){var n;k[f]=!0;e.each(c[f]||
[],function(c,e){var f=e(a,p,d);if("string"===typeof f&&!h&&!k[f])return a.dataTypes.unshift(f),b(f),!1;if(h)return!(n=f)});return n}var k={},h=c===Pa;return b(a.dataTypes[0])||!k["*"]&&b("*")}function h(c,a){var p,d,k=e.ajaxSettings.flatOptions||{};for(d in a)a[d]!==b&&((k[d]?c:p||(p={}))[d]=a[d]);p&&e.extend(!0,c,p);return c}function t(){try{return new a.XMLHttpRequest}catch(c){}}function d(){setTimeout(function(){va=b});return va=e.now()}function k(c,a,p){for(var e,d=(Da[a]||[]).concat(Da["*"]),
b=0,k=d.length;b<k;b++)if(e=d[b].call(p,a,c))return e}function n(c,a,p){var b,N=0,P=Ia.length,h=e.Deferred().always(function(){delete f.elem}),f=function(){if(b)return!1;for(var a=va||d(),a=Math.max(0,n.startTime+n.duration-a),e=1-(a/n.duration||0),p=0,x=n.tweens.length;p<x;p++)n.tweens[p].run(e);h.notifyWith(c,[n,e,a]);if(1>e&&x)return a;h.resolveWith(c,[n]);return!1},n=h.promise({elem:c,props:e.extend({},a),opts:e.extend(!0,{specialEasing:{}},p),originalProperties:a,originalOptions:p,startTime:va||
d(),duration:p.duration,tweens:[],createTween:function(a,p){var x=e.Tween(c,n.opts,a,p,n.opts.specialEasing[a]||n.opts.easing);n.tweens.push(x);return x},stop:function(a){var p=0,e=a?n.tweens.length:0;if(b)return this;for(b=!0;p<e;p++)n.tweens[p].run(1);a?h.resolveWith(c,[n,a]):h.rejectWith(c,[n,a]);return this}});p=n.props;for(K(p,n.opts.specialEasing);N<P;N++)if(a=Ia[N].call(n,c,p,n.opts))return a;e.map(p,k,n);e.isFunction(n.opts.start)&&n.opts.start.call(c,n);e.fx.timer(e.extend(f,{elem:c,anim:n,
queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function K(c,a){var p,d,b,k,h;for(p in c)if(d=e.camelCase(p),b=a[d],k=c[p],e.isArray(k)&&(b=k[1],k=c[p]=k[0]),p!==d&&(c[d]=k,delete c[p]),(h=e.cssHooks[d])&&"expand"in h)for(p in k=h.expand(k),delete c[d],k)p in c||(c[p]=k[p],a[p]=b);else a[d]=b}function H(c,a,p,e,d){return new H.prototype.init(c,a,p,e,d)}function M(c,a){var p,e={height:c},d=0;for(a=a?1:0;4>d;d+=2-a)p=
sa[d],e["margin"+p]=e["padding"+p]=c;a&&(e.opacity=e.width=c);return e}function fa(c){return e.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var W,oa,da=typeof b,Ea=a.location,F=a.document,ya=F.documentElement,ha=a.jQuery,ba=a.$,ia={},ma=[],Ja=ma.concat,za=ma.push,pa=ma.slice,qa=ma.indexOf,Ka=ia.toString,ja=ia.hasOwnProperty,Fa="1.10.2".trim,e=function(c,a){return new e.fn.init(c,a,oa)},La=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,la=/\S+/g,Eb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
Fb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,db=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Gb=/^[\],:{}\s]*$/,Hb=/(?:^|:|,)(?:\s*\[)+/g,Ib=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Jb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Kb=/^-ms-/,Lb=/-([\da-z])/gi,Mb=function(c,a){return a.toUpperCase()},ka=function(c){if(F.addEventListener||"load"===c.type||"complete"===F.readyState)eb(),e.ready()},eb=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",ka,!1),a.removeEventListener("load",
ka,!1)):(F.detachEvent("onreadystatechange",ka),a.detachEvent("onload",ka))};e.fn=e.prototype={jquery:"1.10.2",constructor:e,init:function(c,a,p){var d;if(!c)return this;if("string"===typeof c){d="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:Fb.exec(c);if(!d||!d[1]&&a)return!a||a.jquery?(a||p).find(c):this.constructor(a).find(c);if(d[1]){if(a=a instanceof e?a[0]:a,e.merge(this,e.parseHTML(d[1],a&&a.nodeType?a.ownerDocument||a:F,!0)),db.test(d[1])&&e.isPlainObject(a))for(d in a)if(e.isFunction(this[d]))this[d](a[d]);
else this.attr(d,a[d])}else{if((a=F.getElementById(d[2]))&&a.parentNode){if(a.id!==d[2])return p.find(c);this.length=1;this[0]=a}this.context=F;this.selector=c}return this}if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(e.isFunction(c))return p.ready(c);c.selector!==b&&(this.selector=c.selector,this.context=c.context);return e.makeArray(c,this)},selector:"",length:0,toArray:function(){return pa.call(this)},get:function(c){return null==c?this.toArray():0>c?this[this.length+c]:this[c]},
pushStack:function(c){c=e.merge(this.constructor(),c);c.prevObject=this;c.context=this.context;return c},each:function(c,a){return e.each(this,c,a)},ready:function(c){e.ready.promise().done(c);return this},slice:function(){return this.pushStack(pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var a=this.length;c=+c+(0>c?a:0);return this.pushStack(0<=c&&c<a?[this[c]]:[])},map:function(c){return this.pushStack(e.map(this,function(a,e){return c.call(a,
e,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:za,sort:[].sort,splice:[].splice};e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var c,a,p,d,k,h=arguments[0]||{},f=1,n=arguments.length,t=!1;"boolean"===typeof h&&(t=h,h=arguments[1]||{},f=2);"object"===typeof h||e.isFunction(h)||(h={});n===f&&(h=this,--f);for(;f<n;f++)if(null!=(k=arguments[f]))for(d in k)c=h[d],p=k[d],h!==p&&(t&&p&&(e.isPlainObject(p)||(a=e.isArray(p)))?(a?(a=!1,c=c&&e.isArray(c)?c:[]):c=c&&e.isPlainObject(c)?
c:{},h[d]=e.extend(t,c,p)):p!==b&&(h[d]=p));return h};e.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(c){a.$===e&&(a.$=ba);c&&a.jQuery===e&&(a.jQuery=ha);return e},isReady:!1,readyWait:1,holdReady:function(c){c?e.readyWait++:e.ready(!0)},ready:function(c){if(!0===c?!--e.readyWait:!e.isReady){if(!F.body)return setTimeout(e.ready);e.isReady=!0;!0!==c&&0<--e.readyWait||(W.resolveWith(F,[e]),e.fn.trigger&&e(F).trigger("ready").off("ready"))}},isFunction:function(c){return"function"===
e.type(c)},isArray:Array.isArray||function(c){return"array"===e.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!isNaN(parseFloat(c))&&isFinite(c)},type:function(c){return null==c?String(c):"object"===typeof c||"function"===typeof c?ia[Ka.call(c)]||"object":typeof c},isPlainObject:function(c){var a;if(!c||"object"!==e.type(c)||c.nodeType||e.isWindow(c))return!1;try{if(c.constructor&&!ja.call(c,"constructor")&&!ja.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(p){return!1}if(e.support.ownLast)for(a in c)return ja.call(c,
a);for(a in c);return a===b||ja.call(c,a)},isEmptyObject:function(c){for(var a in c)return!1;return!0},error:function(c){throw Error(c);},parseHTML:function(c,a,p){if(!c||"string"!==typeof c)return null;"boolean"===typeof a&&(p=a,a=!1);a=a||F;var d=db.exec(c);p=!p&&[];if(d)return[a.createElement(d[1])];d=e.buildFragment([c],a,p);p&&e(p).remove();return e.merge([],d.childNodes)},parseJSON:function(c){if(a.JSON&&a.JSON.parse)return a.JSON.parse(c);if(null===c)return c;if("string"===typeof c&&(c=e.trim(c))&&
Gb.test(c.replace(Ib,"@").replace(Jb,"]").replace(Hb,"")))return(new Function("return "+c))();e.error("Invalid JSON: "+c)},parseXML:function(c){var x,p;if(!c||"string"!==typeof c)return null;try{a.DOMParser?(p=new DOMParser,x=p.parseFromString(c,"text/xml")):(x=new ActiveXObject("Microsoft.XMLDOM"),x.async="false",x.loadXML(c))}catch(d){x=b}x&&x.documentElement&&!x.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+c);return x},noop:function(){},globalEval:function(c){c&&e.trim(c)&&
(a.execScript||function(c){a.eval.call(a,c)})(c)},camelCase:function(c){return c.replace(Kb,"ms-").replace(Lb,Mb)},nodeName:function(c,a){return c.nodeName&&c.nodeName.toLowerCase()===a.toLowerCase()},each:function(c,a,e){var d,b=0,k=c.length;d=f(c);if(e)if(d)for(;b<k&&(d=a.apply(c[b],e),!1!==d);b++);else for(b in c){if(d=a.apply(c[b],e),!1===d)break}else if(d)for(;b<k&&(d=a.call(c[b],b,c[b]),!1!==d);b++);else for(b in c)if(d=a.call(c[b],b,c[b]),!1===d)break;return c},trim:Fa&&!Fa.call("\ufeff ")?
function(c){return null==c?"":Fa.call(c)}:function(c){return null==c?"":(c+"").replace(Eb,"")},makeArray:function(c,a){var p=a||[];null!=c&&(f(Object(c))?e.merge(p,"string"===typeof c?[c]:c):za.call(p,c));return p},inArray:function(c,a,e){var d;if(a){if(qa)return qa.call(a,c,e);d=a.length;for(e=e?0>e?Math.max(0,d+e):e:0;e<d;e++)if(e in a&&a[e]===c)return e}return-1},merge:function(c,a){var e=a.length,d=c.length,k=0;if("number"===typeof e)for(;k<e;k++)c[d++]=a[k];else for(;a[k]!==b;)c[d++]=a[k++];
c.length=d;return c},grep:function(c,a,e){var d,b=[],k=0,h=c.length;for(e=!!e;k<h;k++)d=!!a(c[k],k),e!==d&&b.push(c[k]);return b},map:function(c,a,e){var d,b=0,k=c.length,h=[];if(f(c))for(;b<k;b++)d=a(c[b],b,e),null!=d&&(h[h.length]=d);else for(b in c)d=a(c[b],b,e),null!=d&&(h[h.length]=d);return Ja.apply([],h)},guid:1,proxy:function(c,a){var p,d;"string"===typeof a&&(d=c[a],a=c,c=d);if(!e.isFunction(c))return b;p=pa.call(arguments,2);d=function(){return c.apply(a||this,p.concat(pa.call(arguments)))};
d.guid=c.guid=c.guid||e.guid++;return d},access:function(c,a,p,d,k,h,f){var n=0,t=c.length,g=null==p;if("object"===e.type(p))for(n in k=!0,p)e.access(c,a,n,p[n],!0,h,f);else if(d!==b&&(k=!0,e.isFunction(d)||(f=!0),g&&(f?(a.call(c,d),a=null):(g=a,a=function(c,a,p){return g.call(e(c),p)})),a))for(;n<t;n++)a(c[n],p,f?d:d.call(c[n],n,a(c[n],p)));return k?c:g?a.call(c):t?a(c[0],p):h},now:function(){return(new Date).getTime()},swap:function(c,a,e,d){var b,k={};for(b in a)k[b]=c.style[b],c.style[b]=a[b];
e=e.apply(c,d||[]);for(b in a)c.style[b]=k[b];return e}});e.ready.promise=function(c){if(!W)if(W=e.Deferred(),"complete"===F.readyState)setTimeout(e.ready);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",ka,!1),a.addEventListener("load",ka,!1);else{F.attachEvent("onreadystatechange",ka);a.attachEvent("onload",ka);var d=!1;try{d=null==a.frameElement&&F.documentElement}catch(p){}d&&d.doScroll&&function y(){if(!e.isReady){try{d.doScroll("left")}catch(c){return setTimeout(y,50)}eb();
e.ready()}}()}return W.promise(c)};e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(c,a){ia["[object "+a+"]"]=a.toLowerCase()});oa=e(F);(function(c,a){function p(c,a,e,p){var d,b,x,k,y;(a?a.ownerDocument||a:L)!==F&&E(a);a=a||F;e=e||[];if(!c||"string"!==typeof c)return e;if(1!==(k=a.nodeType)&&9!==k)return[];if(W&&!p){if(d=ua.exec(c))if(x=d[1])if(9===k)if((b=a.getElementById(x))&&b.parentNode){if(b.id===x)return e.push(b),e}else return e;else{if(a.ownerDocument&&
(b=a.ownerDocument.getElementById(x))&&oa(a,b)&&b.id===x)return e.push(b),e}else{if(d[2])return U.apply(e,a.getElementsByTagName(c)),e;if((x=d[3])&&A.getElementsByClassName&&a.getElementsByClassName)return U.apply(e,a.getElementsByClassName(x)),e}if(A.qsa&&(!ba||!ba.test(c))){b=d=I;x=a;y=9===k&&c;if(1===k&&"object"!==a.nodeName.toLowerCase()){k=q(c);(d=a.getAttribute("id"))?b=d.replace(Fa,"\\$&"):a.setAttribute("id",b);b="[id='"+b+"'] ";for(x=k.length;x--;)k[x]=b+l(k[x]);x=ka.test(c)&&a.parentNode||
a;y=k.join(",")}if(y)try{return U.apply(e,x.querySelectorAll(y)),e}catch(h){}finally{d||a.removeAttribute("id")}}}var f;a:{c=c.replace(Y,"$1");b=q(c);if(!p&&1===b.length){d=b[0]=b[0].slice(0);if(2<d.length&&"ID"===(f=d[0]).type&&A.getById&&9===a.nodeType&&W&&H.relative[d[1].type]){a=(H.find.ID(f.matches[0].replace(wa,xa),a)||[])[0];if(!a){f=e;break a}c=c.slice(d.shift().value.length)}for(k=ga.needsContext.test(c)?0:d.length;k--;){f=d[k];if(H.relative[x=f.type])break;if(x=H.find[x])if(p=x(f.matches[0].replace(wa,
xa),ka.test(d[0].type)&&a.parentNode||a)){d.splice(k,1);c=p.length&&l(d);if(!c){U.apply(e,p);f=e;break a}break}}}J(c,b)(p,a,!W,e,ka.test(c));f=e}return f}function d(){function c(e,p){a.push(e+=" ")>H.cacheLength&&delete c[a.shift()];return c[e]=p}var a=[];return c}function b(c){c[I]=!0;return c}function k(c){var a=F.createElement("div");try{return!!c(a)}catch(e){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function h(c,a){for(var e=c.split("|"),p=c.length;p--;)H.attrHandle[e[p]]=a}
function f(c,a){var e=a&&c,p=e&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||-2147483648)-(~c.sourceIndex||-2147483648);if(p)return p;if(e)for(;e=e.nextSibling;)if(e===a)return-1;return c?1:-1}function n(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function t(c){return function(a){var e=a.nodeName.toLowerCase();return("input"===e||"button"===e)&&a.type===c}}function g(c){return b(function(a){a=+a;return b(function(e,p){for(var d,b=c([],e.length,a),x=b.length;x--;)e[d=
b[x]]&&(e[d]=!(p[d]=e[d]))})})}function m(){}function q(c,a){var e,d,b,x,k,y,h;if(k=za[c+" "])return a?0:k.slice(0);k=c;y=[];for(h=H.preFilter;k;){if(!e||(d=la.exec(k)))d&&(k=k.slice(d[0].length)||k),y.push(b=[]);e=!1;if(d=Ea.exec(k))e=d.shift(),b.push({value:e,type:d[0].replace(Y," ")}),k=k.slice(e.length);for(x in H.filter)!(d=ga[x].exec(k))||h[x]&&!(d=h[x](d))||(e=d.shift(),b.push({value:e,type:x,matches:d}),k=k.slice(e.length));if(!e)break}return a?k.length:k?p.error(c):za(c,y).slice(0)}function l(c){for(var a=
0,e=c.length,d="";a<e;a++)d+=c[a].value;return d}function u(c,a,e){var d=a.dir,p=e&&"parentNode"===d,b=Ja++;return a.first?function(a,e,b){for(;a=a[d];)if(1===a.nodeType||p)return c(a,e,b)}:function(a,e,x){var k,y,h,f=O+" "+b;if(x)for(;a=a[d];){if((1===a.nodeType||p)&&c(a,e,x))return!0}else for(;a=a[d];)if(1===a.nodeType||p)if(h=a[I]||(a[I]={}),(y=h[d])&&y[0]===f){if(!0===(k=y[1])||k===w)return!0===k}else if(y=h[d]=[f],y[1]=c(a,e,x)||w,!0===y[1])return!0}}function K(c){return 1<c.length?function(a,
e,d){for(var p=c.length;p--;)if(!c[p](a,e,d))return!1;return!0}:c[0]}function r(c,a,e,d,p){for(var b,x=[],k=0,y=c.length,h=null!=a;k<y;k++)if(b=c[k])if(!e||e(b,d,p))x.push(b),h&&a.push(k);return x}function v(c,a,e,d,x,k){d&&!d[I]&&(d=v(d));x&&!x[I]&&(x=v(x,k));return b(function(b,k,y,h){var f,n,P=[],N=[],t=k.length,g;if(!(g=b)){g=a||"*";for(var R=y.nodeType?[y]:y,m=[],q=0,l=R.length;q<l;q++)p(g,R[q],m);g=m}g=!c||!b&&a?g:r(g,P,c,y,h);R=e?x||(b?c:t||d)?[]:k:g;e&&e(g,R,y,h);if(d)for(f=r(R,N),d(f,[],
y,h),y=f.length;y--;)if(n=f[y])R[N[y]]=!(g[N[y]]=n);if(b){if(x||c){if(x){f=[];for(y=R.length;y--;)(n=R[y])&&f.push(g[y]=n);x(null,R=[],f,h)}for(y=R.length;y--;)(n=R[y])&&-1<(f=x?qa.call(b,n):P[y])&&(b[f]=!(k[f]=n))}}else R=r(R===k?R.splice(t,R.length):R),x?x(null,k,R,h):U.apply(k,R)})}function G(c){var a,e,d,p=c.length,b=H.relative[c[0].type];e=b||H.relative[" "];for(var x=b?1:0,k=u(function(c){return c===a},e,!0),y=u(function(c){return-1<qa.call(a,c)},e,!0),h=[function(c,e,d){return!b&&(d||e!==fa)||
((a=e).nodeType?k(c,e,d):y(c,e,d))}];x<p;x++)if(e=H.relative[c[x].type])h=[u(K(h),e)];else{e=H.filter[c[x].type].apply(null,c[x].matches);if(e[I]){for(d=++x;d<p&&!H.relative[c[d].type];d++);return v(1<x&&K(h),1<x&&l(c.slice(0,x-1).concat({value:" "===c[x-2].type?"*":""})).replace(Y,"$1"),e,x<d&&G(c.slice(x,d)),d<p&&G(c=c.slice(d)),d<p&&l(c))}h.push(e)}return K(h)}function C(c,a){var e=0,d=0<a.length,x=0<c.length,k=function(b,k,y,h,f){var n,P,N=[],g=0,t="0",R=b&&[],m=null!=f,q=fa,l=b||x&&H.find.TAG("*",
f&&k.parentNode||k),u=O+=null==q?1:Math.random()||.1;m&&(fa=k!==F&&k,w=e);for(;null!=(f=l[t]);t++){if(x&&f){for(n=0;P=c[n++];)if(P(f,k,y)){h.push(f);break}m&&(O=u,w=++e)}d&&((f=!P&&f)&&g--,b&&R.push(f))}g+=t;if(d&&t!==g){for(n=0;P=a[n++];)P(R,N,k,y);if(b){if(0<g)for(;t--;)R[t]||N[t]||(N[t]=Z.call(h));N=r(N)}U.apply(h,N);m&&!b&&0<N.length&&1<g+a.length&&p.uniqueSort(h)}m&&(O=u,fa=q);return R};return d?b(k):k}var z,A,w,H,B,M,J,fa,D,E,F,ha,W,ba,ia,ma,oa,I="sizzle"+-new Date,L=c.document,O=0,Ja=0,da=
d(),za=d(),pa=d(),Q=!1,S=function(c,a){c===a&&(Q=!0);return 0},ja=typeof a,V={}.hasOwnProperty,T=[],Z=T.pop,ea=T.push,U=T.push,aa=T.slice,qa=T.indexOf||function(c){for(var a=0,e=this.length;a<e;a++)if(this[a]===c)return a;return-1},Ka="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ca="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Ka+")|)|)[\\x20\\t\\r\\n\\f]*\\]",X=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
ca.replace(3,8)+")*)|.*)\\)|)",Y=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),la=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ea=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ka=/[\x20\t\r\n\f]*[+~]/,ra=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),sa=new RegExp(X),ta=new RegExp("^"+Ka+"$"),ga={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w",
"w*")+")"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+X),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
na=/^[^{]+\{\s*\[native \w/,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/^(?:input|select|textarea|button)$/i,ya=/^h\d$/i,Fa=/'|\\/g,wa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),xa=function(c,a,e){c="0x"+a-65536;return c!==c||e?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,c&1023|56320)};try{U.apply(T=aa.call(L.childNodes),L.childNodes),T[L.childNodes.length].nodeType}catch(oc){U={apply:T.length?function(c,a){ea.apply(c,aa.call(a))}:function(c,
a){for(var e=c.length,d=0;c[e++]=a[d++];);c.length=e-1}}}M=p.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};A=p.support={};E=p.setDocument=function(c){var a=c?c.ownerDocument||c:L;c=a.defaultView;if(a===F||9!==a.nodeType||!a.documentElement)return F;F=a;ha=a.documentElement;W=!M(a);c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){E()});A.attributes=k(function(c){c.className="i";return!c.getAttribute("className")});A.getElementsByTagName=
k(function(c){c.appendChild(a.createComment(""));return!c.getElementsByTagName("*").length});A.getElementsByClassName=k(function(c){c.innerHTML="<div class='a'></div><div class='a i'></div>";c.firstChild.className="i";return 2===c.getElementsByClassName("i").length});A.getById=k(function(c){ha.appendChild(c).id=I;return!a.getElementsByName||!a.getElementsByName(I).length});A.getById?(H.find.ID=function(c,a){if(typeof a.getElementById!==ja&&W){var e=a.getElementById(c);return e&&e.parentNode?[e]:[]}},
H.filter.ID=function(c){var a=c.replace(wa,xa);return function(c){return c.getAttribute("id")===a}}):(delete H.find.ID,H.filter.ID=function(c){var a=c.replace(wa,xa);return function(c){return(c=typeof c.getAttributeNode!==ja&&c.getAttributeNode("id"))&&c.value===a}});H.find.TAG=A.getElementsByTagName?function(c,a){if(typeof a.getElementsByTagName!==ja)return a.getElementsByTagName(c)}:function(c,a){var e,d=[],p=0,b=a.getElementsByTagName(c);if("*"===c){for(;e=b[p++];)1===e.nodeType&&d.push(e);return d}return b};
H.find.CLASS=A.getElementsByClassName&&function(c,a){if(typeof a.getElementsByClassName!==ja&&W)return a.getElementsByClassName(c)};ia=[];ba=[];if(A.qsa=na.test(a.querySelectorAll))k(function(c){c.innerHTML="<select><option selected=''></option></select>";c.querySelectorAll("[selected]").length||ba.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");c.querySelectorAll(":checked").length||
ba.push(":checked")}),k(function(c){var e=a.createElement("input");e.setAttribute("type","hidden");c.appendChild(e).setAttribute("t","");c.querySelectorAll("[t^='']").length&&ba.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll(":enabled").length||ba.push(":enabled",":disabled");c.querySelectorAll("*,:x");ba.push(",.*:")});(A.matchesSelector=na.test(ma=ha.webkitMatchesSelector||ha.mozMatchesSelector||ha.oMatchesSelector||ha.msMatchesSelector))&&k(function(c){A.disconnectedMatch=ma.call(c,
"div");ma.call(c,"[s!='']:x");ia.push("!=",X)});ba=ba.length&&new RegExp(ba.join("|"));ia=ia.length&&new RegExp(ia.join("|"));oa=na.test(ha.contains)||ha.compareDocumentPosition?function(c,a){var e=9===c.nodeType?c.documentElement:c,d=a&&a.parentNode;return c===d||!!(d&&1===d.nodeType&&(e.contains?e.contains(d):c.compareDocumentPosition&&c.compareDocumentPosition(d)&16))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1};S=ha.compareDocumentPosition?function(c,e){if(c===e)return Q=
!0,0;var d=e.compareDocumentPosition&&c.compareDocumentPosition&&c.compareDocumentPosition(e);return d?d&1||!A.sortDetached&&e.compareDocumentPosition(c)===d?c===a||oa(L,c)?-1:e===a||oa(L,e)?1:D?qa.call(D,c)-qa.call(D,e):0:d&4?-1:1:c.compareDocumentPosition?-1:1}:function(c,e){var d,p=0;d=c.parentNode;var b=e.parentNode,x=[c],k=[e];if(c===e)return Q=!0,0;if(!d||!b)return c===a?-1:e===a?1:d?-1:b?1:D?qa.call(D,c)-qa.call(D,e):0;if(d===b)return f(c,e);for(d=c;d=d.parentNode;)x.unshift(d);for(d=e;d=d.parentNode;)k.unshift(d);
for(;x[p]===k[p];)p++;return p?f(x[p],k[p]):x[p]===L?-1:k[p]===L?1:0};return a};p.matches=function(c,a){return p(c,null,null,a)};p.matchesSelector=function(c,a){(c.ownerDocument||c)!==F&&E(c);a=a.replace(ra,"='$1']");if(!(!A.matchesSelector||!W||ia&&ia.test(a)||ba&&ba.test(a)))try{var e=ma.call(c,a);if(e||A.disconnectedMatch||c.document&&11!==c.document.nodeType)return e}catch(d){}return 0<p(a,F,null,[c]).length};p.contains=function(c,a){(c.ownerDocument||c)!==F&&E(c);return oa(c,a)};p.attr=function(c,
e){(c.ownerDocument||c)!==F&&E(c);var d=H.attrHandle[e.toLowerCase()],d=d&&V.call(H.attrHandle,e.toLowerCase())?d(c,e,!W):a;return d===a?A.attributes||!W?c.getAttribute(e):(d=c.getAttributeNode(e))&&d.specified?d.value:null:d};p.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};p.uniqueSort=function(c){var a,e=[],d=0,p=0;Q=!A.detectDuplicates;D=!A.sortStable&&c.slice(0);c.sort(S);if(Q){for(;a=c[p++];)a===c[p]&&(d=e.push(p));for(;d--;)c.splice(e[d],1)}return c};B=p.getText=
function(c){var a,e="",d=0;a=c.nodeType;if(!a)for(;a=c[d];d++)e+=B(a);else if(1===a||9===a||11===a){if("string"===typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)e+=B(c)}else if(3===a||4===a)return c.nodeValue;return e};H=p.selectors={cacheLength:50,createPseudo:b,match:ga,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){c[1]=c[1].replace(wa,
xa);c[3]=(c[4]||c[5]||"").replace(wa,xa);"~="===c[2]&&(c[3]=" "+c[3]+" ");return c.slice(0,4)},CHILD:function(c){c[1]=c[1].toLowerCase();"nth"===c[1].slice(0,3)?(c[3]||p.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&p.error(c[0]);return c},PSEUDO:function(c){var e,d=!c[5]&&c[2];if(ga.CHILD.test(c[0]))return null;c[3]&&c[4]!==a?c[2]=c[4]:d&&sa.test(d)&&(e=q(d,!0))&&(e=d.indexOf(")",d.length-e)-d.length)&&(c[0]=c[0].slice(0,e),c[2]=d.slice(0,
e));return c.slice(0,3)}},filter:{TAG:function(c){var a=c.replace(wa,xa).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(c){var a=da[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),da(c,function(c){return a.test("string"===typeof c.className&&c.className||typeof c.getAttribute!==ja&&c.getAttribute("class")||"")}))},ATTR:function(c,a,e){return function(d){d=p.attr(d,c);if(null==d)return"!="===
a;if(!a)return!0;d+="";return"="===a?d===e:"!="===a?d!==e:"^="===a?e&&0===d.indexOf(e):"*="===a?e&&-1<d.indexOf(e):"$="===a?e&&d.slice(-e.length)===e:"~="===a?-1<(" "+d+" ").indexOf(e):"|="===a?d===e||d.slice(0,e.length+1)===e+"-":!1}},CHILD:function(c,a,e,d,p){var b="nth"!==c.slice(0,3),x="last"!==c.slice(-4),k="of-type"===a;return 1===d&&0===p?function(c){return!!c.parentNode}:function(a,e,y){var h,f,n,N,P;e=b!==x?"nextSibling":"previousSibling";var g=a.parentNode,t=k&&a.nodeName.toLowerCase();
y=!y&&!k;if(g){if(b){for(;e;){for(f=a;f=f[e];)if(k?f.nodeName.toLowerCase()===t:1===f.nodeType)return!1;P=e="only"===c&&!P&&"nextSibling"}return!0}P=[x?g.firstChild:g.lastChild];if(x&&y)for(y=g[I]||(g[I]={}),h=y[c]||[],N=h[0]===O&&h[1],n=h[0]===O&&h[2],f=N&&g.childNodes[N];f=++N&&f&&f[e]||(n=N=0)||P.pop();){if(1===f.nodeType&&++n&&f===a){y[c]=[O,N,n];break}}else if(y&&(h=(a[I]||(a[I]={}))[c])&&h[0]===O)n=h[1];else for(;(f=++N&&f&&f[e]||(n=N=0)||P.pop())&&((k?f.nodeName.toLowerCase()!==t:1!==f.nodeType)||
!++n||(y&&((f[I]||(f[I]={}))[c]=[O,n]),f!==a)););n-=p;return n===d||0===n%d&&0<=n/d}}},PSEUDO:function(c,a){var e,d=H.pseudos[c]||H.setFilters[c.toLowerCase()]||p.error("unsupported pseudo: "+c);return d[I]?d(a):1<d.length?(e=[c,c,"",a],H.setFilters.hasOwnProperty(c.toLowerCase())?b(function(c,e){for(var p,b=d(c,a),x=b.length;x--;)p=qa.call(c,b[x]),c[p]=!(e[p]=b[x])}):function(c){return d(c,0,e)}):d}},pseudos:{not:b(function(c){var a=[],e=[],d=J(c.replace(Y,"$1"));return d[I]?b(function(c,a,e,p){p=
d(c,null,p,[]);for(var b=c.length;b--;)if(e=p[b])c[b]=!(a[b]=e)}):function(c,p,b){a[0]=c;d(a,null,b,e);return!e.pop()}}),has:b(function(c){return function(a){return 0<p(c,a).length}}),contains:b(function(c){return function(a){return-1<(a.textContent||a.innerText||B(a)).indexOf(c)}}),lang:b(function(c){ta.test(c||"")||p.error("unsupported lang: "+c);c=c.replace(wa,xa).toLowerCase();return function(a){var e;do if(e=W?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return e=e.toLowerCase(),
e===c||0===e.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var e=c.location&&c.location.hash;return e&&e.slice(1)===a.id},root:function(c){return c===ha},focus:function(c){return c===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){c.parentNode&&
c.parentNode.selectedIndex;return!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if("@"<c.nodeName||3===c.nodeType||4===c.nodeType)return!1;return!0},parent:function(c){return!H.pseudos.empty(c)},header:function(c){return ya.test(c.nodeName)},input:function(c){return va.test(c.nodeName)},button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==
(a=c.getAttribute("type"))||a.toLowerCase()===c.type)},first:g(function(){return[0]}),last:g(function(c,a){return[a-1]}),eq:g(function(c,a,e){return[0>e?e+a:e]}),even:g(function(c,a){for(var e=0;e<a;e+=2)c.push(e);return c}),odd:g(function(c,a){for(var e=1;e<a;e+=2)c.push(e);return c}),lt:g(function(c,a,e){for(a=0>e?e+a:e;0<=--a;)c.push(a);return c}),gt:g(function(c,a,e){for(e=0>e?e+a:e;++e<a;)c.push(e);return c})}};H.pseudos.nth=H.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[z]=
n(z);for(z in{submit:!0,reset:!0})H.pseudos[z]=t(z);m.prototype=H.filters=H.pseudos;H.setFilters=new m;J=p.compile=function(c,a){var e,d=[],p=[],b=pa[c+" "];if(!b){a||(a=q(c));for(e=a.length;e--;)b=G(a[e]),b[I]?d.push(b):p.push(b);b=pa(c,C(p,d))}return b};A.sortStable=I.split("").sort(S).join("")===I;A.detectDuplicates=Q;E();A.sortDetached=k(function(c){return c.compareDocumentPosition(F.createElement("div"))&1});k(function(c){c.innerHTML="<a href='#'></a>";return"#"===c.firstChild.getAttribute("href")})||
h("type|href|height|width",function(c,a,e){if(!e)return c.getAttribute(a,"type"===a.toLowerCase()?1:2)});A.attributes&&k(function(c){c.innerHTML="<input/>";c.firstChild.setAttribute("value","");return""===c.firstChild.getAttribute("value")})||h("value",function(c,a,e){if(!e&&"input"===c.nodeName.toLowerCase())return c.defaultValue});k(function(c){return null==c.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(c,a,e){var d;if(!e)return(d=c.getAttributeNode(a))&&d.specified?d.value:!0===c[a]?a.toLowerCase():null});e.find=p;e.expr=p.selectors;e.expr[":"]=e.expr.pseudos;e.unique=p.uniqueSort;e.text=p.getText;e.isXMLDoc=p.isXML;e.contains=p.contains})(a);var $a={};e.Callbacks=function(c){c="string"===typeof c?$a[c]||g(c):e.extend({},c);var a,d,k,h,f,n,t=[],m=!c.once&&[],q=function(e){d=c.memory&&e;k=!0;f=n||0;n=0;h=t.length;for(a=!0;t&&f<h;f++)if(!1===t[f].apply(e[0],e[1])&&c.stopOnFalse){d=!1;break}a=
!1;t&&(m?m.length&&q(m.shift()):d?t=[]:l.disable())},l={add:function(){if(t){var b=t.length;(function Nb(a){e.each(a,function(a,d){var p=e.type(d);"function"===p?c.unique&&l.has(d)||t.push(d):d&&d.length&&"string"!==p&&Nb(d)})})(arguments);a?h=t.length:d&&(n=b,q(d))}return this},remove:function(){t&&e.each(arguments,function(c,d){for(var p;-1<(p=e.inArray(d,t,p));)t.splice(p,1),a&&(p<=h&&h--,p<=f&&f--)});return this},has:function(c){return c?-1<e.inArray(c,t):!(!t||!t.length)},empty:function(){t=
[];h=0;return this},disable:function(){t=m=d=b;return this},disabled:function(){return!t},lock:function(){m=b;d||l.disable();return this},locked:function(){return!m},fireWith:function(c,e){!t||k&&!m||(e=e||[],e=[c,e.slice?e.slice():e],a?m.push(e):q(e));return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!k}};return l};e.extend({Deferred:function(c){var a=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],
["notify","progress",e.Callbacks("memory")]],d="pending",b={state:function(){return d},always:function(){k.done(arguments).fail(arguments);return this},then:function(){var c=arguments;return e.Deferred(function(d){e.each(a,function(a,p){var x=p[0],h=e.isFunction(c[a])&&c[a];k[p[1]](function(){var c=h&&h.apply(this,arguments);if(c&&e.isFunction(c.promise))c.promise().done(d.resolve).fail(d.reject).progress(d.notify);else d[x+"With"](this===b?d.promise():this,h?[c]:arguments)})});c=null}).promise()},
promise:function(c){return null!=c?e.extend(c,b):b}},k={};b.pipe=b.then;e.each(a,function(c,e){var h=e[2],f=e[3];b[e[1]]=h.add;f&&h.add(function(){d=f},a[c^1][2].disable,a[2][2].lock);k[e[0]]=function(){k[e[0]+"With"](this===k?b:this,arguments);return this};k[e[0]+"With"]=h.fireWith});b.promise(k);c&&c.call(k,k);return k},when:function(c){var a=0,d=pa.call(arguments),b=d.length,k=1!==b||c&&e.isFunction(c.promise)?b:0,h=1===k?c:e.Deferred(),f=function(c,a,e){return function(d){a[c]=this;e[c]=1<arguments.length?
pa.call(arguments):d;e===n?h.notifyWith(a,e):--k||h.resolveWith(a,e)}},n,t,g;if(1<b)for(n=Array(b),t=Array(b),g=Array(b);a<b;a++)d[a]&&e.isFunction(d[a].promise)?d[a].promise().done(f(a,g,d)).fail(h.reject).progress(f(a,t,n)):--k;k||h.resolveWith(g,d);return h.promise()}});e.support=function(c){var d,p,b,k,h,f,n=F.createElement("div");n.setAttribute("className","t");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";d=n.getElementsByTagName("*")||[];p=n.getElementsByTagName("a")[0];
if(!p||!p.style||!d.length)return c;b=F.createElement("select");k=b.appendChild(F.createElement("option"));d=n.getElementsByTagName("input")[0];p.style.cssText="top:1px;float:left;opacity:.5";c.getSetAttribute="t"!==n.className;c.leadingWhitespace=3===n.firstChild.nodeType;c.tbody=!n.getElementsByTagName("tbody").length;c.htmlSerialize=!!n.getElementsByTagName("link").length;c.style=/top/.test(p.getAttribute("style"));c.hrefNormalized="/a"===p.getAttribute("href");c.opacity=/^0.5/.test(p.style.opacity);
c.cssFloat=!!p.style.cssFloat;c.checkOn=!!d.value;c.optSelected=k.selected;c.enctype=!!F.createElement("form").enctype;c.html5Clone="<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML;c.inlineBlockNeedsLayout=!1;c.shrinkWrapBlocks=!1;c.pixelPosition=!1;c.deleteExpando=!0;c.noCloneEvent=!0;c.reliableMarginRight=!0;c.boxSizingReliable=!0;d.checked=!0;c.noCloneChecked=d.cloneNode(!0).checked;b.disabled=!0;c.optDisabled=!k.disabled;try{delete n.test}catch(t){c.deleteExpando=!1}d=F.createElement("input");
d.setAttribute("value","");c.input=""===d.getAttribute("value");d.value="t";d.setAttribute("type","radio");c.radioValue="t"===d.value;d.setAttribute("checked","t");d.setAttribute("name","t");p=F.createDocumentFragment();p.appendChild(d);c.appendChecked=d.checked;c.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked;n.attachEvent&&(n.attachEvent("onclick",function(){c.noCloneEvent=!1}),n.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})n.setAttribute(p="on"+f,"t"),c[f+"Bubbles"]=
p in a||!1===n.attributes[p].expando;n.style.backgroundClip="content-box";n.cloneNode(!0).style.backgroundClip="";c.clearCloneStyle="content-box"===n.style.backgroundClip;for(f in e(c))break;c.ownLast="0"!==f;e(function(){var d,p,b=F.getElementsByTagName("body")[0];b&&(d=F.createElement("div"),d.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b.appendChild(d).appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",p=n.getElementsByTagName("td"),
p[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===p[0].offsetHeight,p[0].style.display="",p[1].style.display="none",c.reliableHiddenOffsets=h&&0===p[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.swap(b,null!=b.style.zoom?{zoom:1}:{},function(){c.boxSizing=4===n.offsetWidth}),a.getComputedStyle&&(c.pixelPosition=
"1%"!==(a.getComputedStyle(n,null)||{}).top,c.boxSizingReliable="4px"===(a.getComputedStyle(n,null)||{width:"4px"}).width,p=n.appendChild(F.createElement("div")),p.style.cssText=n.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",p.style.marginRight=p.style.width="0",n.style.width="1px",c.reliableMarginRight=!parseFloat((a.getComputedStyle(p,null)||{}).marginRight)),typeof n.style.zoom!==da&&(n.innerHTML="",
n.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",c.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.innerHTML="<div></div>",n.firstChild.style.width="5px",c.shrinkWrapBlocks=3!==n.offsetWidth),b.removeChild(d),d=n=p=p=null)});d=b=p=k=p=d=null;return c}({});var zb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,yb=/([A-Z])/g;e.extend({cache:{},noData:{applet:!0,
embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(c){c=c.nodeType?e.cache[c[e.expando]]:c[e.expando];return!!c&&!m(c)},data:function(c,a,e){return l(c,a,e)},removeData:function(c,a){return r(c,a)},_data:function(c,a,e){return l(c,a,e,!0)},_removeData:function(c,a){return r(c,a,!0)},acceptData:function(c){if(c.nodeType&&1!==c.nodeType&&9!==c.nodeType)return!1;var a=c.nodeName&&e.noData[c.nodeName.toLowerCase()];return!a||!0!==a&&c.getAttribute("classid")===a}});e.fn.extend({data:function(c,
a){var d,k,h=null,f=0,n=this[0];if(c===b){if(this.length&&(h=e.data(n),1===n.nodeType&&!e._data(n,"parsedAttrs"))){for(d=n.attributes;f<d.length;f++)k=d[f].name,0===k.indexOf("data-")&&(k=e.camelCase(k.slice(5)),v(n,k,h[k]));e._data(n,"parsedAttrs",!0)}return h}return"object"===typeof c?this.each(function(){e.data(this,c)}):1<arguments.length?this.each(function(){e.data(this,c,a)}):n?v(n,c,e.data(n,c)):null},removeData:function(c){return this.each(function(){e.removeData(this,c)})}});e.extend({queue:function(c,
a,d){var b;if(c)return a=(a||"fx")+"queue",b=e._data(c,a),d&&(!b||e.isArray(d)?b=e._data(c,a,e.makeArray(d)):b.push(d)),b||[]},dequeue:function(c,a){a=a||"fx";var d=e.queue(c,a),b=d.length,k=d.shift(),h=e._queueHooks(c,a),f=function(){e.dequeue(c,a)};"inprogress"===k&&(k=d.shift(),b--);k&&("fx"===a&&d.unshift("inprogress"),delete h.stop,k.call(c,f,h));!b&&h&&h.empty.fire()},_queueHooks:function(c,a){var d=a+"queueHooks";return e._data(c,d)||e._data(c,d,{empty:e.Callbacks("once memory").add(function(){e._removeData(c,
a+"queue");e._removeData(c,d)})})}});e.fn.extend({queue:function(c,a){var d=2;"string"!==typeof c&&(a=c,c="fx",d--);return arguments.length<d?e.queue(this[0],c):a===b?this:this.each(function(){var d=e.queue(this,c,a);e._queueHooks(this,c);"fx"===c&&"inprogress"!==d[0]&&e.dequeue(this,c)})},dequeue:function(c){return this.each(function(){e.dequeue(this,c)})},delay:function(c,a){c=e.fx?e.fx.speeds[c]||c:c;return this.queue(a||"fx",function(a,e){var d=setTimeout(a,c);e.stop=function(){clearTimeout(d)}})},
clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var d,k=1,h=e.Deferred(),f=this,n=this.length,t=function(){--k||h.resolveWith(f,[f])};"string"!==typeof c&&(a=c,c=b);for(c=c||"fx";n--;)(d=e._data(f[n],c+"queueHooks"))&&d.empty&&(k++,d.empty.add(t));t();return h.promise(a)}});var Aa,fb,Qa=/[\t\r\n\f]/g,Ob=/\r/g,Pb=/^(?:input|select|textarea|button|object)$/i,Qb=/^(?:a|area)$/i,Ra=/^(?:checked|selected)$/i,na=e.support.getSetAttribute,Ma=e.support.input;e.fn.extend({attr:function(c,
a){return e.access(this,e.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){e.removeAttr(this,c)})},prop:function(c,a){return e.access(this,e.prop,c,a,1<arguments.length)},removeProp:function(c){c=e.propFix[c]||c;return this.each(function(){try{this[c]=b,delete this[c]}catch(a){}})},addClass:function(c){var a,d,b,k,h,f=0,n=this.length;a="string"===typeof c&&c;if(e.isFunction(c))return this.each(function(a){e(this).addClass(c.call(this,a,this.className))});if(a)for(a=
(c||"").match(la)||[];f<n;f++)if(d=this[f],b=1===d.nodeType&&(d.className?(" "+d.className+" ").replace(Qa," "):" ")){for(h=0;k=a[h++];)0>b.indexOf(" "+k+" ")&&(b+=k+" ");d.className=e.trim(b)}return this},removeClass:function(c){var a,d,b,k,h,f=0,n=this.length;a=0===arguments.length||"string"===typeof c&&c;if(e.isFunction(c))return this.each(function(a){e(this).removeClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(la)||[];f<n;f++)if(d=this[f],b=1===d.nodeType&&(d.className?(" "+d.className+
" ").replace(Qa," "):"")){for(h=0;k=a[h++];)for(;0<=b.indexOf(" "+k+" ");)b=b.replace(" "+k+" "," ");d.className=c?e.trim(b):""}return this},toggleClass:function(c,a){var d=typeof c;return"boolean"===typeof a&&"string"===d?a?this.addClass(c):this.removeClass(c):e.isFunction(c)?this.each(function(d){e(this).toggleClass(c.call(this,d,this.className,a),a)}):this.each(function(){if("string"===d)for(var a,b=0,x=e(this),k=c.match(la)||[];a=k[b++];)x.hasClass(a)?x.removeClass(a):x.addClass(a);else if(d===
da||"boolean"===d)this.className&&e._data(this,"__className__",this.className),this.className=this.className||!1===c?"":e._data(this,"__className__")||""})},hasClass:function(c){c=" "+c+" ";for(var a=0,e=this.length;a<e;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(Qa," ").indexOf(c))return!0;return!1},val:function(c){var a,d,k,h=this[0];if(arguments.length)return k=e.isFunction(c),this.each(function(a){1===this.nodeType&&(a=k?c.call(this,a,e(this).val()):c,null==a?a="":"number"===
typeof a?a+="":e.isArray(a)&&(a=e.map(a,function(c){return null==c?"":c+""})),d=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,a,"value")!==b||(this.value=a))});if(h){if((d=e.valHooks[h.type]||e.valHooks[h.nodeName.toLowerCase()])&&"get"in d&&(a=d.get(h,"value"))!==b)return a;a=h.value;return"string"===typeof a?a.replace(Ob,""):null==a?"":a}}});e.extend({valHooks:{option:{get:function(c){var a=e.find.attr(c,"value");return null!=a?a:c.text}},select:{get:function(c){for(var a,
d=c.options,b=c.selectedIndex,k=(c="select-one"===c.type||0>b)?null:[],h=c?b+1:d.length,f=0>b?h:c?b:0;f<h;f++)if(a=d[f],!(!a.selected&&f!==b||(e.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&e.nodeName(a.parentNode,"optgroup"))){a=e(a).val();if(c)return a;k.push(a)}return k},set:function(c,a){for(var d,b,k=c.options,h=e.makeArray(a),f=k.length;f--;)if(b=k[f],b.selected=0<=e.inArray(e(b).val(),h))d=!0;d||(c.selectedIndex=-1);return h}}},attr:function(c,a,
d){var k,h,f=c.nodeType;if(c&&3!==f&&8!==f&&2!==f){if(typeof c.getAttribute===da)return e.prop(c,a,d);1===f&&e.isXMLDoc(c)||(a=a.toLowerCase(),k=e.attrHooks[a]||(e.expr.match.bool.test(a)?fb:Aa));if(d!==b)if(null===d)e.removeAttr(c,a);else{if(k&&"set"in k&&(h=k.set(c,d,a))!==b)return h;c.setAttribute(a,d+"");return d}else{if(k&&"get"in k&&null!==(h=k.get(c,a)))return h;h=e.find.attr(c,a);return null==h?b:h}}},removeAttr:function(c,a){var d,b,k=0,h=a&&a.match(la);if(h&&1===c.nodeType)for(;d=h[k++];)b=
e.propFix[d]||d,e.expr.match.bool.test(d)?Ma&&na||!Ra.test(d)?c[b]=!1:c[e.camelCase("default-"+d)]=c[b]=!1:e.attr(c,d,""),c.removeAttribute(na?d:b)},attrHooks:{type:{set:function(c,a){if(!e.support.radioValue&&"radio"===a&&e.nodeName(c,"input")){var d=c.value;c.setAttribute("type",a);d&&(c.value=d);return a}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(c,a,d){var k,h,f;f=c.nodeType;if(c&&3!==f&&8!==f&&2!==f){if(f=1!==f||!e.isXMLDoc(c))a=e.propFix[a]||a,h=e.propHooks[a];return d!==
b?h&&"set"in h&&(k=h.set(c,d,a))!==b?k:c[a]=d:h&&"get"in h&&null!==(k=h.get(c,a))?k:c[a]}},propHooks:{tabIndex:{get:function(c){var a=e.find.attr(c,"tabindex");return a?parseInt(a,10):Pb.test(c.nodeName)||Qb.test(c.nodeName)&&c.href?0:-1}}}});fb={set:function(c,a,d){!1===a?e.removeAttr(c,d):Ma&&na||!Ra.test(d)?c.setAttribute(!na&&e.propFix[d]||d,d):c[e.camelCase("default-"+d)]=c[d]=!0;return d}};e.each(e.expr.match.bool.source.match(/\w+/g),function(c,a){var d=e.expr.attrHandle[a]||e.find.attr;e.expr.attrHandle[a]=
Ma&&na||!Ra.test(a)?function(c,a,k){var x=e.expr.attrHandle[a];c=k?b:(e.expr.attrHandle[a]=b)!=d(c,a,k)?a.toLowerCase():null;e.expr.attrHandle[a]=x;return c}:function(c,a,d){return d?b:c[e.camelCase("default-"+a)]?a.toLowerCase():null}});Ma&&na||(e.attrHooks.value={set:function(c,a,d){if(e.nodeName(c,"input"))c.defaultValue=a;else return Aa&&Aa.set(c,a,d)}});na||(Aa={set:function(c,a,e){var d=c.getAttributeNode(e);d||c.setAttributeNode(d=c.ownerDocument.createAttribute(e));d.value=a+="";return"value"===
e||a===c.getAttribute(e)?a:b}},e.expr.attrHandle.id=e.expr.attrHandle.name=e.expr.attrHandle.coords=function(c,a,e){var d;return e?b:(d=c.getAttributeNode(a))&&""!==d.value?d.value:null},e.valHooks.button={get:function(c,a){var e=c.getAttributeNode(a);return e&&e.specified?e.value:b},set:Aa.set},e.attrHooks.contenteditable={set:function(c,a,e){Aa.set(c,""===a?!1:a,e)}},e.each(["width","height"],function(c,a){e.attrHooks[a]={set:function(c,e){if(""===e)return c.setAttribute(a,"auto"),e}}}));e.support.hrefNormalized||
e.each(["href","src"],function(c,a){e.propHooks[a]={get:function(c){return c.getAttribute(a,4)}}});e.support.style||(e.attrHooks.style={get:function(c){return c.style.cssText||b},set:function(c,a){return c.style.cssText=a+""}});e.support.optSelected||(e.propHooks.selected={get:function(c){if(c=c.parentNode)c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex;return null}});e.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){e.propFix[this.toLowerCase()]=this});e.support.enctype||(e.propFix.enctype="encoding");e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(c,a){if(e.isArray(a))return c.checked=0<=e.inArray(e(c).val(),a)}};e.support.checkOn||(e.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var Sa=/^(?:input|select|textarea)$/i,Rb=/^key/,Sb=/^(?:mouse|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,hb=/^([^.]*)(?:\.(.+)|)$/;e.event={global:{},
add:function(c,a,d,k,h){var f,n,t,g,m,q,l,u,K;if(t=e._data(c)){d.handler&&(g=d,d=g.handler,h=g.selector);d.guid||(d.guid=e.guid++);(n=t.events)||(n=t.events={});(m=t.handle)||(m=t.handle=function(c){return typeof e===da||c&&e.event.triggered===c.type?b:e.event.dispatch.apply(m.elem,arguments)},m.elem=c);a=(a||"").match(la)||[""];for(t=a.length;t--;)f=hb.exec(a[t])||[],u=q=f[1],K=(f[2]||"").split(".").sort(),u&&(f=e.event.special[u]||{},u=(h?f.delegateType:f.bindType)||u,f=e.event.special[u]||{},q=
e.extend({type:u,origType:q,data:k,handler:d,guid:d.guid,selector:h,needsContext:h&&e.expr.match.needsContext.test(h),namespace:K.join(".")},g),(l=n[u])||(l=n[u]=[],l.delegateCount=0,f.setup&&!1!==f.setup.call(c,k,K,m)||(c.addEventListener?c.addEventListener(u,m,!1):c.attachEvent&&c.attachEvent("on"+u,m))),f.add&&(f.add.call(c,q),q.handler.guid||(q.handler.guid=d.guid)),h?l.splice(l.delegateCount++,0,q):l.push(q),e.event.global[u]=!0);c=null}},remove:function(c,a,d,b,k){var h,f,n,t,g,m,q,l,u,K,r,
v=e.hasData(c)&&e._data(c);if(v&&(m=v.events)){a=(a||"").match(la)||[""];for(g=a.length;g--;)if(n=hb.exec(a[g])||[],u=r=n[1],K=(n[2]||"").split(".").sort(),u){q=e.event.special[u]||{};u=(b?q.delegateType:q.bindType)||u;l=m[u]||[];n=n[2]&&new RegExp("(^|\\.)"+K.join("\\.(?:.*\\.|)")+"(\\.|$)");for(t=h=l.length;h--;)f=l[h],!k&&r!==f.origType||d&&d.guid!==f.guid||n&&!n.test(f.namespace)||b&&b!==f.selector&&("**"!==b||!f.selector)||(l.splice(h,1),f.selector&&l.delegateCount--,q.remove&&q.remove.call(c,
f));t&&!l.length&&(q.teardown&&!1!==q.teardown.call(c,K,v.handle)||e.removeEvent(c,u,v.handle),delete m[u])}else for(u in m)e.event.remove(c,u+a[g],d,b,!0);e.isEmptyObject(m)&&(delete v.handle,e._removeData(c,"events"))}},trigger:function(c,d,p,k){var h,f,n,t,g,m,q=[p||F],l=ja.call(c,"type")?c.type:c;g=ja.call(c,"namespace")?c.namespace.split("."):[];n=h=p=p||F;if(3!==p.nodeType&&8!==p.nodeType&&!gb.test(l+e.event.triggered)&&(0<=l.indexOf(".")&&(g=l.split("."),l=g.shift(),g.sort()),f=0>l.indexOf(":")&&
"on"+l,c=c[e.expando]?c:new e.Event(l,"object"===typeof c&&c),c.isTrigger=k?2:3,c.namespace=g.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=p),d=null==d?[c]:e.makeArray(d,[c]),g=e.event.special[l]||{},k||!g.trigger||!1!==g.trigger.apply(p,d))){if(!k&&!g.noBubble&&!e.isWindow(p)){t=g.delegateType||l;gb.test(t+l)||(n=n.parentNode);for(;n;n=n.parentNode)q.push(n),h=n;h===(p.ownerDocument||F)&&q.push(h.defaultView||h.parentWindow||
a)}for(m=0;(n=q[m++])&&!c.isPropagationStopped();)c.type=1<m?t:g.bindType||l,(h=(e._data(n,"events")||{})[c.type]&&e._data(n,"handle"))&&h.apply(n,d),(h=f&&n[f])&&e.acceptData(n)&&h.apply&&!1===h.apply(n,d)&&c.preventDefault();c.type=l;if(!(k||c.isDefaultPrevented()||g._default&&!1!==g._default.apply(q.pop(),d))&&e.acceptData(p)&&f&&p[l]&&!e.isWindow(p)){(h=p[f])&&(p[f]=null);e.event.triggered=l;try{p[l]()}catch(u){}e.event.triggered=b;h&&(p[f]=h)}return c.result}},dispatch:function(c){c=e.event.fix(c);
var a,d,k,h,f,n=pa.call(arguments);a=(e._data(this,"events")||{})[c.type]||[];var t=e.event.special[c.type]||{};n[0]=c;c.delegateTarget=this;if(!t.preDispatch||!1!==t.preDispatch.call(this,c)){f=e.event.handlers.call(this,c,a);for(a=0;(k=f[a++])&&!c.isPropagationStopped();)for(c.currentTarget=k.elem,h=0;(d=k.handlers[h++])&&!c.isImmediatePropagationStopped();)if(!c.namespace_re||c.namespace_re.test(d.namespace))c.handleObj=d,c.data=d.data,d=((e.event.special[d.origType]||{}).handle||d.handler).apply(k.elem,
n),d!==b&&!1===(c.result=d)&&(c.preventDefault(),c.stopPropagation());t.postDispatch&&t.postDispatch.call(this,c);return c.result}},handlers:function(c,a){var d,k,h,f,n=[],t=a.delegateCount,g=c.target;if(t&&g.nodeType&&(!c.button||"click"!==c.type))for(;g!=this;g=g.parentNode||this)if(1===g.nodeType&&(!0!==g.disabled||"click"!==c.type)){h=[];for(f=0;f<t;f++)k=a[f],d=k.selector+" ",h[d]===b&&(h[d]=k.needsContext?0<=e(d,this).index(g):e.find(d,this,null,[g]).length),h[d]&&h.push(k);h.length&&n.push({elem:g,
handlers:h})}t<a.length&&n.push({elem:this,handlers:a.slice(t)});return n},fix:function(c){if(c[e.expando])return c;var a,d,b;a=c.type;var k=c,h=this.fixHooks[a];h||(this.fixHooks[a]=h=Sb.test(a)?this.mouseHooks:Rb.test(a)?this.keyHooks:{});b=h.props?this.props.concat(h.props):this.props;c=new e.Event(k);for(a=b.length;a--;)d=b[a],c[d]=k[d];c.target||(c.target=k.srcElement||F);3===c.target.nodeType&&(c.target=c.target.parentNode);c.metaKey=!!c.metaKey;return h.filter?h.filter(c,k):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,a){null==c.which&&(c.which=null!=a.charCode?a.charCode:a.keyCode);return c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,a){var d,e,k=a.button,h=a.fromElement;null==c.pageX&&null!=a.clientX&&(d=c.target.ownerDocument||F,e=d.documentElement,d=d.body,c.pageX=a.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||
d&&d.clientLeft||0),c.pageY=a.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0));!c.relatedTarget&&h&&(c.relatedTarget=h===c.target?a.toElement:h);c.which||k===b||(c.which=k&1?1:k&2?3:k&4?2:0);return c}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)try{return this.focus(),!1}catch(c){}},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(e.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(c){return e.nodeName(c.target,"a")}},beforeunload:{postDispatch:function(c){c.result!==b&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,a,d,b){c=e.extend(new e.Event,d,{type:c,isSimulated:!0,originalEvent:{}});b?e.event.trigger(c,null,a):e.event.dispatch.call(a,c);c.isDefaultPrevented()&&d.preventDefault()}};e.removeEvent=F.removeEventListener?function(c,a,d){c.removeEventListener&&c.removeEventListener(a,
d,!1)}:function(c,a,d){a="on"+a;c.detachEvent&&(typeof c[a]===da&&(c[a]=null),c.detachEvent(a,d))};e.Event=function(c,a){if(!(this instanceof e.Event))return new e.Event(c,a);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||!1===c.returnValue||c.getPreventDefault&&c.getPreventDefault()?w:z):this.type=c;a&&e.extend(this,a);this.timeStamp=c&&c.timeStamp||e.now();this[e.expando]=!0};e.Event.prototype={isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,
preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=w;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=w;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=w;this.stopPropagation()}};e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,a){e.event.special[c]={delegateType:a,bindType:a,handle:function(c){var d,
b=c.relatedTarget,k=c.handleObj;if(!b||b!==this&&!e.contains(this,b))c.type=k.origType,d=k.handler.apply(this,arguments),c.type=a;return d}}});e.support.submitBubbles||(e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return!1;e.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=e.nodeName(c,"input")||e.nodeName(c,"button")?c.form:b)&&!e._data(c,"submitBubbles")&&(e.event.add(c,"submit._submit",function(c){c._submit_bubble=!0}),e._data(c,"submitBubbles",!0))})},
postDispatch:function(c){c._submit_bubble&&(delete c._submit_bubble,this.parentNode&&!c.isTrigger&&e.event.simulate("submit",this.parentNode,c,!0))},teardown:function(){if(e.nodeName(this,"form"))return!1;e.event.remove(this,"._submit")}});e.support.changeBubbles||(e.event.special.change={setup:function(){if(Sa.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)e.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this._just_changed=!0)}),
e.event.add(this,"click._change",function(c){this._just_changed&&!c.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,c,!0)});return!1}e.event.add(this,"beforeactivate._change",function(c){c=c.target;Sa.test(c.nodeName)&&!e._data(c,"changeBubbles")&&(e.event.add(c,"change._change",function(c){!this.parentNode||c.isSimulated||c.isTrigger||e.event.simulate("change",this.parentNode,c,!0)}),e._data(c,"changeBubbles",!0))})},handle:function(c){var a=c.target;if(this!==a||c.isSimulated||
c.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return c.handleObj.handler.apply(this,arguments)},teardown:function(){e.event.remove(this,"._change");return!Sa.test(this.nodeName)}});e.support.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(c,a){var d=0,b=function(c){e.event.simulate(a,c.target,e.event.fix(c),!0)};e.event.special[a]={setup:function(){0===d++&&F.addEventListener(c,b,!0)},teardown:function(){0===--d&&F.removeEventListener(c,b,!0)}}});e.fn.extend({on:function(c,
a,d,k,h){var f,n;if("object"===typeof c){"string"!==typeof a&&(d=d||a,a=b);for(f in c)this.on(f,a,d,c[f],h);return this}null==d&&null==k?(k=a,d=a=b):null==k&&("string"===typeof a?(k=d,d=b):(k=d,d=a,a=b));if(!1===k)k=z;else if(!k)return this;1===h&&(n=k,k=function(c){e().off(c);return n.apply(this,arguments)},k.guid=n.guid||(n.guid=e.guid++));return this.each(function(){e.event.add(this,c,k,d,a)})},one:function(c,a,d,e){return this.on(c,a,d,e,1)},off:function(c,a,d){var k;if(c&&c.preventDefault&&c.handleObj)return k=
c.handleObj,e(c.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this;if("object"===typeof c){for(k in c)this.off(k,a,c[k]);return this}if(!1===a||"function"===typeof a)d=a,a=b;!1===d&&(d=z);return this.each(function(){e.event.remove(this,c,d,a)})},trigger:function(c,a){return this.each(function(){e.event.trigger(c,a,this)})},triggerHandler:function(c,a){var d=this[0];if(d)return e.event.trigger(c,a,d,!0)}});var Ab=/^.[^:#\[\.,]*$/,Tb=/^(?:parents|prev(?:Until|All))/,
ib=e.expr.match.needsContext,Ub={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(c){var a,d=[],b=this,k=b.length;if("string"!==typeof c)return this.pushStack(e(c).filter(function(){for(a=0;a<k;a++)if(e.contains(b[a],this))return!0}));for(a=0;a<k;a++)e.find(c,b[a],d);d=this.pushStack(1<k?e.unique(d):d);d.selector=this.selector?this.selector+" "+c:c;return d},has:function(c){var a,d=e(c,this),b=d.length;return this.filter(function(){for(a=0;a<b;a++)if(e.contains(this,d[a]))return!0})},
not:function(c){return this.pushStack(G(this,c||[],!0))},filter:function(c){return this.pushStack(G(this,c||[],!1))},is:function(c){return!!G(this,"string"===typeof c&&ib.test(c)?e(c):c||[],!1).length},closest:function(c,a){for(var d,b=0,k=this.length,h=[],f=ib.test(c)||"string"!==typeof c?e(c,a||this.context):0;b<k;b++)for(d=this[b];d&&d!==a;d=d.parentNode)if(11>d.nodeType&&(f?-1<f.index(d):1===d.nodeType&&e.find.matchesSelector(d,c))){h.push(d);break}return this.pushStack(1<h.length?e.unique(h):
h)},index:function(c){return c?"string"===typeof c?e.inArray(this[0],e(c)):e.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){var d="string"===typeof c?e(c,a):e.makeArray(c&&c.nodeType?[c]:c),d=e.merge(this.get(),d);return this.pushStack(e.unique(d))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});e.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return e.dir(c,
"parentNode")},parentsUntil:function(c,a,d){return e.dir(c,"parentNode",d)},next:function(c){return u(c,"nextSibling")},prev:function(c){return u(c,"previousSibling")},nextAll:function(c){return e.dir(c,"nextSibling")},prevAll:function(c){return e.dir(c,"previousSibling")},nextUntil:function(c,a,d){return e.dir(c,"nextSibling",d)},prevUntil:function(c,a,d){return e.dir(c,"previousSibling",d)},siblings:function(c){return e.sibling((c.parentNode||{}).firstChild,c)},children:function(c){return e.sibling(c.firstChild)},
contents:function(c){return e.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:e.merge([],c.childNodes)}},function(c,a){e.fn[c]=function(d,b){var k=e.map(this,a,d);"Until"!==c.slice(-5)&&(b=d);b&&"string"===typeof b&&(k=e.filter(b,k));1<this.length&&(Ub[c]||(k=e.unique(k)),Tb.test(c)&&(k=k.reverse()));return this.pushStack(k)}});e.extend({filter:function(c,a,d){var b=a[0];d&&(c=":not("+c+")");return 1===a.length&&1===b.nodeType?e.find.matchesSelector(b,c)?[b]:[]:e.find.matches(c,e.grep(a,
function(c){return 1===c.nodeType}))},dir:function(c,a,d){var k=[];for(c=c[a];c&&9!==c.nodeType&&(d===b||1!==c.nodeType||!e(c).is(d));)1===c.nodeType&&k.push(c),c=c[a];return k},sibling:function(a,d){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==d&&e.push(a);return e}});var ab="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,jb=new RegExp("<(?:"+ab+")[\\s/>]",
"i"),Ta=/^\s+/,kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,lb=/<([\w:]+)/,mb=/<tbody/i,Wb=/<|&#?\w+;/,Xb=/<(?:script|style|link)/i,Oa=/^(?:checkbox|radio)$/i,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/^$|\/(?:java|ecma)script/i,Bb=/^true\/(.*)/,Zb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ca={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:e.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ua=A(F).appendChild(F.createElement("div"));ca.optgroup=ca.option;ca.tbody=ca.tfoot=ca.colgroup=ca.caption=ca.thead;ca.th=ca.td;e.fn.extend({text:function(a){return e.access(this,function(a){return a===b?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||B(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=B(this,a);d.insertBefore(a,d.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,d){for(var b,k=a?e.filter(a,this):this,h=0;null!=(b=k[h]);h++)d||1!==b.nodeType||e.cleanData(I(b)),b.parentNode&&(d&&e.contains(b.ownerDocument,b)&&E(I(b,"script")),b.parentNode.removeChild(b));return this},empty:function(){for(var a,d=0;null!=(a=this[d]);d++){for(1===a.nodeType&&e.cleanData(I(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&e.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,d){a=null==a?!1:a;d=null==d?a:d;return this.map(function(){return e.clone(this,a,d)})},html:function(a){return e.access(this,function(a){var c=this[0]||{},d=0,k=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!==typeof a||Xb.test(a)||!e.support.htmlSerialize&&jb.test(a)||!e.support.leadingWhitespace&&Ta.test(a)||ca[(lb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(kb,"<$1></$2>");try{for(;d<k;d++)c=this[d]||{},1===c.nodeType&&(e.cleanData(I(c,
!1)),c.innerHTML=a);c=0}catch(h){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=e.map(this,function(a){return[a.nextSibling,a.parentNode]}),d=0;this.domManip(arguments,function(b){var k=a[d++],h=a[d++];h&&(k&&k.parentNode!==h&&(k=this.nextSibling),e(this).remove(),h.insertBefore(b,k))},!0);return d?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,d,b){a=Ja.apply([],a);var k,h,f,n,t=0,g=this.length,m=this,q=g-1,l=a[0],u=e.isFunction(l);
if(u||!(1>=g||"string"!==typeof l||e.support.checkClone)&&Yb.test(l))return this.each(function(e){var k=m.eq(e);u&&(a[0]=l.call(this,e,k.html()));k.domManip(a,d,b)});if(g&&(n=e.buildFragment(a,this[0].ownerDocument,!1,!b&&this),k=n.firstChild,1===n.childNodes.length&&(n=k),k)){f=e.map(I(n,"script"),J);for(h=f.length;t<g;t++)k=n,t!==q&&(k=e.clone(k,!0,!0),h&&e.merge(f,I(k,"script"))),d.call(this[t],k,t);if(h)for(n=f[f.length-1].ownerDocument,e.map(f,D),t=0;t<h;t++)k=f[t],nb.test(k.type||"")&&!e._data(k,
"globalEval")&&e.contains(n,k)&&(k.src?e._evalUrl(k.src):e.globalEval((k.text||k.textContent||k.innerHTML||"").replace(Zb,"")));n=k=null}return this}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,d){e.fn[a]=function(a){for(var c=0,b=[],k=e(a),h=k.length-1;c<=h;c++)a=c===h?this:this.clone(!0),e(k[c])[d](a),za.apply(b,a.get());return this.pushStack(b)}});e.extend({clone:function(a,d,b){var k,h,f,n,t,g=e.contains(a.ownerDocument,
a);e.support.html5Clone||e.isXMLDoc(a)||!jb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ua.innerHTML=a.outerHTML,Ua.removeChild(f=Ua.firstChild));if(!(e.support.noCloneEvent&&e.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||e.isXMLDoc(a)))for(k=I(f),t=I(a),n=0;null!=(h=t[n]);++n)if(k[n]){var m=k[n],q,l=void 0,u;if(1===m.nodeType){q=m.nodeName.toLowerCase();if(!e.support.noCloneEvent&&m[e.expando]){u=e._data(m);for(l in u.events)e.removeEvent(m,l,u.handle);m.removeAttribute(e.expando)}if("script"===
q&&m.text!==h.text)J(m).text=h.text,D(m);else if("object"===q)m.parentNode&&(m.outerHTML=h.outerHTML),e.support.html5Clone&&h.innerHTML&&!e.trim(m.innerHTML)&&(m.innerHTML=h.innerHTML);else if("input"===q&&Oa.test(h.type))m.defaultChecked=m.checked=h.checked,m.value!==h.value&&(m.value=h.value);else if("option"===q)m.defaultSelected=m.selected=h.defaultSelected;else if("input"===q||"textarea"===q)m.defaultValue=h.defaultValue}}if(d)if(b)for(t=t||I(a),k=k||I(f),n=0;null!=(h=t[n]);n++)O(h,k[n]);else O(a,
f);k=I(f,"script");0<k.length&&E(k,!g&&I(a,"script"));return f},buildFragment:function(a,d,b,k){for(var h,f,n,t,g,m,l=a.length,u=A(d),K=[],r=0;r<l;r++)if((f=a[r])||0===f)if("object"===e.type(f))e.merge(K,f.nodeType?[f]:f);else if(Wb.test(f)){n=n||u.appendChild(d.createElement("div"));t=(lb.exec(f)||["",""])[1].toLowerCase();m=ca[t]||ca._default;n.innerHTML=m[1]+f.replace(kb,"<$1></$2>")+m[2];for(h=m[0];h--;)n=n.lastChild;!e.support.leadingWhitespace&&Ta.test(f)&&K.push(d.createTextNode(Ta.exec(f)[0]));
if(!e.support.tbody)for(h=(f="table"!==t||mb.test(f)?"<table>"!==m[1]||mb.test(f)?0:n:n.firstChild)&&f.childNodes.length;h--;)e.nodeName(g=f.childNodes[h],"tbody")&&!g.childNodes.length&&f.removeChild(g);e.merge(K,n.childNodes);for(n.textContent="";n.firstChild;)n.removeChild(n.firstChild);n=u.lastChild}else K.push(d.createTextNode(f));n&&u.removeChild(n);e.support.appendChecked||e.grep(I(K,"input"),q);for(r=0;f=K[r++];)if(!k||-1===e.inArray(f,k))if(a=e.contains(f.ownerDocument,f),n=I(u.appendChild(f),
"script"),a&&E(n),b)for(h=0;f=n[h++];)nb.test(f.type||"")&&b.push(f);return u},cleanData:function(a,d){for(var b,k,h,f,n=0,t=e.expando,g=e.cache,m=e.support.deleteExpando,q=e.event.special;null!=(b=a[n]);n++)if(d||e.acceptData(b))if(f=(h=b[t])&&g[h]){if(f.events)for(k in f.events)q[k]?e.event.remove(b,k):e.removeEvent(b,k,f.handle);g[h]&&(delete g[h],m?delete b[t]:typeof b.removeAttribute!==da?b.removeAttribute(t):b[t]=null,ma.push(h))}},_evalUrl:function(a){return e.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}});e.fn.extend({wrapAll:function(a){if(e.isFunction(a))return this.each(function(d){e(this).wrapAll(a.call(this,d))});if(this[0]){var d=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(d){e(this).wrapInner(a.call(this,d))}):this.each(function(){var d=
e(this),b=d.contents();b.length?b.wrapAll(a):d.append(a)})},wrap:function(a){var d=e.isFunction(a);return this.each(function(b){e(this).wrapAll(d?a.call(this,b):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||e(this).replaceWith(this.childNodes)}).end()}});var Ca,ta,ga,Va=/alpha\([^)]*\)/i,$b=/opacity\s*=\s*([^)]*)/,ac=/^(top|right|bottom|left)$/,bc=/^(none|table(?!-c[ea]).+)/,ob=/^margin/,Cb=new RegExp("^("+La+")(.*)$","i"),Ha=new RegExp("^("+La+")(?!px)[a-z%]+$",
"i"),cc=new RegExp("^([+-])=("+La+")","i"),cb={BODY:"block"},dc={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:0,fontWeight:400},sa=["Top","Right","Bottom","Left"],bb=["Webkit","O","Moz","ms"];e.fn.extend({css:function(a,d){return e.access(this,function(a,c,d){var k,h={},f=0;if(e.isArray(c)){k=ta(a);for(d=c.length;f<d;f++)h[c[f]]=e.css(a,c[f],!1,k);return h}return d!==b?e.style(a,c,d):e.css(a,c)},a,d,1<arguments.length)},show:function(){return X(this,!0)},hide:function(){return X(this)},
toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){S(this)?e(this).show():e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,d){if(d){var e=ga(a,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,k,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,
n,t,g=e.camelCase(d),m=a.style;d=e.cssProps[g]||(e.cssProps[g]=L(m,g));t=e.cssHooks[d]||e.cssHooks[g];if(k!==b){if(n=typeof k,"string"===n&&(f=cc.exec(k))&&(k=(f[1]+1)*f[2]+parseFloat(e.css(a,d)),n="number"),!(null==k||"number"===n&&isNaN(k)||("number"!==n||e.cssNumber[g]||(k+="px"),e.support.clearCloneStyle||""!==k||0!==d.indexOf("background")||(m[d]="inherit"),t&&"set"in t&&(k=t.set(a,k,h))===b)))try{m[d]=k}catch(q){}}else return t&&"get"in t&&(f=t.get(a,!1,h))!==b?f:m[d]}},css:function(a,d,k,h){var f,
n;n=e.camelCase(d);d=e.cssProps[n]||(e.cssProps[n]=L(a.style,n));(n=e.cssHooks[d]||e.cssHooks[n])&&"get"in n&&(f=n.get(a,!0,k));f===b&&(f=ga(a,d,h));"normal"===f&&d in pb&&(f=pb[d]);return""===k||k?(a=parseFloat(f),!0===k||e.isNumeric(a)?a||0:f):f}});a.getComputedStyle?(ta=function(c){return a.getComputedStyle(c,null)},ga=function(a,d,k){var h,f=(k=k||ta(a))?k.getPropertyValue(d)||k[d]:b,n=a.style;k&&(""!==f||e.contains(a.ownerDocument,a)||(f=e.style(a,d)),Ha.test(f)&&ob.test(d)&&(a=n.width,d=n.minWidth,
h=n.maxWidth,n.minWidth=n.maxWidth=n.width=f,f=k.width,n.width=a,n.minWidth=d,n.maxWidth=h));return f}):F.documentElement.currentStyle&&(ta=function(a){return a.currentStyle},ga=function(a,d,e){var k,h,f=(e=e||ta(a))?e[d]:b,n=a.style;null==f&&n&&n[d]&&(f=n[d]);if(Ha.test(f)&&!ac.test(d)){e=n.left;if(h=(k=a.runtimeStyle)&&k.left)k.left=a.currentStyle.left;n.left="fontSize"===d?"1em":f;f=n.pixelLeft+"px";n.left=e;h&&(k.left=h)}return""===f?"auto":f});e.each(["height","width"],function(a,d){e.cssHooks[d]=
{get:function(a,c,b){if(c)return 0===a.offsetWidth&&bc.test(e.css(a,"display"))?e.swap(a,dc,function(){return V(a,d,b)}):V(a,d,b)},set:function(a,c,b){var k=b&&ta(a);return ea(a,c,b?Q(a,d,b,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing",!1,k),k):0)}}});e.support.opacity||(e.cssHooks.opacity={get:function(a,d){return $b.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":d?"1":""},set:function(a,d){var b=a.style,k=a.currentStyle,h=e.isNumeric(d)?
"alpha(opacity="+100*d+")":"",f=k&&k.filter||b.filter||"";b.zoom=1;if((1<=d||""===d)&&""===e.trim(f.replace(Va,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===d||k&&!k.filter))return;b.filter=Va.test(f)?f.replace(Va,h):f+" "+h}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight={get:function(a,d){if(d)return e.swap(a,{display:"inline-block"},ga,[a,"marginRight"])}});!e.support.pixelPosition&&e.fn.position&&e.each(["top","left"],function(a,d){e.cssHooks[d]={get:function(a,
c){if(c)return c=ga(a,d),Ha.test(c)?e(a).position()[d]+"px":c}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!e.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||e.css(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});e.each({margin:"",padding:"",border:"Width"},function(a,d){e.cssHooks[a+d]={expand:function(e){var b=0,k={};for(e="string"===typeof e?e.split(" "):[e];4>b;b++)k[a+sa[b]+d]=
e[b]||e[b-2]||e[0];return k}};ob.test(a)||(e.cssHooks[a+d].set=ea)});var ec=/%20/g,Db=/\[\]$/,qb=/\r?\n/g,fc=/^(?:submit|button|image|reset|file)$/i,gc=/^(?:input|select|textarea|keygen)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=e.prop(this,"elements");return a?e.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!e(this).is(":disabled")&&gc.test(this.nodeName)&&!fc.test(a)&&(this.checked||
!Oa.test(a))}).map(function(a,d){var b=e(this).val();return null==b?null:e.isArray(b)?e.map(b,function(a){return{name:d.name,value:a.replace(qb,"\r\n")}}):{name:d.name,value:b.replace(qb,"\r\n")}}).get()}});e.param=function(a,d){var k,h=[],f=function(a,c){c=e.isFunction(c)?c():null==c?"":c;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};d===b&&(d=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){f(this.name,this.value)});else for(k in a)Y(k,
a[k],d,f);return h.join("&").replace(ec,"+")};e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,d){e.fn[d]=function(a,c){return 0<arguments.length?this.on(d,null,a,c):this.trigger(d)}});e.fn.extend({hover:function(a,d){return this.mouseenter(a).mouseleave(d||a)},bind:function(a,d,e){return this.on(a,null,d,e)},unbind:function(a,
d){return this.off(a,null,d)},delegate:function(a,d,e,b){return this.on(d,a,e,b)},undelegate:function(a,d,e){return 1===arguments.length?this.off(a,"**"):this.off(d,a||"**",e)}});var ua,ra,Wa=e.now(),Xa=/\?/,hc=/#.*$/,rb=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jc=/^(?:GET|HEAD)$/,kc=/^\/\//,sb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,tb=e.fn.load,ub={},Pa={},vb="*/".concat("*");try{ra=Ea.href}catch(c){ra=F.createElement("a"),ra.href="",ra=ra.href}ua=sb.exec(ra.toLowerCase())||[];e.fn.load=
function(a,d,k){if("string"!==typeof a&&tb)return tb.apply(this,arguments);var h,f,n,t=this,g=a.indexOf(" ");0<=g&&(h=a.slice(g,a.length),a=a.slice(0,g));e.isFunction(d)?(k=d,d=b):d&&"object"===typeof d&&(n="POST");0<t.length&&e.ajax({url:a,type:n,dataType:"html",data:d}).done(function(a){f=arguments;t.html(h?e("<div>").append(e.parseHTML(a)).find(h):a)}).complete(k&&function(a,c){t.each(k,f||[a.responseText,c,a])});return this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,d){e.fn[d]=function(a){return this.on(d,a)}});e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ra,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ua[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,d){return d?h(h(a,e.ajaxSettings),d):h(e.ajaxSettings,a)},ajaxPrefilter:Z(ub),ajaxTransport:Z(Pa),ajax:function(a,d){function k(a,c,d,h){var f,p,l,x;x=c;if(2!==z){z=2;g&&clearTimeout(g);q=b;t=h||"";B.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(d){l=u;for(var y=B,A,C,w,M,J=l.contents,N=l.dataTypes;"*"===N[0];)N.shift(),
C===b&&(C=l.mimeType||y.getResponseHeader("Content-Type"));if(C)for(M in J)if(J[M]&&J[M].test(C)){N.unshift(M);break}if(N[0]in d)w=N[0];else{for(M in d){if(!N[0]||l.converters[M+" "+N[0]]){w=M;break}A||(A=M)}w=w||A}w?(w!==N[0]&&N.unshift(w),l=d[w]):l=void 0}a:{d=u;A=l;C=B;w=h;var fa,D,E,y={},J=d.dataTypes.slice();if(J[1])for(D in d.converters)y[D.toLowerCase()]=d.converters[D];for(M=J.shift();M;)if(d.responseFields[M]&&(C[d.responseFields[M]]=A),!E&&w&&d.dataFilter&&(A=d.dataFilter(A,d.dataType)),
E=M,M=J.shift())if("*"===M)M=E;else if("*"!==E&&E!==M){D=y[E+" "+M]||y["* "+M];if(!D)for(fa in y)if(l=fa.split(" "),l[1]===M&&(D=y[E+" "+l[0]]||y["* "+l[0]])){!0===D?D=y[fa]:!0!==y[fa]&&(M=l[0],J.unshift(l[1]));break}if(!0!==D)if(D&&d["throws"])A=D(A);else try{A=D(A)}catch(F){l={state:"parsererror",error:D?F:"No conversion from "+E+" to "+M};break a}}l={state:"success",data:A}}if(h)u.ifModified&&((x=B.getResponseHeader("Last-Modified"))&&(e.lastModified[n]=x),(x=B.getResponseHeader("etag"))&&(e.etag[n]=
x)),204===a||"HEAD"===u.type?x="nocontent":304===a?x="notmodified":(x=l.state,f=l.data,p=l.error,h=!p);else if(p=x,a||!x)x="error",0>a&&(a=0);B.status=a;B.statusText=(c||x)+"";h?v.resolveWith(K,[f,x,B]):v.rejectWith(K,[B,x,p]);B.statusCode(H);H=b;m&&r.trigger(h?"ajaxSuccess":"ajaxError",[B,u,h?f:p]);G.fireWith(K,[B,x]);m&&(r.trigger("ajaxComplete",[B,u]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof a&&(d=a,a=b);d=d||{};var h,f,n,t,g,m,q,l,u=e.ajaxSetup({},d),K=u.context||u,r=u.context&&
(K.nodeType||K.jquery)?e(K):e.event,v=e.Deferred(),G=e.Callbacks("once memory"),H=u.statusCode||{},A={},C={},z=0,w="canceled",B={readyState:0,getResponseHeader:function(a){var c;if(2===z){if(!l)for(l={};c=ic.exec(t);)l[c[1].toLowerCase()]=c[2];c=l[a.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return 2===z?t:null},setRequestHeader:function(a,c){var d=a.toLowerCase();z||(a=C[d]=C[d]||a,A[a]=c);return this},overrideMimeType:function(a){z||(u.mimeType=a);return this},statusCode:function(a){var c;
if(a)if(2>z)for(c in a)H[c]=[H[c],a[c]];else B.always(a[B.status]);return this},abort:function(a){a=a||w;q&&q.abort(a);k(0,a);return this}};v.promise(B).complete=G.add;B.success=B.done;B.error=B.fail;u.url=((a||u.url||ra)+"").replace(hc,"").replace(kc,ua[1]+"//");u.type=d.method||d.type||u.method||u.type;u.dataTypes=e.trim(u.dataType||"*").toLowerCase().match(la)||[""];null==u.crossDomain&&(h=sb.exec(u.url.toLowerCase()),u.crossDomain=!(!h||h[1]===ua[1]&&h[2]===ua[2]&&(h[3]||("http:"===h[1]?"80":
"443"))===(ua[3]||("http:"===ua[1]?"80":"443"))));u.data&&u.processData&&"string"!==typeof u.data&&(u.data=e.param(u.data,u.traditional));aa(ub,u,d,B);if(2===z)return B;(m=u.global)&&0===e.active++&&e.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!jc.test(u.type);n=u.url;u.hasContent||(u.data&&(n=u.url+=(Xa.test(n)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=rb.test(n)?n.replace(rb,"$1_="+Wa++):n+(Xa.test(n)?"&":"?")+"_="+Wa++));u.ifModified&&(e.lastModified[n]&&B.setRequestHeader("If-Modified-Since",
e.lastModified[n]),e.etag[n]&&B.setRequestHeader("If-None-Match",e.etag[n]));(u.data&&u.hasContent&&!1!==u.contentType||d.contentType)&&B.setRequestHeader("Content-Type",u.contentType);B.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+vb+"; q=0.01":""):u.accepts["*"]);for(f in u.headers)B.setRequestHeader(f,u.headers[f]);if(u.beforeSend&&(!1===u.beforeSend.call(K,B,u)||2===z))return B.abort();w="abort";for(f in{success:1,error:1,
complete:1})B[f](u[f]);if(q=aa(Pa,u,d,B)){B.readyState=1;m&&r.trigger("ajaxSend",[B,u]);u.async&&0<u.timeout&&(g=setTimeout(function(){B.abort("timeout")},u.timeout));try{z=1,q.send(A,k)}catch(M){if(2>z)k(-1,M);else throw M;}}else k(-1,"No Transport");return B},getJSON:function(a,d,b){return e.get(a,d,b,"json")},getScript:function(a,d){return e.get(a,b,d,"script")}});e.each(["get","post"],function(a,d){e[d]=function(a,c,k,h){e.isFunction(c)&&(h=h||k,k=c,c=b);return e.ajax({url:a,type:d,dataType:h,
data:c,success:k})}});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){e.globalEval(a);return a}}});e.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var d,k=F.head||e("head")[0]||F.documentElement;return{send:function(e,b){d=F.createElement("script");
d.async=!0;a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),d=null,c||b(200,"success")};k.insertBefore(d,k.firstChild)},abort:function(){if(d)d.onload(b,!0)}}}});var wb=[],Ya=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=wb.pop()||e.expando+"_"+Wa++;this[a]=!0;return a}});e.ajaxPrefilter("json jsonp",
function(c,d,k){var h,f,n,t=!1!==c.jsonp&&(Ya.test(c.url)?"url":"string"===typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ya.test(c.data)&&"data");if(t||"jsonp"===c.dataTypes[0])return h=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,t?c[t]=c[t].replace(Ya,"$1"+h):!1!==c.jsonp&&(c.url+=(Xa.test(c.url)?"&":"?")+c.jsonp+"="+h),c.converters["script json"]=function(){n||e.error(h+" was not called");return n[0]},c.dataTypes[0]="json",
f=a[h],a[h]=function(){n=arguments},k.always(function(){a[h]=f;c[h]&&(c.jsonpCallback=d.jsonpCallback,wb.push(h));n&&e.isFunction(f)&&f(n[0]);n=f=b}),"script"});var Ba,Ga,lc=0,Za=a.ActiveXObject&&function(){for(var a in Ba)Ba[a](b,!0)};e.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&t()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}c=void 0}return c}:t;Ga=e.ajaxSettings.xhr();e.support.cors=!!Ga&&"withCredentials"in Ga;(Ga=e.support.ajax=!!Ga)&&e.ajaxTransport(function(c){if(!c.crossDomain||
e.support.cors){var d;return{send:function(k,h){var f,n,t=c.xhr();c.username?t.open(c.type,c.url,c.async,c.username,c.password):t.open(c.type,c.url,c.async);if(c.xhrFields)for(n in c.xhrFields)t[n]=c.xhrFields[n];c.mimeType&&t.overrideMimeType&&t.overrideMimeType(c.mimeType);c.crossDomain||k["X-Requested-With"]||(k["X-Requested-With"]="XMLHttpRequest");try{for(n in k)t.setRequestHeader(n,k[n])}catch(g){}t.send(c.hasContent&&c.data||null);d=function(a,k){var n,p,g,m;try{if(d&&(k||4===t.readyState))if(d=
b,f&&(t.onreadystatechange=e.noop,Za&&delete Ba[f]),k)4!==t.readyState&&t.abort();else{m={};n=t.status;p=t.getAllResponseHeaders();"string"===typeof t.responseText&&(m.text=t.responseText);try{g=t.statusText}catch(u){g=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=m.text?200:404}}catch(u){k||h(-1,u)}m&&h(n,g,m,p)};c.async?4===t.readyState?setTimeout(d):(f=++lc,Za&&(Ba||(Ba={},e(a).unload(Za)),Ba[f]=d),t.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var va,Na,mc=/^(?:toggle|show|hide)$/,
xb=new RegExp("^(?:([+-])=|)("+La+")([a-z%]*)$","i"),nc=/queueHooks$/,Ia=[function(a,d,b){var h,f,n,t,g,m=this,u={},l=a.style,q=a.nodeType&&S(a),K=e._data(a,"fxshow");b.queue||(t=e._queueHooks(a,"fx"),null==t.unqueued&&(t.unqueued=0,g=t.empty.fire,t.empty.fire=function(){t.unqueued||g()}),t.unqueued++,m.always(function(){m.always(function(){t.unqueued--;e.queue(a,"fx").length||t.empty.fire()})}));1===a.nodeType&&("height"in d||"width"in d)&&(b.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===
e.css(a,"display")&&"none"===e.css(a,"float")&&(e.support.inlineBlockNeedsLayout&&"inline"!==T(a.nodeName)?l.zoom=1:l.display="inline-block"));b.overflow&&(l.overflow="hidden",e.support.shrinkWrapBlocks||m.always(function(){l.overflow=b.overflow[0];l.overflowX=b.overflow[1];l.overflowY=b.overflow[2]}));for(h in d)f=d[h],mc.exec(f)&&(delete d[h],n=n||"toggle"===f,f!==(q?"hide":"show")&&(u[h]=K&&K[h]||e.style(a,h)));if(!e.isEmptyObject(u))for(h in K?"hidden"in K&&(q=K.hidden):K=e._data(a,"fxshow",{}),
n&&(K.hidden=!q),q?e(a).show():m.done(function(){e(a).hide()}),m.done(function(){var d;e._removeData(a,"fxshow");for(d in u)e.style(a,d,u[d])}),u)d=k(q?K[h]:0,h,m),h in K||(K[h]=d.start,q&&(d.end=d.start,d.start="width"===h||"height"===h?1:0))}],Da={"*":[function(a,d){var b=this.createTween(a,d),k=b.cur(),h=xb.exec(d),f=h&&h[3]||(e.cssNumber[a]?"":"px"),n=(e.cssNumber[a]||"px"!==f&&+k)&&xb.exec(e.css(b.elem,a)),t=1,g=20;if(n&&n[3]!==f){f=f||n[3];h=h||[];n=+k||1;do t=t||".5",n/=t,e.style(b.elem,a,
n+f);while(t!==(t=b.cur()/k)&&1!==t&&--g)}h&&(n=b.start=+n||+k||0,b.unit=f,b.end=h[1]?n+(h[1]+1)*h[2]:+h[2]);return b}]};e.Animation=e.extend(n,{tweener:function(a,d){e.isFunction(a)?(d=a,a=["*"]):a=a.split(" ");for(var b,k=0,h=a.length;k<h;k++)b=a[k],Da[b]=Da[b]||[],Da[b].unshift(d)},prefilter:function(a,d){d?Ia.unshift(a):Ia.push(a)}});e.Tween=H;H.prototype={constructor:H,init:function(a,d,b,k,h,f){this.elem=a;this.prop=b;this.easing=h||"swing";this.options=d;this.start=this.now=this.cur();this.end=
k;this.unit=f||(e.cssNumber[b]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var d,b=H.propHooks[this.prop];this.pos=this.options.duration?d=e.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):d=a;this.now=(this.end-this.start)*d+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);b&&b.set?b.set(this):H.propHooks._default.set(this);return this}};H.prototype.init.prototype=
H.prototype;H.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=e.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(e.fx.step[a.prop])e.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};
e.each(["toggle","show","hide"],function(a,d){var b=e.fn[d];e.fn[d]=function(a,c,e){return null==a||"boolean"===typeof a?b.apply(this,arguments):this.animate(M(d,!0),a,c,e)}});e.fn.extend({fadeTo:function(a,d,e,b){return this.filter(S).css("opacity",0).show().end().animate({opacity:d},a,e,b)},animate:function(a,d,b,k){var h=e.isEmptyObject(a),f=e.speed(d,b,k);d=function(){var d=n(this,e.extend({},a),f);(h||e._data(this,"finish"))&&d.stop(!0)};d.finish=d;return h||!1===f.queue?this.each(d):this.queue(f.queue,
d)},stop:function(a,d,k){var h=function(a){var c=a.stop;delete a.stop;c(k)};"string"!==typeof a&&(k=d,d=a,a=b);d&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var d=!0,b=null!=a&&a+"queueHooks",f=e.timers,n=e._data(this);if(b)n[b]&&n[b].stop&&h(n[b]);else for(b in n)n[b]&&n[b].stop&&nc.test(b)&&h(n[b]);for(b=f.length;b--;)f[b].elem!==this||null!=a&&f[b].queue!==a||(f[b].anim.stop(k),d=!1,f.splice(b,1));!d&&k||e.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var d,
b=e._data(this),k=b[a+"queue"];d=b[a+"queueHooks"];var h=e.timers,f=k?k.length:0;b.finish=!0;e.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=h.length;d--;)h[d].elem===this&&h[d].queue===a&&(h[d].anim.stop(!0),h.splice(d,1));for(d=0;d<f;d++)k[d]&&k[d].finish&&k[d].finish.call(this);delete b.finish})}});e.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){e.fn[a]=function(a,c,e){return this.animate(d,
a,c,e)}});e.speed=function(a,d,b){var k=a&&"object"===typeof a?e.extend({},a):{complete:b||!b&&d||e.isFunction(a)&&a,duration:a,easing:b&&d||d&&!e.isFunction(d)&&d};k.duration=e.fx.off?0:"number"===typeof k.duration?k.duration:k.duration in e.fx.speeds?e.fx.speeds[k.duration]:e.fx.speeds._default;if(null==k.queue||!0===k.queue)k.queue="fx";k.old=k.complete;k.complete=function(){e.isFunction(k.old)&&k.old.call(this);k.queue&&e.dequeue(this,k.queue)};return k};e.easing={linear:function(a){return a},
swing:function(a){return.5-Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=H.prototype.init;e.fx.tick=function(){var a,d=e.timers,k=0;for(va=e.now();k<d.length;k++)a=d[k],a()||d[k]!==a||d.splice(k--,1);d.length||e.fx.stop();va=b};e.fx.timer=function(a){a()&&e.timers.push(a)&&e.fx.start()};e.fx.interval=13;e.fx.start=function(){Na||(Na=setInterval(e.fx.tick,e.fx.interval))};e.fx.stop=function(){clearInterval(Na);Na=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=
function(a){return e.grep(e.timers,function(d){return a===d.elem}).length});e.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(d){e.offset.setOffset(this,a,d)});var d,k,h={top:0,left:0},f=(k=this[0])&&k.ownerDocument;if(f){d=f.documentElement;if(!e.contains(d,k))return h;typeof k.getBoundingClientRect!==da&&(h=k.getBoundingClientRect());k=fa(f);return{top:h.top+(k.pageYOffset||d.scrollTop)-(d.clientTop||0),left:h.left+(k.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}}};
e.offset={setOffset:function(a,d,b){var k=e.css(a,"position");"static"===k&&(a.style.position="relative");var h=e(a),f=h.offset(),n=e.css(a,"top"),t=e.css(a,"left"),g={};("absolute"===k||"fixed"===k)&&-1<e.inArray("auto",[n,t])?(t=h.position(),k=t.top,t=t.left):(k=parseFloat(n)||0,t=parseFloat(t)||0);e.isFunction(d)&&(d=d.call(a,b,f));null!=d.top&&(g.top=d.top-f.top+k);null!=d.left&&(g.left=d.left-f.left+t);"using"in d?d.using.call(a,g):h.css(g)}};e.fn.extend({position:function(){if(this[0]){var a,
d,b={top:0,left:0},k=this[0];"fixed"===e.css(k,"position")?d=k.getBoundingClientRect():(a=this.offsetParent(),d=this.offset(),e.nodeName(a[0],"html")||(b=a.offset()),b.top+=e.css(a[0],"borderTopWidth",!0),b.left+=e.css(a[0],"borderLeftWidth",!0));return{top:d.top-b.top-e.css(k,"marginTop",!0),left:d.left-b.left-e.css(k,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ya;a&&!e.nodeName(a,"html")&&"static"===e.css(a,"position");)a=a.offsetParent;return a||
ya})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var k=/Y/.test(d);e.fn[a]=function(h){return e.access(this,function(a,c,h){var f=fa(a);if(h===b)return f?d in f?f[d]:f.document.documentElement[c]:a[c];f?f.scrollTo(k?e(f).scrollLeft():h,k?h:e(f).scrollTop()):a[c]=h},a,h,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,d){e.each({padding:"inner"+a,content:d,"":"outer"+a},function(k,h){e.fn[h]=function(h,f){var n=arguments.length&&(k||"boolean"!==
typeof h),t=k||(!0===h||!0===f?"margin":"border");return e.access(this,function(d,k,h){return e.isWindow(d)?d.document.documentElement["client"+a]:9===d.nodeType?(k=d.documentElement,Math.max(d.body["scroll"+a],k["scroll"+a],d.body["offset"+a],k["offset"+a],k["client"+a])):h===b?e.css(d,k,t):e.style(d,k,h,t)},d,n?h:b,n,null)}})});e.fn.size=function(){return this.length};e.fn.andSelf=e.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=e:(a.jQuery=a.$=e,"function"===
typeof define&&define.amd&&define("jquery",[],function(){return e}))})(window);jQuery.browser={};(function(){jQuery.browser.msie=!1;jQuery.browser.version=0;navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1)})();
(function(a){function b(b,f){b.data("AutoResizer")&&b.data("AutoResizer").destroy();b.data("AutoResizer",this);var l;this.$el=b;this.config=f=a.extend({},g,f);l=(this.isTextArea=this.$el.is("textarea"))?b.height():b.width();"original"===f.maxSize&&(f.maxSize=l);"original"===f.minSize&&(f.minSize=l);this.isTextArea&&b.css({resize:"none"});f.animate&&(f.animate.complete=a.proxy(this.afterResize,this,f.animate.complete));this.bind();b.is(":hidden")||this.check(!0)}var f="ar"+ +new Date,g={onResize:a.noop,
onBeforeResize:a.noop,onAfterResize:a.noop,animate:{duration:200,complete:a.noop},extraSpace:50,minSize:"original",maxSize:500,delay:100},l="lineHeight textDecoration letterSpacing fontSize fontFamily fontStyle fontWeight textTransform textAlign direction wordSpacing fontSizeAdjust paddingTop paddingLeft paddingBottom paddingRight width".split(" "),r=["textarea:not(textarea."+f+")","input:not(input[type]),input[type=text],input[type=password],input[type=email],input[type=url]"].join();!function(){var b;
this.unbind=function(){this.$el.unbind(".autoResize")};this.bind=function(){var b=a.proxy(function(){this.check()},this);this.unbind();this.$el.bind("keyup.autoResize",b).bind("change.autoResize",b).bind("paste.autoResize",b)};this.getClone=function(){var g,r;this.$clone||(g=this.$el,this.$clone=r=a(this.isTextArea?"<textarea/>":"<span/>"),a.each(l,function(a,b){r.css(b,g.css(b))}),r.addClass(f).attr("tabIndex",-1).css("overflow","hidden"),this.isTextArea?r.height(0):r.width("auto").css({whiteSpace:"nowrap"}),
b||(b=a('<div class="autoresize-clones"/>').appendTo("body").css({position:"absolute",top:-9999,left:-9999,width:0,height:0,padding:0,overflow:"hidden"})),b.append(r));return this.$clone};this.afterResize=function(a){var b=this.$el,f=this.config;this.isTextArea&&(b.height()===f.maxSize?b.css("overflowY","auto").scrollTop(1E4):b.css("overflowY","hidden"));f.onAfterResize.call(this.$el);a&&a.apply(this,arguments)};this.check=function(a){var b=this.config,f=this.getClone(),g=this.$el,u=g.val()||"",l=
g.width(),r=this.isTextArea?g.height():l,v,u=u.length?u:" ";if(u!==this.prevValue||this.prevWidth!==l)this.isTextArea?(l!==this.prevWidth&&f.width(l),f.val(u).scrollTop(0).scrollTop(1E4),f=f.scrollTop()+b.extraSpace):(f.text(u),f=f.width()+b.extraSpace),f=Math.min(Math.max(f,b.minSize),b.maxSize),r!==f&&(v={},v[this.isTextArea?"height":"width"]=f),this.prevValue=u,this.prevWidth=l,v&&(b.onBeforeResize.call(g),b.onResize.call(g),b.animate&&!a?g.stop(!0,!0).animate(v,b.animate):(g.css(v),this.afterResize()))};
this.destroy=function(){this.$el.removeData("AutoResizer");this.unbind();this.$clone.remove();delete this.$el;delete this.$clone}}.call(b.prototype);a.fn.autoResize=function(f){this.filter(r).each(function(){new b(a(this),f)});return this}})(jQuery);
(function(a){a(jQuery)})(function(a){function b(b){var g=b||window.event,l=r.call(arguments,1),A,B=0,w=0,D,E=0,O=0;b=a.event.fix(g);b.type="mousewheel";"detail"in g&&(w=-1*g.detail);"wheelDelta"in g&&(w=g.wheelDelta);"wheelDeltaY"in g&&(w=g.wheelDeltaY);"wheelDeltaX"in g&&(B=-1*g.wheelDeltaX);"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(B=-1*w,w=0);A=0===w?B:w;"deltaY"in g&&(A=w=-1*g.deltaY);"deltaX"in g&&(B=g.deltaX,0===w&&(A=-1*B));if(0!==w||0!==B){1===g.deltaMode?(D=a.data(this,"mousewheel-line-height"),
A*=D,w*=D,B*=D):2===g.deltaMode&&(D=a.data(this,"mousewheel-page-height"),A*=D,w*=D,B*=D);D=Math.max(Math.abs(w),Math.abs(B));if(!m||D<m)m=D,z.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===D%120&&(m/=40);z.settings.adjustOldDeltas&&"mousewheel"===g.type&&0===D%120&&(A/=40,B/=40,w/=40);A=Math[1<=A?"floor":"ceil"](A/m);B=Math[1<=B?"floor":"ceil"](B/m);w=Math[1<=w?"floor":"ceil"](w/m);z.settings.normalizeOffset&&this.getBoundingClientRect&&(g=this.getBoundingClientRect(),E=b.clientX-g.left,O=
b.clientY-g.top);b.deltaX=B;b.deltaY=w;b.deltaFactor=m;b.offsetX=E;b.offsetY=O;b.deltaMode=0;l.unshift(b,A,B,w);v&&clearTimeout(v);v=setTimeout(f,200);return(a.event.dispatch||a.event.handle).apply(this,l)}}function f(){m=null}var g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,v,m;if(a.event.fixHooks)for(var w=g.length;w;)a.event.fixHooks[g[--w]]=
a.event.mouseHooks;var z=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var f=l.length;f;)this.addEventListener(l[--f],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",z.getLineHeight(this));a.data(this,"mousewheel-page-height",z.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var f=l.length;f;)this.removeEventListener(l[--f],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,
"mousewheel-page-height")},getLineHeight:function(b){b=a(b);var f=b["offsetParent"in a.fn?"offsetParent":"parent"]();f.length||(f=a("body"));return parseInt(f.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});"use strict";
(function(a){a(jQuery)})(function(a){var b={wheelSpeed:-1!==navigator.platform.toUpperCase().indexOf("WIN")?15:1,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!1,topMargin:0};a.fn.perfectScrollbar=function(f,g){return this.each(function(){var l=a.extend(!0,{},b),r=a(this);"object"===typeof f?a.extend(!0,l,f):g=f;if("update"===g)return r.data("perfect-scrollbar-update")&&r.data("perfect-scrollbar-update")(),r;if("scroll"===g)return r.data("perfect-scrollbar-scroll")&&
r.data("perfect-scrollbar-scroll")(),r;if("destroy"===g)return r.data("perfect-scrollbar-destroy")&&r.data("perfect-scrollbar-destroy")(),r;if(r.data("perfect-scrollbar"))return r.data("perfect-scrollbar");r.addClass("ps-container");var v=a("<div class='ps-scrollbar-x-rail'></div>").appendTo(r),m=a("<div class='ps-scrollbar-y-rail'></div>").appendTo(r),w=a("<div class='ps-scrollbar-x'></div>").appendTo(v),z=a("<div class='ps-scrollbar-y'></div>").appendTo(m),C,u,G,A,B,J,D,E,O=parseInt(v.css("bottom"),
10),I,q,L=parseInt(m.css("right"),10),S=r.find(".overview"),X=a("#messages-div"),ea,Q,V,T,U,Y=function(){var a=parseInt(q*(J-A)/(A-I),10);v.css({bottom:O-a});r.bottomPositionCSS=parseInt(q*(J-A)/(A-I),10);k()},Z=function(){return parseInt(S.css("bottom"))};r.bottomPositionCSS=Z();var aa=function(){var a=parseInt(E*(B-G)/(G-D),10);r.scrollLeft(a);m.css({right:L-a})},h=function(a){l.minScrollbarLength&&(a=Math.max(a,l.minScrollbarLength));return a},t=function(){ea=a("#jivosite-adword");Q=a("#input-div");
0!==U?(ea.find(".messages-div-blurred").css({bottom:"auto",top:parseInt(S.css("top"))}),Q.find(".messages-div-blurred").css({bottom:"auto",top:parseInt(S.css("top"))-X.height()})):(ea.find(".messages-div-blurred").css({bottom:ea.height()+Z()-X.height(),top:"auto"}),Q.find(".messages-div-blurred").css({bottom:Q.innerHeight()+Z(),top:"auto"}))},d=function(a){U=a;T=-1*(V+U);0!==U?S.css({bottom:"auto",top:T}):(S.css({bottom:a,top:"auto"}),updateBlur&&updateBlur())},k=function(){V=J-A+l.topMargin;r.bottomPositionCSS<
V?0>=r.bottomPositionCSS?(d(0),r.bottomPositionCSS=0):d(-1*r.bottomPositionCSS):(d(-1*V),r.bottomPositionCSS=V);t()},n=function(a){v.toggle(C);m.toggle(u);v.css({left:r.scrollLeft(),bottom:O-r.scrollTop(),width:G});m.css({top:r.scrollTop(),right:L-r.scrollLeft(),height:A});w.css({left:E,width:D});z.css({bottom:a?0:q,height:I})},K=function(a){G=r.width();A=r.height()-l.topMargin;B=S.width();J=S.height()-l.topMargin;G<B?(C=!0,D=h(parseInt(G*G/B,10)),E=parseInt(r.scrollLeft()*(G-D)/(B-G),10)):(C=!1,
E=D=0,r.scrollLeft(0));A<J&&!a?(u=!0,I=h(parseInt(A*A/J,10)),k(),q=parseInt(r.bottomPositionCSS*(A-I)/(J-A),10)):(u=!1,q=I=0,d(0),t());q>=A-I&&(q=A-I);E>=G-D&&(E=G-D);n(a)},H=function(){var d,b;w.bind("mousedown.perfect-scrollbar",function(a){b=a.pageX;d=w.position().left;v.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});a(document).bind("mousemove.perfect-scrollbar",function(a){if(v.hasClass("in-scrolling")){aa();var k=d+(a.pageX-b),h=G-D;E=0>k?0:k>h?h:k;v.css({left:r.scrollLeft()});
w.css({left:E});a.stopPropagation();a.preventDefault()}});a(document).bind("mouseup.perfect-scrollbar",function(a){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")});d=b=null},M=function(){var d;z.bind("mousedown.perfect-scrollbar",function(a){d=a.pageY;parseInt(z.css("bottom"));m.addClass("in-scrolling");a.stopPropagation();a.preventDefault()});a(document).bind("mousemove.perfect-scrollbar",function(a){if(m.hasClass("in-scrolling")){Y();var b=parseInt(z.css("bottom"))-(a.pageY-d),k=A-I;
q=0>b?0:b>k?k:b;m.css({top:r.scrollTop()});z.css({bottom:q});d=a.pageY;a.stopPropagation();a.preventDefault()}});a(document).bind("mouseup.perfect-scrollbar",function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")});d=null},fa=function(){var a=!1;try{var d="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],b;if(window.top&&window.top.addEventListener&&devicejs.safari())for(b=d.length;b--;)window.top.addEventListener(d[b],function(){})}catch(k){}r.bind("mousewheel.perfect-scrollbar",
function(d,b,k,h){l.useBothWheelAxes?u&&!C?r.bottomPositionCSS=h?r.bottomPositionCSS+h*l.wheelSpeed:r.bottomPositionCSS-k*l.wheelSpeed:C&&!u&&(k?r.scrollLeft(r.scrollLeft()+k*l.wheelSpeed):r.scrollLeft(r.scrollLeft()-h*l.wheelSpeed)):(r.bottomPositionCSS+=h*l.wheelSpeed,r.scrollLeft(r.scrollLeft()+k*l.wheelSpeed));K();b=r.bottomPositionCSS;0===b&&0<h&&0===k||b>=J-A&&0>h&&0===k?a=!l.wheelPropagation:(b=r.scrollLeft(),a=0===b&&0>k&&0===h||b>=B-G&&0<k&&0===h?!l.wheelPropagation:!0);a&&d.preventDefault()});
r.bind("MozMousePixelScroll.perfect-scrollbar",function(d){a&&d.preventDefault()})},W=function(){var d=!1;r.bind("mouseenter.perfect-scrollbar",function(a){d=!0});r.bind("mouseleave.perfect-scrollbar",function(a){d=!1});var b=!1;a(document).bind("keydown.perfect-scrollbar",function(a){if(d){var k=0,h=0;switch(a.which){case 37:k=-3;break;case 38:h=3;break;case 39:k=3;break;case 40:h=-3;break;default:return}r.bottomPositionCSS+=h*l.wheelSpeed;r.scrollLeft(r.scrollLeft()+k*l.wheelSpeed);K();var f=r.bottomPositionCSS;
0===f&&0<h&&0===k||f>=J-A&&0>h&&0===k?b=!1:(f=r.scrollLeft(),b=0===f&&0>k&&0===h||f>=B-G&&0<k&&0===h?!1:!0);b&&a.preventDefault()}})},oa=function(){var a=function(a){a.stopPropagation()};z.bind("click.perfect-scrollbar",a);m.bind("click.perfect-scrollbar",function(a){var d=parseInt(I/2,10);a=(a.pageY-m.offset().top-d)/(A-I);0>a?a=0:1<a&&(a=1);r.bottomPositionCSS=(J-A)*a;K()});w.bind("click.perfect-scrollbar",a);v.bind("click.perfect-scrollbar",function(a){var d=parseInt(D/2,10);a=(a.pageX-v.offset().left-
d)/(G-D);0>a?a=0:1<a&&(a=1);r.scrollLeft((B-G)*a);K()})},da=function(){var d={},b=0,k,h,f=null,n=!1,t=!1;a(window).bind("touchstart.perfect-scrollbar",function(a){n=!0});a(window).bind("touchend.perfect-scrollbar",function(a){n=!1});r.bind("touchstart.perfect-scrollbar",function(a){var k=a.originalEvent.targetTouches[0];d.pageX=k.pageX;d.pageY=k.pageY;b=(new Date).getTime();null!==f&&clearInterval(f);a.stopPropagation()});r.bind("touchmove.perfect-scrollbar",function(a){if(!n&&1===a.originalEvent.targetTouches.length){var f=
a.originalEvent.targetTouches[0];t=!0;var g={};g.pageX=f.pageX;g.pageY=f.pageY;var f=g.pageX-d.pageX,l=g.pageY-d.pageY;r.bottomPositionCSS+=l;r.scrollLeft(r.scrollLeft()-f);K();d=g;g=(new Date).getTime();k=f/(g-b);h=l/(g-b);b=g;"fixed"===document.documentElement.style.position&&a.preventDefault()}});r.bind("touchend.perfect-scrollbar",function(a){clearInterval(f);t&&(t=!1,f=setInterval(function(){if(.01>Math.abs(k)&&.01>Math.abs(h))clearInterval(f);else{var a=30*k;r.bottomPositionCSS+=30*h;r.scrollLeft(r.scrollLeft()-
a);K();k*=.8;h*=.8}},10))})},Ea=function(){r.unbind(".perfect-scrollbar");a(window).unbind(".perfect-scrollbar");a(document).unbind(".perfect-scrollbar");r.data("perfect-scrollbar",null);r.data("perfect-scrollbar-update",null);r.data("perfect-scrollbar-scroll",null);r.data("perfect-scrollbar-destroy",null);w.remove();z.remove();v.remove();m.remove();w=z=G=A=B=J=D=E=O=I=q=L=null},F=function(d){r.addClass("ie").addClass("ie"+d);var b=function(){n=function(){w.css({left:E+r.scrollLeft(),bottom:O,width:D});
z.css({bottom:q+r.bottomPositionCSS,right:L,height:I});w.hide().show();z.hide().show()};Y=function(){parseInt(q*J/A,10);r.bottomPositionCSS=parseInt(q*J/A,10);w.css({bottom:O});w.hide().show()};aa=function(){var a=parseInt(E*B/G,10);r.scrollLeft(a);z.hide().show()}};6===d&&(function(){var d=function(){a(this).addClass("hover")},b=function(){a(this).removeClass("hover")};r.bind("mouseenter.perfect-scrollbar",d).bind("mouseleave.perfect-scrollbar",b);v.bind("mouseenter.perfect-scrollbar",d).bind("mouseleave.perfect-scrollbar",
b);m.bind("mouseenter.perfect-scrollbar",d).bind("mouseleave.perfect-scrollbar",b);w.bind("mouseenter.perfect-scrollbar",d).bind("mouseleave.perfect-scrollbar",b);z.bind("mouseenter.perfect-scrollbar",d).bind("mouseleave.perfect-scrollbar",b)}(),b())},ya="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;(function(){var a=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);a&&"msie"===a[1]&&F(parseInt(a[2],10));K();H();M();oa();ya&&da();r.mousewheel&&fa();
l.useKeyboard&&W();r.data("perfect-scrollbar",r);r.data("perfect-scrollbar-update",K);r.data("perfect-scrollbar-scroll",function(){q=U=0;r.bottomPositionCSS=0;K(!0)});r.data("perfect-scrollbar-destroy",Ea)})();return r})}});
(function(a){function b(b,g){function l(a){w||(w=!0,v.start&&v.start(a,m))}function r(a,b){w&&(clearTimeout(z),z=setTimeout(function(){w=!1;v.stop&&v.stop(a,m)},0<=b?b:v.delay))}var v=a.extend({start:null,stop:null,delay:400},g),m=a(b),w=!1,z;m.keypress(l);m.keydown(function(a){8!==a.keyCode&&46!==a.keyCode||l(a)});m.keyup(r);m.blur(function(a){r(a,0)})}a.fn.typing=function(a){return this.each(function(g,l){b(l,a)})}})(jQuery);
(function(a){function b(b,g){function l(a,b){w.trigger({type:a,dx:b.screenX-A,dy:b.screenY-B})}function r(a){G=!1;C.hide();l("jivo.drag.stop",a);u.unbind(".jivo-drag")}function v(a){a.preventDefault();G||r(a);l("jivo.drag.move",a)}var m=a.extend({"min-height":300,"min-width":200,opacity:.8,"out-of-border":!0,handler:a(),tracker:a(),console:!1},g),w=a(b),z=m.handler,C=m.tracker,u=a(z.prop("ownerDocument")),G=!1,A=0,B=0;z.mousedown(function(a){G=!0;A=a.screenX;B=a.screenY;a.preventDefault();u.bind("mouseup.jivo-drag",
r).bind("mousemove.jivo-drag",v);C.show();l("jivo.drag.init",a)});w.bind("jivo.drag.init",function(a){m.console&&console.log("drag init",a)});w.bind("jivo.drag.move",function(a){m.console&&console.log("drag move",a)});w.bind("jivo.drag.stop",function(a){m.console&&console.log("drag stop",a)})}a.fn.jivoDragEvent=function(a){return this.each(function(g,l){b(l,a)})}})(jQuery);
(function(a,b,f){function g(a){var b={},g=/^jQuery\d+$/;f.each(a.attributes,function(a,f){f.specified&&!g.test(f.name)&&(b[f.name]=f.value)});return b}function l(a,b){var g=f(this);if(this.value==g.attr("placeholder")&&g.hasClass("placeholder"))if(g.data("placeholder-password")){g=g.hide().next().show().attr("id",g.removeAttr("id").data("placeholder-id"));if(!0===a)return g[0].value=b;g.focus()}else this.value="",g.removeClass("placeholder"),this==v()&&this.select()}function r(){var a,b=f(this),m=
this.id;if(""==this.value){if("password"==this.type){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(u){a=f("<input>").attr(f.extend(g(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":b,"placeholder-id":m}).bind("focus.placeholder",l);b.data({"placeholder-textinput":a,"placeholder-id":m}).before(a)}b=b.removeAttr("id").hide().prev().attr("id",m).show()}b.addClass("placeholder");b[0].value=b.attr("placeholder")}}function v(){try{return b.activeElement}catch(a){}}
var m="[object OperaMini]"==Object.prototype.toString.call(a.operamini),w="placeholder"in b.createElement("input")&&!m,m="placeholder"in b.createElement("textarea")&&!m,z=f.fn,C=f.valHooks,u=f.propHooks;w&&m?(z=z.placeholder=function(){return this},z.input=z.textarea=!0):(z=z.placeholder=function(){this.filter((w?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder");return this},z.input=
w,z.textarea=m,z={get:function(a){var b=f(a),g=b.data("placeholder-password");return g?g[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var g=f(a),m=g.data("placeholder-password");if(m)return m[0].value=b;if(!g.data("placeholder-enabled"))return a.value=b;""==b?(a.value=b,a!=v()&&r.call(a)):g.hasClass("placeholder")?l.call(a,!0,b)||(a.value=b):a.value=b;return g}},w||(C.input=z,u.value=z),m||(C.textarea=z,u.value=z),f(function(){f(b).delegate("form",
"submit.placeholder",function(){var a=f(".placeholder",this).each(l);setTimeout(function(){a.each(r)},10)})}),f(a).bind("beforeunload.placeholder",function(){f(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);
(function(){var a=this,b=a._,f={},g=Array.prototype,l=Object.prototype,r=g.push,v=g.slice,m=g.concat,w=l.toString,z=l.hasOwnProperty,C=g.forEach,u=g.map,G=g.reduce,A=g.reduceRight,B=g.filter,J=g.every,D=g.some,E=g.indexOf,O=g.lastIndexOf,l=Array.isArray,I=Object.keys,q=function(a){if(a instanceof q)return a;if(!(this instanceof q))return new q(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=q),exports._=q):a._=q;q.VERSION="1.4.4";
var L=q.each=q.forEach=function(a,b,h){if(null!=a)if(C&&a.forEach===C)a.forEach(b,h);else if(a.length===+a.length)for(var g=0,t=a.length;g<t&&b.call(h,a[g],g,a)!==f;g++);else for(g in a)if(q.has(a,g)&&b.call(h,a[g],g,a)===f)break};q.map=q.collect=function(a,b,h){var f=[];if(null==a)return f;if(u&&a.map===u)return a.map(b,h);L(a,function(a,d,g){f[f.length]=b.call(h,a,d,g)});return f};q.reduce=q.foldl=q.inject=function(a,b,h,f){var g=2<arguments.length;null==a&&(a=[]);if(G&&a.reduce===G)return f&&(b=
q.bind(b,f)),g?a.reduce(b,h):a.reduce(b);L(a,function(a,d,t){g?h=b.call(f,h,a,d,t):(h=a,g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return h};q.reduceRight=q.foldr=function(a,b,h,f){var g=2<arguments.length;null==a&&(a=[]);if(A&&a.reduceRight===A)return f&&(b=q.bind(b,f)),g?a.reduceRight(b,h):a.reduceRight(b);var t=a.length;if(t!==+t)var m=q.keys(a),t=m.length;L(a,function(l,u,q){u=m?m[--t]:--t;g?h=b.call(f,h,a[u],u,q):(h=a[u],g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");
return h};q.find=q.detect=function(a,b,h){var f;S(a,function(a,d,g){if(b.call(h,a,d,g))return f=a,!0});return f};q.filter=q.select=function(a,b,h){var f=[];if(null==a)return f;if(B&&a.filter===B)return a.filter(b,h);L(a,function(a,d,g){b.call(h,a,d,g)&&(f[f.length]=a)});return f};q.reject=function(a,b,h){return q.filter(a,function(a,d,f){return!b.call(h,a,d,f)},h)};q.every=q.all=function(a,b,h){b||(b=q.identity);var g=!0;if(null==a)return g;if(J&&a.every===J)return a.every(b,h);L(a,function(a,d,t){if(!(g=
g&&b.call(h,a,d,t)))return f});return!!g};var S=q.some=q.any=function(a,b,h){b||(b=q.identity);var g=!1;if(null==a)return g;if(D&&a.some===D)return a.some(b,h);L(a,function(a,d,t){if(g||(g=b.call(h,a,d,t)))return f});return!!g};q.contains=q.include=function(a,b){return null==a?!1:E&&a.indexOf===E?-1!=a.indexOf(b):S(a,function(a){return a===b})};q.invoke=function(a,b){var h=v.call(arguments,2),f=q.isFunction(b);return q.map(a,function(a){return(f?b:a[b]).apply(a,h)})};q.pluck=function(a,b){return q.map(a,
function(a){return a[b]})};q.where=function(a,b,h){return q.isEmpty(b)?h?null:[]:q[h?"find":"filter"](a,function(a){for(var d in b)if(b[d]!==a[d])return!1;return!0})};q.findWhere=function(a,b){return q.where(a,b,!0)};q.max=function(a,b,h){if(!b&&q.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&q.isEmpty(a))return-Infinity;var f={computed:-Infinity,value:-Infinity};L(a,function(a,d,g){d=b?b.call(h,a,d,g):a;d>=f.computed&&(f={value:a,computed:d})});return f.value};q.min=
function(a,b,h){if(!b&&q.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&q.isEmpty(a))return Infinity;var f={computed:Infinity,value:Infinity};L(a,function(a,d,g){d=b?b.call(h,a,d,g):a;d<f.computed&&(f={value:a,computed:d})});return f.value};q.shuffle=function(a){var b,h=0,f=[];L(a,function(a){b=q.random(h++);f[h-1]=f[b];f[b]=a});return f};var X=function(a){return q.isFunction(a)?a:function(b){return b[a]}};q.sortBy=function(a,b,h){var f=X(b);return q.pluck(q.map(a,function(a,
d,b){return{value:a,index:d,criteria:f.call(h,a,d,b)}}).sort(function(a,d){var b=a.criteria,k=d.criteria;if(b!==k){if(b>k||void 0===b)return 1;if(b<k||void 0===k)return-1}return a.index<d.index?-1:1}),"value")};var ea=function(a,b,h,f){var g={},t=X(b||q.identity);L(a,function(b,k){var m=t.call(h,b,k,a);f(g,m,b)});return g};q.groupBy=function(a,b,h){return ea(a,b,h,function(a,d,b){(q.has(a,d)?a[d]:a[d]=[]).push(b)})};q.countBy=function(a,b,h){return ea(a,b,h,function(a,d){q.has(a,d)||(a[d]=0);a[d]++})};
q.sortedIndex=function(a,b,h,f){h=null==h?q.identity:X(h);b=h.call(f,b);for(var g=0,t=a.length;g<t;){var m=g+t>>>1;h.call(f,a[m])<b?g=m+1:t=m}return g};q.toArray=function(a){return a?q.isArray(a)?v.call(a):a.length===+a.length?q.map(a,q.identity):q.values(a):[]};q.size=function(a){return null==a?0:a.length===+a.length?a.length:q.keys(a).length};q.first=q.head=q.take=function(a,b,h){return null==a?void 0:null==b||h?a[0]:v.call(a,0,b)};q.initial=function(a,b,h){return v.call(a,0,a.length-(null==b||
h?1:b))};q.last=function(a,b,h){return null==a?void 0:null==b||h?a[a.length-1]:v.call(a,Math.max(a.length-b,0))};q.rest=q.tail=q.drop=function(a,b,h){return v.call(a,null==b||h?1:b)};q.compact=function(a){return q.filter(a,q.identity)};var Q=function(a,b,h){L(a,function(a){q.isArray(a)?b?r.apply(h,a):Q(a,b,h):h.push(a)});return h};q.flatten=function(a,b){return Q(a,b,[])};q.without=function(a){return q.difference(a,v.call(arguments,1))};q.uniq=q.unique=function(a,b,h,f){q.isFunction(b)&&(f=h,h=b,
b=!1);h=h?q.map(a,h,f):a;var g=[],t=[];L(h,function(h,f){(b?f&&t[t.length-1]===h:q.contains(t,h))||(t.push(h),g.push(a[f]))});return g};q.union=function(){return q.uniq(m.apply(g,arguments))};q.intersection=function(a){var b=v.call(arguments,1);return q.filter(q.uniq(a),function(a){return q.every(b,function(d){return 0<=q.indexOf(d,a)})})};q.difference=function(a){var b=m.apply(g,v.call(arguments,1));return q.filter(a,function(a){return!q.contains(b,a)})};q.zip=function(){for(var a=v.call(arguments),
b=q.max(q.pluck(a,"length")),h=Array(b),f=0;f<b;f++)h[f]=q.pluck(a,""+f);return h};q.object=function(a,b){if(null==a)return{};for(var h={},f=0,g=a.length;f<g;f++)b?h[a[f]]=b[f]:h[a[f][0]]=a[f][1];return h};q.indexOf=function(a,b,h){if(null==a)return-1;var f=0,g=a.length;if(h)if("number"==typeof h)f=0>h?Math.max(0,g+h):h;else return f=q.sortedIndex(a,b),a[f]===b?f:-1;if(E&&a.indexOf===E)return a.indexOf(b,h);for(;f<g;f++)if(a[f]===b)return f;return-1};q.lastIndexOf=function(a,b,h){if(null==a)return-1;
var f=null!=h;if(O&&a.lastIndexOf===O)return f?a.lastIndexOf(b,h):a.lastIndexOf(b);for(h=f?h:a.length;h--;)if(a[h]===b)return h;return-1};q.range=function(a,b,h){1>=arguments.length&&(b=a||0,a=0);h=arguments[2]||1;for(var f=Math.max(Math.ceil((b-a)/h),0),g=0,t=Array(f);g<f;)t[g++]=a,a+=h;return t};q.bind=function(a,b){var h=v.call(arguments,2);return function(){return a.apply(b,h.concat(v.call(arguments)))}};q.partial=function(a){var b=v.call(arguments,1);return function(){return a.apply(this,b.concat(v.call(arguments)))}};
q.bindAll=function(a){var b=v.call(arguments,1);0===b.length&&(b=q.functions(a));L(b,function(b){a[b]=q.bind(a[b],a)});return a};q.memoize=function(a,b){var h={};b||(b=q.identity);return function(){var f=b.apply(this,arguments);return q.has(h,f)?h[f]:h[f]=a.apply(this,arguments)}};q.delay=function(a,b){var h=v.call(arguments,2);return setTimeout(function(){return a.apply(null,h)},b)};q.defer=function(a){return q.delay.apply(q,[a,1].concat(v.call(arguments,1)))};q.throttle=function(a,b){var h,f,g,
t,m=0,l=function(){m=new Date;g=null;t=a.apply(h,f)};return function(){var u=new Date,q=b-(u-m);h=this;f=arguments;0>=q?(clearTimeout(g),g=null,m=u,t=a.apply(h,f)):g||(g=setTimeout(l,q));return t}};q.debounce=function(a,b,h){var f,g;return function(){var t=this,m=arguments,l=h&&!f;clearTimeout(f);f=setTimeout(function(){f=null;h||(g=a.apply(t,m))},b);l&&(g=a.apply(t,m));return g}};q.once=function(a){var b=!1,h;return function(){if(b)return h;b=!0;h=a.apply(this,arguments);a=null;return h}};q.wrap=
function(a,b){return function(){var h=[a];r.apply(h,arguments);return b.apply(this,h)}};q.compose=function(){var a=arguments;return function(){for(var b=arguments,h=a.length-1;0<=h;h--)b=[a[h].apply(this,b)];return b[0]}};q.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};q.keys=I||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],h;for(h in a)q.has(a,h)&&(b[b.length]=h);return b};q.values=function(a){var b=[],h;for(h in a)q.has(a,
h)&&b.push(a[h]);return b};q.pairs=function(a){var b=[],h;for(h in a)q.has(a,h)&&b.push([h,a[h]]);return b};q.invert=function(a){var b={},h;for(h in a)q.has(a,h)&&(b[a[h]]=h);return b};q.functions=q.methods=function(a){var b=[],h;for(h in a)q.isFunction(a[h])&&b.push(h);return b.sort()};q.extend=function(a){L(v.call(arguments,1),function(b){if(b)for(var h in b)a[h]=b[h]});return a};q.pick=function(a){var b={},h=m.apply(g,v.call(arguments,1));L(h,function(h){h in a&&(b[h]=a[h])});return b};q.omit=
function(a){var b={},h=m.apply(g,v.call(arguments,1)),f;for(f in a)q.contains(h,f)||(b[f]=a[f]);return b};q.defaults=function(a){L(v.call(arguments,1),function(b){if(b)for(var h in b)null==a[h]&&(a[h]=b[h])});return a};q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a};q.tap=function(a,b){b(a);return a};var V=function(a,b,h,f){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof q&&(a=a._wrapped);b instanceof q&&(b=b._wrapped);var g=w.call(a);
if(g!=w.call(b))return!1;switch(g){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var t=h.length;t--;)if(h[t]==a)return f[t]==b;h.push(a);f.push(b);var t=0,m=!0;if("[object Array]"==g){if(t=a.length,m=t==b.length)for(;t--&&
(m=V(a[t],b[t],h,f)););}else{var g=a.constructor,l=b.constructor;if(g!==l&&!(q.isFunction(g)&&g instanceof g&&q.isFunction(l)&&l instanceof l))return!1;for(var u in a)if(q.has(a,u)&&(t++,!(m=q.has(b,u)&&V(a[u],b[u],h,f))))break;if(m){for(u in b)if(q.has(b,u)&&!t--)break;m=!t}}h.pop();f.pop();return m};q.isEqual=function(a,b){return V(a,b,[],[])};q.isEmpty=function(a){if(null==a)return!0;if(q.isArray(a)||q.isString(a))return 0===a.length;for(var b in a)if(q.has(a,b))return!1;return!0};q.isElement=
function(a){return!(!a||1!==a.nodeType)};q.isArray=l||function(a){return"[object Array]"==w.call(a)};q.isObject=function(a){return a===Object(a)};L("Arguments Function String Number Date RegExp".split(" "),function(a){q["is"+a]=function(b){return w.call(b)=="[object "+a+"]"}});q.isArguments(arguments)||(q.isArguments=function(a){return!(!a||!q.has(a,"callee"))});"function"!==typeof/./&&(q.isFunction=function(a){return"function"===typeof a});q.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
q.isNaN=function(a){return q.isNumber(a)&&a!=+a};q.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==w.call(a)};q.isNull=function(a){return null===a};q.isUndefined=function(a){return void 0===a};q.has=function(a,b){return z.call(a,b)};q.noConflict=function(){a._=b;return this};q.identity=function(a){return a};q.times=function(a,b,h){for(var f=Array(a),g=0;g<a;g++)f[g]=b.call(h,g);return f};q.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var T={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=q.invert(T.escape);var U={escape:new RegExp("["+q.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+q.keys(T.unescape).join("|")+")","g")};q.each(["escape","unescape"],function(a){q[a]=function(b){return null==b?"":(""+b).replace(U[a],function(b){return T[a][b]})}});q.result=function(a,b){if(null==a)return null;var h=a[b];return q.isFunction(h)?h.call(a):h};q.mixin=function(a){L(q.functions(a),function(b){var h=q[b]=
a[b];q.prototype[b]=function(){var a=[this._wrapped];r.apply(a,arguments);return t.call(this,h.apply(q,a))}})};var Y=0;q.uniqueId=function(a){var b=++Y+"";return a?a+b:b};q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/(.)^/,aa={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},h=/\\|'|\r|\n|\t|\u2028|\u2029/g;q.template=function(a,b,f){var g;f=q.defaults({},f,q.templateSettings);var t=new RegExp([(f.escape||
Z).source,(f.interpolate||Z).source,(f.evaluate||Z).source].join("|")+"|$","g"),m=0,l="__p+='";a.replace(t,function(b,f,k,g,t){l+=a.slice(m,t).replace(h,function(a){return"\\"+aa[a]});f&&(l+="'+\n((__t=("+f+"))==null?'':_.escape(__t))+\n'");k&&(l+="'+\n((__t=("+k+"))==null?'':__t)+\n'");g&&(l+="';\n"+g+"\n__p+='");m=t+b.length;return b});l+="';\n";f.variable||(l="with(obj||{}){\n"+l+"}\n");l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";
try{g=new Function(f.variable||"obj","_",l)}catch(u){throw u.source=l,u;}if(b)return g(b,q);b=function(a){return g.call(this,a,q)};b.source="function("+(f.variable||"obj")+"){\n"+l+"}";return b};q.chain=function(a){return q(a).chain()};var t=function(a){return this._chain?q(a).chain():a};q.mixin(q);L("pop push reverse shift sort splice unshift".split(" "),function(a){var b=g[a];q.prototype[a]=function(){var h=this._wrapped;b.apply(h,arguments);"shift"!=a&&"splice"!=a||0!==h.length||delete h[0];return t.call(this,
h)}});L(["concat","join","slice"],function(a){var b=g[a];q.prototype[a]=function(){return t.call(this,b.apply(this._wrapped,arguments))}});q.extend(q.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);
(function(){var a=this,b=a.Backbone,f=[],g=f.push,l=f.slice,r=f.splice,v;v="undefined"!==typeof exports?exports:a.Backbone={};v.VERSION="1.0.0";var m=a._;m||"undefined"===typeof require||(m=require("underscore"));v.$=a.jQuery||a.Zepto||a.ender||a.$;v.noConflict=function(){a.Backbone=b;return this};v.emulateHTTP=!1;v.emulateJSON=!1;var w=v.Events={on:function(a,b,d){if(!C(this,"on",a,[b,d])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:d,
ctx:d||this});return this},once:function(a,b,d){if(!C(this,"once",a,[b,d])||!b)return this;var f=this,g=m.once(function(){f.off(a,g);b.apply(this,arguments)});g._callback=b;return this.on(a,g,d)},off:function(a,b,d){var f,g,l,u,q,r,v,A;if(!this._events||!C(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events={},this;u=a?[a]:m.keys(this._events);q=0;for(r=u.length;q<r;q++)if(a=u[q],l=this._events[a]){this._events[a]=f=[];if(b||d)for(v=0,A=l.length;v<A;v++)g=l[v],(b&&b!==g.callback&&b!==
g.callback._callback||d&&d!==g.context)&&f.push(g);f.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=l.call(arguments,1);if(!C(this,"trigger",a,b))return this;var d=this._events[a],f=this._events.all;d&&u(d,b);f&&u(f,arguments);return this},stopListening:function(a,b,d){var f=this._listeners;if(!f)return this;var g=!b&&!d;"object"===typeof b&&(d=this);a&&((f={})[a._listenerId]=a);for(var m in f)f[m].off(b,d,this),g&&delete this._listeners[m];return this}},
z=/\s+/,C=function(a,b,d,f){if(!d)return!0;if("object"===typeof d){for(var g in d)a[b].apply(a,[g,d[g]].concat(f));return!1}if(z.test(d)){d=d.split(z);g=0;for(var m=d.length;g<m;g++)a[b].apply(a,[d[g]].concat(f));return!1}return!0},u=function(a,b){var d,f=-1,g=a.length,m=b[0],l=b[1],u=b[2];switch(b.length){case 0:for(;++f<g;)(d=a[f]).callback.call(d.ctx);break;case 1:for(;++f<g;)(d=a[f]).callback.call(d.ctx,m);break;case 2:for(;++f<g;)(d=a[f]).callback.call(d.ctx,m,l);break;case 3:for(;++f<g;)(d=
a[f]).callback.call(d.ctx,m,l,u);break;default:for(;++f<g;)(d=a[f]).callback.apply(d.ctx,b)}};m.each({listenTo:"on",listenToOnce:"once"},function(a,b){w[b]=function(b,f,g){var t=this._listeners||(this._listeners={}),l=b._listenerId||(b._listenerId=m.uniqueId("l"));t[l]=b;"object"===typeof f&&(g=this);b[a](f,g,this);return this}});w.bind=w.on;w.unbind=w.off;m.extend(v,w);var G=v.Model=function(a,b){var d,f=a||{};b||(b={});this.cid=m.uniqueId("c");this.attributes={};m.extend(this,m.pick(b,A));b.parse&&
(f=this.parse(f,b)||{});if(d=m.result(this,"defaults"))f=m.defaults({},f,d);this.set(f,b);this.changed={};this.initialize.apply(this,arguments)},A=["url","urlRoot","collection"];m.extend(G.prototype,w,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return m.clone(this.attributes)},sync:function(){return v.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return m.escape(this.get(a))},has:function(a){return null!=
this.get(a)},set:function(a,b,d){var f,g,l,u,q,r,v;if(null==a)return this;"object"===typeof a?(g=a,d=b):(g={})[a]=b;d||(d={});if(!this._validate(g,d))return!1;l=d.unset;u=d.silent;a=[];q=this._changing;this._changing=!0;q||(this._previousAttributes=m.clone(this.attributes),this.changed={});v=this.attributes;r=this._previousAttributes;this.idAttribute in g&&(this.id=g[this.idAttribute]);for(f in g)b=g[f],m.isEqual(v[f],b)||a.push(f),m.isEqual(r[f],b)?delete this.changed[f]:this.changed[f]=b,l?delete v[f]:
v[f]=b;if(!u)for(a.length&&(this._pending=!0),b=0,f=a.length;b<f;b++)this.trigger("change:"+a[b],this,v[a[b]],d);if(q)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,m.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=void 0;return this.set(b,m.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!m.isEmpty(this.changed):m.has(this.changed,
a)},changedAttributes:function(a){if(!a)return this.hasChanged()?m.clone(this.changed):!1;var b,d=!1,f=this._changing?this._previousAttributes:this.attributes,g;for(g in a)m.isEqual(f[g],b=a[g])||((d||(d={}))[g]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return m.clone(this._previousAttributes)},fetch:function(a){a=a?m.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(f){if(!b.set(b.parse(f,
a),a))return!1;d&&d(b,f,a);b.trigger("sync",b,f,a)};aa(this,a);return this.sync("read",this,a)},save:function(a,b,d){var f,g=this.attributes;null==a||"object"===typeof a?(f=a,d=b):(f={})[a]=b;if(!(!f||d&&d.wait||this.set(f,d)))return!1;d=m.extend({validate:!0},d);if(!this._validate(f,d))return!1;f&&d.wait&&(this.attributes=m.extend({},g,f));void 0===d.parse&&(d.parse=!0);var l=this,u=d.success;d.success=function(a){l.attributes=g;var b=l.parse(a,d);d.wait&&(b=m.extend(f||{},b));if(m.isObject(b)&&
!l.set(b,d))return!1;u&&u(l,a,d);l.trigger("sync",l,a,d)};aa(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=f);a=this.sync(a,this,d);f&&d.wait&&(this.attributes=g);return a},destroy:function(a){a=a?m.clone(a):{};var b=this,d=a.success,f=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(g){(a.wait||b.isNew())&&f();d&&d(b,g,a);b.isNew()||b.trigger("sync",b,g,a)};if(this.isNew())return a.success(),!1;aa(this,a);var g=this.sync("delete",this,a);a.wait||
f();return g},url:function(){var a=m.result(this,"urlRoot")||m.result(this.collection,"url")||Z();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},m.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=m.extend({},this.attributes,a);var d=this.validationError=
this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,m.extend(b||{},{validationError:d}));return!1}});m.each("keys values pairs invert pick omit".split(" "),function(a){G.prototype[a]=function(){var b=l.call(arguments);b.unshift(this.attributes);return m[a].apply(m,b)}});var B=v.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,
m.extend({silent:!0},b))},J={add:!0,remove:!0,merge:!0},D={add:!0,merge:!1,remove:!1};m.extend(B.prototype,w,{model:G,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return v.sync.apply(this,arguments)},add:function(a,b){return this.set(a,m.defaults(b||{},D))},remove:function(a,b){a=m.isArray(a)?a.slice():[a];b||(b={});var d,f,g,l;d=0;for(f=a.length;d<f;d++)if(l=this.get(a[d]))delete this._byId[l.id],delete this._byId[l.cid],g=this.indexOf(l),
this.models.splice(g,1),this.length--,b.silent||(b.index=g,l.trigger("remove",l,this,b)),this._removeReference(l);return this},set:function(a,b){b=m.defaults(b||{},J);b.parse&&(a=this.parse(a,b));m.isArray(a)||(a=a?[a]:[]);var d,f,n,l,u,q=b.at,v=this.comparator&&null==q&&!1!==b.sort,A=m.isString(this.comparator)?this.comparator:null,w=[],z=[],G={};d=0;for(f=a.length;d<f;d++)if(n=this._prepareModel(a[d],b))(l=this.get(n))?(b.remove&&(G[l.cid]=!0),b.merge&&(l.set(n.attributes,b),v&&!u&&l.hasChanged(A)&&
(u=!0))):b.add&&(w.push(n),n.on("all",this._onModelEvent,this),this._byId[n.cid]=n,null!=n.id&&(this._byId[n.id]=n));if(b.remove){d=0;for(f=this.length;d<f;++d)G[(n=this.models[d]).cid]||z.push(n);z.length&&this.remove(z,b)}w.length&&(v&&(u=!0),this.length+=w.length,null!=q?r.apply(this.models,[q,0].concat(w)):g.apply(this.models,w));u&&this.sort({silent:!0});if(b.silent)return this;d=0;for(f=w.length;d<f;d++)(n=w[d]).trigger("add",n,this,b);u&&this.trigger("sort",this,b);return this},reset:function(a,
b){b||(b={});for(var d=0,f=this.models.length;d<f;d++)this._removeReference(this.models[d]);b.previousModels=this.models;this._reset();this.add(a,m.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,m.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,m.extend({at:0},b));return a},shift:function(a){var b=
this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return m.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var f in a)if(a[f]!==b.get(f))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});m.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(m.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,d){b||(b=this.comparator);var f=m.isFunction(b)?b:function(a){return a.get(b)};return m.sortedIndex(this.models,a,f,d)},pluck:function(a){return m.invoke(this.models,"get",a)},fetch:function(a){a=a?m.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(f){d[a.reset?"reset":
"set"](f,a);b&&b(d,f,a);d.trigger("sync",d,f,a)};aa(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?m.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,f=b.success;b.success=function(g){b.wait&&d.add(a,b);f&&f(a,g,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof G)return a.collection||
(a.collection=this),a;b||(b={});b.collection=this;var d=new this.model(a,b);return d._validate(a,b)?d:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,d,f){if("add"!==a&&"remove"!==a||d===this)"destroy"===a&&this.remove(b,f),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});m.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),
function(a){B.prototype[a]=function(){var b=l.call(arguments);b.unshift(this.models);return m[a].apply(m,b)}});m.each(["groupBy","countBy","sortBy"],function(a){B.prototype[a]=function(b,d){var f=m.isFunction(b)?b:function(a){return a.get(b)};return m[a](this.models,f,d)}});var f=v.View=function(a){this.cid=m.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},E=/^(\S+)\s*(.*)$/,O="model collection el id attributes className tagName events".split(" ");
m.extend(f.prototype,w,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof v.$?a:v.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=m.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];m.isFunction(d)||
(d=this[a[b]]);if(d){var f=b.match(E),g=f[1],f=f[2],d=m.bind(d,this),g=g+(".delegateEvents"+this.cid);if(""===f)this.$el.on(g,d);else this.$el.on(g,f,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=m.extend({},m.result(this,"options"),a));m.extend(this,m.pick(a,O));this.options=a},_ensureElement:function(){if(this.el)this.setElement(m.result(this,"el"),!1);else{var a=m.extend({},m.result(this,"attributes"));
this.id&&(a.id=m.result(this,"id"));this.className&&(a["class"]=m.result(this,"className"));a=v.$("<"+m.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});v.sync=function(a,b,d){var f=I[a];m.defaults(d||(d={}),{emulateHTTP:v.emulateHTTP,emulateJSON:v.emulateJSON});var g={type:f,dataType:"json"};d.url||(g.url=m.result(b,"url")||Z());null!=d.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(d.attrs||b.toJSON(d)));d.emulateJSON&&(g.contentType=
"application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(d.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST";d.emulateJSON&&(g.data._method=f);var l=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(l)return l.apply(this,arguments)}}"GET"===g.type||d.emulateJSON||(g.processData=!1);"PATCH"!==g.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});
a=d.xhr=v.ajax(m.extend(g,d));b.trigger("request",b,a,d);return a};var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};v.ajax=function(){return v.$.ajax.apply(v.$,arguments)};var q=v.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,X=/\*\w+/g,ea=/[\-{}\[\]+?.,\\\^$|#\s]/g;m.extend(q.prototype,w,{initialize:function(){},route:function(a,b,d){m.isRegExp(a)||(a=this._routeToRegExp(a));
m.isFunction(b)&&(d=b,b="");d||(d=this[b]);var f=this;v.history.route(a,function(g){g=f._extractParameters(a,g);d&&d.apply(f,g);f.trigger.apply(f,["route:"+b].concat(g));f.trigger("route",b,g);v.history.trigger("route",f,b,g)});return this},navigate:function(a,b){v.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=m.result(this,"routes");for(var a,b=m.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(ea,"\\$&").replace(L,
"(?:$1)?").replace(S,function(a,b){return b?a:"([^/]+)"}).replace(X,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return m.map(d,function(a){return a?decodeURIComponent(a):null})}});var Q=v.History=function(){this.handlers=[];m.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},V=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,U=/msie [\w.]+/,Y=/\/$/;Q.started=!1;m.extend(Q.prototype,w,{interval:50,getHash:function(a){return(a=
(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var d=this.root.replace(Y,"");a.indexOf(d)||(a=a.substr(d.length))}else a=this.getHash();return a.replace(V,"")},start:function(a){if(Q.started)throw Error("Backbone.history has already been started");Q.started=!0;this.options=m.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;
this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=U.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(T,"/");b&&this._wantsHashChange&&(this.iframe=v.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)v.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&
"onhashchange"in window&&!b)v.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&b&&a.hash&&(this.fragment=
this.getHash().replace(V,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){v.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);Q.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return m.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!Q.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var d=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(d);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash="#"+b}});v.history=new Q;G.extend=B.extend=q.extend=f.extend=Q.extend=function(a,b){var d=this,f;f=a&&m.has(a,"constructor")?a.constructor:function(){return d.apply(this,
arguments)};m.extend(f,d,b);var g=function(){this.constructor=f};g.prototype=d.prototype;f.prototype=new g;a&&m.extend(f.prototype,a);f.__super__=d.prototype;return f};var Z=function(){throw Error('A "url" property or function must be specified');},aa=function(a,b){var d=b.error;b.error=function(f){d&&d(a,f,b);a.trigger("error",a,f,b)}}}).call(this);
(function(a){a(_,Backbone)})(function(a,b){function f(b){var g={},l=r.keyPathSeparator,z;for(z in b){var C=b[z];if(C&&C.constructor===Object&&!a.isEmpty(C)){var C=f(C),u;for(u in C)g[z+l+u]=C[u]}else g[z]=C}return g}function g(b,f,g){f=f.split(r.keyPathSeparator);g||!1===g;for(var l=0,C=f.length;l<C;l++){if(g&&!a.has(b,f[l]))return!1;b=b[f[l]];null==b&&l<C-1&&(b={});if("undefined"===typeof b)break}return g?!0:b}function l(b,f,g,l){l=l||{};f=f.split(r.keyPathSeparator);for(var C=0,u=f.length;C<u&&
void 0!==b;C++){var G=f[C];C===u-1?l.unset?delete b[G]:b[G]=g:("undefined"!==typeof b[G]&&a.isObject(b[G])||(b[G]={}),b=b[G])}}var r=b.Model.extend({constructor:function(b,f){var g,l=b||{};this.cid=a.uniqueId("c");this.attributes={};f&&f.collection&&(this.collection=f.collection);f&&f.parse&&(l=this.parse(l,f)||{});if(g=a.result(this,"defaults"))l=a.deepExtend({},g,l);this.set(l,f);this.changed={};this.initialize.apply(this,arguments)},toJSON:function(b){return a.deepClone(this.attributes)},get:function(a){return g(this.attributes,
a)},set:function(b,m,w){var z,C,u,G,A,B,J;if(null==b)return this;"object"===typeof b?(C=b,w=m||{}):(C={})[b]=m;w||(w={});if(!this._validate(C,w))return!1;u=w.unset;A=w.silent;G=[];B=this._changing;this._changing=!0;B||(this._previousAttributes=a.deepClone(this.attributes),this.changed={});J=this.attributes;b=this._previousAttributes;this.idAttribute in C&&(this.id=C[this.idAttribute]);C=f(C);for(z in C)m=C[z],a.isEqual(g(J,z),m)||G.push(z),a.isEqual(g(b,z),m)?l(this.changed,z,null,{unset:!0}):l(this.changed,
z,m),u?l(J,z,null,{unset:!0}):l(J,z,m);if(!A)for(G.length&&(this._pending=!0),m=r.keyPathSeparator,z={},C=0,u=G.length;C<u;C++){b=G[C];z.hasOwnProperty(b)&&z[b]||(z[b]=!0,this.trigger("change:"+b,this,g(J,b),w));b=b.split(m);for(var D=b.length-1;0<D;D--){var E=a.first(b,D).join(m),O=E+m+"*";z.hasOwnProperty(O)&&z[O]||(z[O]=!0,this.trigger("change:"+O,this,g(J,E),w));z.hasOwnProperty(E)&&z[E]||(z[E]=!0,this.trigger("change:"+E,this,g(J,E),w))}}if(B)return this;if(!A)for(;this._pending;)this._pending=
!1,this.trigger("change",this,w);this._changing=this._pending=!1;return this},clear:function(b){var g={},l=f(this.attributes),r;for(r in l)g[r]=void 0;return this.set(g,a.extend({},b,{unset:!0}))},hasChanged:function(b){return null==b?!a.isEmpty(this.changed):void 0!==g(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?f(this.changed):!1;var g=this._changing?this._previousAttributes:this.attributes;b=f(b);var g=f(g),l,r=!1,C;for(C in b)a.isEqual(g[C],l=b[C])||((r||(r={}))[C]=
l);return r},previous:function(a){return null!=a&&this._previousAttributes?g(this._previousAttributes,a):null},previousAttributes:function(){return a.deepClone(this._previousAttributes)}});r.keyPathSeparator=".";b.DeepModel=r;"undefined"!=typeof module&&(module.exports=r);return b});
(function(){var a,b,f,g;b=window.device;a={};window.device=a;g=window.navigator.userAgent.toLowerCase();a.safari=function(){return f("safari")&&!a.chrome()};a.chrome=function(){return f("chrome")};a.ios=function(){return a.iphone()||a.ipod()||a.ipad()};a.iphone=function(){return!a.windows()&&f("iphone")};a.ipod=function(){return f("ipod")};a.ipad=function(){return f("ipad")};a.chromeIOS=function(){return f("crios")};a.android=function(){return!a.windows()&&f("android")};a.androidPhone=function(){return a.android()&&
f("mobile")};a.androidTablet=function(){return a.android()&&!f("mobile")};a.blackberry=function(){return f("blackberry")||f("bb10")||f("rim")};a.blackberryPhone=function(){return a.blackberry()&&!f("tablet")};a.blackberryTablet=function(){return a.blackberry()&&f("tablet")};a.windows=function(){return f("windows")};a.windowsPhone=function(){return a.windows()&&f("phone")};a.windowsTablet=function(){return a.windows()&&f("touch")&&!a.windowsPhone()&&!f("trident")};a.fxos=function(){return(f("(mobile;")||
f("(tablet;"))&&f("; rv:")};a.fxosPhone=function(){return a.fxos()&&f("mobile")};a.fxosTablet=function(){return a.fxos()&&f("tablet")};a.meego=function(){return f("meego")};a.cordova=function(){return window.cordova&&"file:"===location.protocol};a.nodeWebkit=function(){return"object"===typeof window.process};a.mobile=function(){return a.androidPhone()||a.iphone()||a.ipod()||a.windowsPhone()||a.blackberryPhone()||a.fxosPhone()||a.meego()};a.tablet=function(){return a.ipad()||a.androidTablet()||a.blackberryTablet()||
a.windowsTablet()||a.fxosTablet()};a.desktop=function(){return!a.tablet()&&!a.mobile()};a.television=function(){var a,b="googletv viera smarttv internet.tv netcast nettv appletv boxee kylo roku dlnadoc roku pov_tv hbbtv ce-html".split(" ");for(a=0;a<b.length;){if(f(b[a]))return!0;a++}return!1};a.portrait=function(){return 1<window.innerHeight/window.innerWidth};a.landscape=function(){return 1>window.innerHeight/window.innerWidth};a.noConflict=function(){window.device=b;return this};f=function(a){return-1!==
g.indexOf(a)}}).call(this);
var config=parent.jivo_config,jivo=parent.jivo,machina=function(a,b){var f=[].slice,g={makeFsmNamespace:function(){var a=0;return function(){return"fsm."+a++}}(),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:g.makeFsmNamespace(),targetReplayState:"",state:b,priorState:b,_priorAction:"",_currentAction:""}}};if(!a.deepExtend){var l={"*":function(a,b,f){a[b]=f},object:function(a,b,f){a[b]=v({},a[b]||{},f)},array:function(b,
f,g){b[f]=[];a.each(g,function(a,g){l[r(a)](b[f],g,a)},this)}},r=function(b){b=a.isArray(b)?"array":a.isDate(b)?"date":a.isRegExp(b)?"regex":typeof b;return l[b]?b:"*"},v=function(b){a.each(f.call(arguments,1),function(f){a.each(f,function(a,f){l[r(a)](b,f,a)})});return b};a.mixin({deepExtend:v})}var m=function(b){a.extend(this,b);a.defaults(this,g.getDefaultOptions());this.initialize.apply(this,arguments);C.emit("newfsm",this);this.initialState&&this.transition(this.initialState)};a.extend(m.prototype,
{initialize:function(){},emit:function(b){var g=arguments;this.eventListeners["*"]&&a.each(this.eventListeners["*"],function(a){try{a.apply(this,f.call(g,0))}catch(b){reportException(b),log(b.message)}},this);this.eventListeners[b]&&a.each(this.eventListeners[b],function(a){try{a.apply(this,f.call(g,1))}catch(b){reportException(b),log(b.message)}},this)},handle:function(g){if(!this.inExitHandler){var l=this.states,m=this.state,r=f.call(arguments,0),v,w;this.currentActionArgs=r;l[m][g]||l[m]["*"]||
this["*"]?(v=l[m][g]?g:"*",w="*"===v,l[m][v]?(l=l[m][v],m=m+"."+v):(l=this["*"],m="*"),this._currentAction||(this._currentAction=m),this.emit.call(this,"handling",{inputType:g,args:r.slice(1)}),a.isFunction(l)&&(l=l.apply(this,w?r:r.slice(1))),a.isString(l)&&this.transition(l),this.emit.call(this,"handled",{inputType:g,args:r.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue("handler")):this.emit.call(this,"nohandler",{inputType:g,args:r.slice(1)});this.currentActionArgs=
b}},transition:function(a){if(!this.inExitHandler&&a!==this.state){var b;if(this.states[a]){this.targetReplayState=a;this.priorState=this.state;this.state=a;b=this.priorState;this.states[b]&&this.states[b]._onExit&&(this.inExitHandler=!0,this.states[b]._onExit.call(this),this.inExitHandler=!1);this.emit.call(this,"transition",{fromState:b,action:this._currentAction,toState:a});if(this.states[a]._onEnter)try{this.states[a]._onEnter.call(this)}catch(f){reportException(f),log(f.message)}this.targetReplayState===
a&&this.processQueue("transition")}else this.emit.call(this,"invalidstate",{state:this.state,attemptedState:a})}},processQueue:function(b){b=a.filter(this.eventQueue,"transition"===b?function(a){return"transition"===a.type&&(!a.untilState||a.untilState===this.state)}:function(a){return"handler"===a.type},this);this.eventQueue=a.difference(this.eventQueue,b);a.each(b,function(a){this.handle.apply(this,a.args)},this)},clearQueue:function(b,f){if(b){var g;"transition"===b?g=function(a){return"transition"===
a.type&&(f?a.untilState===f:!0)}:"handler"===b&&(g=function(a){return"handler"===a.type});this.eventQueue=a.filter(this.eventQueue,g)}else this.eventQueue=[]},deferUntilTransition:function(a){this.currentActionArgs&&(a={type:"transition",untilState:a,args:this.currentActionArgs},this.eventQueue.push(a),this.emit.call(this,"deferred",{state:this.state,queuedArgs:a}))},deferUntilNextHandler:function(){if(this.currentActionArgs){var a={type:"transition",args:this.currentActionArgs};this.eventQueue.push(a);
this.emit.call(this,"deferred",{state:this.state,queuedArgs:a})}},on:function(a,b){var f=this;f.eventListeners[a]||(f.eventListeners[a]=[]);f.eventListeners[a].push(b);return{eventName:a,callback:b,off:function(){f.off(a,b)}}},off:function(b,f){b?this.eventListeners[b]&&(this.eventListeners[b]=f?a.without(this.eventListeners[b],f):[]):this.eventListeners={}}});m.prototype.trigger=m.prototype.emit;var w=function(){},z=function(b,f,g){var l;l=f&&f.hasOwnProperty("constructor")?f.constructor:function(){b.apply(this,
arguments)};a.deepExtend(l,b);w.prototype=b.prototype;l.prototype=new w;f&&a.deepExtend(l.prototype,f);g&&a.deepExtend(l,g);l.prototype.constructor=l;l.__super__=b.prototype;return l};m.extend=function(a,b){var f=z(this,a,b);f.extend=this.extend;return f};var C={Fsm:m,utils:g,on:function(a,b){this.eventListeners[a]||(this.eventListeners[a]=[]);this.eventListeners[a].push(b);return b},off:function(b,f){this.eventListeners[b]&&(this.eventListeners[b]=a.without(this.eventListeners[b],f))},trigger:function(b){var g=
arguments,l=this.eventListeners[b]||[];l&&l.length&&a.each(l,function(a){a.apply(null,f.call(g,1))})},eventListeners:{newFsm:[]}};C.emit=C.trigger;return C}(_);
(function(a){var b=a.setTimeout,f=a.document,g=0;a.jivoXHR=function(){function l(){try{C.parentNode.removeChild(C)}catch(a){}}function r(a){try{u.onerror.call(u,a,w)}catch(b){throw Error(a);}}function v(){this.readyState&&"complete"!==this.readyState&&"loaded"!==this.readyState||z||(this.onload=this.onreadystatechange=null,z=!0,4!==u.readyState&&r("Script failed to load ["+w+"]."),l())}function m(a){a=a||[];u.readyState=4;u.status=200;"function"===typeof u.onload&&u.onload.apply(u,a)}var w,z,C,u=
null,u={onerror:null,onload:null,readyState:0,open:function(b,f){z=!1;w="";l();C=null;var v="cb"+g++;(function(b){a.jivoXHR[b]=function(){try{m.call(u,arguments)}catch(f){u.readyState=-1,r(f.message)}a.jivoXHR[b]=null}})(v);w=f.replace(/=\?/,"=jivoXHR."+v)},send:function(){b(function(){C=f.createElement("script");C.setAttribute("type","text/javascript");C.charset="UTF-8";C.onload=C.onreadystatechange=function(){v.call(C)};C.setAttribute("src",w);f.getElementsByTagName("head")[0].appendChild(C)},0)},
abort:function(){},setRequestHeader:function(){},getResponseHeader:function(){return""},getAllResponseHeaders:function(){return[]}};z=!1;w="";l();C=null;return u}})(window);
machina.on("newfsm",function(a){a.on("handling",function(a){log(this.namespace+": handling "+a.inputType+" in state "+this.state)});a.on("nohandler",function(a){log(this.namespace+": unhandled "+a.inputType+" in state "+this.state)});a.on("transition",function(a){log([this.namespace+":","transition from:",a.fromState,"to:",a.toState,"action:",a.action].join(" "))})});
var TimeMachine=machina.Fsm.extend({_fireEvent:function(a){delete this._scheduled_events[a];this.handle(a)},_scheduleEvent:function(a,b){a in this._scheduled_events?log(this.namespace+": attempt to re-schedule event"+a):(log(this.namespace+": scheduling "+a+" for "+b),this._scheduled_events[a]=setTimeout(underscore.bind(this._fireEvent,this,a),b))},_cancelEvent:function(a){a in this._scheduled_events?(clearTimeout(this._scheduled_events[a]),delete this._scheduled_events[a]):log(this.namespace+": attempt to cancel not scheduled event",
a)},constructor:function(){this._scheduled_events={};machina.Fsm.apply(this,arguments)}}),VOXIMPLANT_URL="//cdn.voximplant.com/voximplant.min.js",WebPhone=machina.Fsm.extend({namespace:"WP",autoCall:!1,agentId:"",states:{uninitialized:{call:function(){this.autocall=!0;this.transition("initializing")},init:function(){this.transition("initializing")}},initializing:{_onEnter:function(){loadScript(VOXIMPLANT_URL,underscore.bind(this.handle,this,"script_loaded"),underscore.bind(this.handle,this,"script_load_error"))},
script_loaded:function(){this.emit("WebPhoneInitializing",{name:"WebPhoneInitializing"});this.vox=VoxImplant.getInstance();this.vox.init({useFlashOnly:!1,micRequired:!0,swfContainer:"rtc_placeholder",progressTone:!0});this.vox.addEventListener(VoxImplant.Events.SDKReady,underscore.bind(this.handle,this,"vox_init"))},script_load_error:function(a){reportException({message:"Error loading voximplant script",fileName:"web_phone.js"})},vox_init:function(){this.transition("connecting")},call:function(){this.autocall=
!0}},initialized:{_onEnter:function(){this.emit("WebPhoneInitialized",{name:"WebPhoneInitialized"})},call:function(){this.autocall=!0;this.transition("connecting")},init:function(){this.transition("connecting")}},connecting:{_onEnter:function(){this.emit("WebPhoneConnecting",{name:"WebPhoneConnecting"});this.vox.connect();this.vox.addEventListener(VoxImplant.Events.MicAccessResult,underscore.bind(function(a){a.result||this.handle("vox_mic_access_denied")},this));this.vox.addEventListener(VoxImplant.Events.ConnectionEstablished,
underscore.bind(function(a){this.handle("vox_connected")},this));this.vox.addEventListener(VoxImplant.Events.ConnectionFailed,underscore.bind(function(a){this.handle("vox_connection_failed")},this));this.vox.addEventListener(VoxImplant.Events.ConnectionClosed,underscore.bind(function(a){this.handle("vox_connection_closed")},this))},vox_connected:function(){this.transition("authenticating")},vox_connection_failed:function(){this.transition("initialized")},vox_connection_closed:function(){this.transition("initialized")},
vox_mic_access_denied:function(){this.transition("mic_disabled")},call:function(){this.autocall=!0},hangup:function(){this.transition("initialized")}},connected:{_onEnter:function(){this.emit("WebPhoneConnected",{name:"WebPhoneConnected"})},call:function(){this.autocall=!0;this.transition("authenticating")},init:function(){this.transition("authenticating")}},authenticating:{_onEnter:function(){this.emit("WebPhoneAuthenticating",{name:"WebPhoneAuthenticating"});this.vox.addEventListener(VoxImplant.Events.AuthResult,
underscore.bind(function(a){a.result?this.handle("vox_authenticated"):302==a.code?this.handle("vox_key_received",a.key):this.handle("vox_authentication_failed")},this));this.vox.requestOneTimeLoginKey(config.vox_login)},vox_key_received:function(a){getJSONP(config.base_url+"/script/sign?cb=?&key="+a,underscore.bind(function(a){a.result?this.handle("vox_hash_received",a.hash):this.handle("vox_authentication_failed")},this))},vox_hash_received:function(a){this.vox.loginWithOneTimeKey(config.vox_login,
a)},vox_authenticated:function(){this.autocall?this.transition("progressing"):this.transition("idle")},vox_authentication_failed:function(){this.transition("connected")},call:function(){this.autocall=!0},hangup:function(){this.transition("connected")}},idle:{_onEnter:function(){var a="WebPhoneIdle";"authenticating"===this.priorState&&(a="WebPhoneAuthenticated");this.emit(a,{name:a})},call:function(){this.transition("progressing")},disconnect:function(){this.vox.disconnect();this.transition("initialized")}},
progressing:{_onEnter:function(){this.emit("WebPhoneProgressing",{name:"WebPhoneProgressing"});this.voxCall=this.vox.call(this.agentId,!1,"",{"X-jv-sessid":cookie("sess_id")});this.voxCall.addEventListener(VoxImplant.CallEvents.Connected,underscore.bind(function(a){this.handle("vox_call_connected")},this));this.voxCall.addEventListener(VoxImplant.CallEvents.Failed,underscore.bind(function(a){this.handle("vox_call_failed")},this));this.voxCall.addEventListener(VoxImplant.CallEvents.Disconnected,underscore.bind(function(a){this.handle("vox_call_disconnected")},
this))},vox_call_connected:function(){this.transition("joined")},vox_call_failed:function(){this.transition("idle")},hangup:function(){this.voxCall.hangup();this.transition("idle")}},joined:{_onEnter:function(){this.emit("WebPhoneJoined",{name:"WebPhoneJoined"})},vox_call_disconnected:function(){this.transition("idle")},hangup:function(){this.voxCall.hangup();this.transition("idle")}},mic_disabled:{_onEnter:function(){this.emit("WebPhoneMicDisabled",{name:"WebPhoneMicDisabled"})}}},setAgentId:function(a){this.agentId=
a}});"object"!==typeof JSON&&(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){l.lastIndex=0;return l.test(a)?'"'+a.replace(l,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a,g){var l,m,A,B,J=r,D,E=g[a];E&&"object"===typeof E&&"function"===typeof E.toJSON&&(E=E.toJSON(a));"function"===typeof w&&(E=w.call(g,a,E));switch(typeof E){case "string":return b(E);case "number":return isFinite(E)?String(E):"null";case "boolean":case "null":return String(E);
case "object":if(!E)return"null";r+=v;D=[];if("[object Array]"===Object.prototype.toString.apply(E)){B=E.length;for(l=0;l<B;l+=1)D[l]=f(l,E)||"null";A=0===D.length?"[]":r?"[\n"+r+D.join(",\n"+r)+"\n"+J+"]":"["+D.join(",")+"]";r=J;return A}if(w&&"object"===typeof w)for(B=w.length,l=0;l<B;l+=1)"string"===typeof w[l]&&(m=w[l],(A=f(m,E))&&D.push(b(m)+(r?": ":":")+A));else for(m in E)Object.prototype.hasOwnProperty.call(E,m)&&(A=f(m,E))&&D.push(b(m)+(r?": ":":")+A);A=0===D.length?"{}":r?"{\n"+r+D.join(",\n"+
r)+"\n"+J+"}":"{"+D.join(",")+"}";r=J;return A}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r,v,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,g){var l;v=r="";if("number"===typeof g)for(l=0;l<g;l+=1)v+=" ";else"string"===typeof g&&(v=g);if((w=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return f("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function f(a,g){var l,m,r=a[g];if(r&&"object"===typeof r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(m=f(r,l),void 0!==m?r[l]=m:delete r[l]);return b.call(a,g,r)}var l;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+a+")"),"function"===typeof b?f({"":l},""):l;throw new SyntaxError("JSON.parse");})})();var underscore=_.noConflict(),devicejs=device.noConflict();underscore.templateSettings.interpolate=/\{\{(.+?)\}\}/g;var appVersion=navigator.appVersion,ie8=-1!==appVersion.indexOf("MSIE 8."),ie9=-1!==appVersion.indexOf("MSIE 9."),ie=-1!==appVersion.indexOf("MSIE");
function addListener(a,b,f){a.addEventListener?a.addEventListener(b,f,!1):a.attachEvent&&(a.attachEvent("on"+b,function(a){return function(){f.call(a,window.event)}}(a)),a=null)}function removeEvent(a,b,f){if(window.removeEventListener)a.removeEventListener(b,f,!1);else if(window.detachEvent)a.detachEvent("on"+b,function(){f.call(a)});else return!1}
function loadScript(a,b,f){var g=document.createElement("script");g.type="text/javascript";g.readyState?g.onreadystatechange=function(){"loaded"==g.readyState||"complete"==g.readyState?(g.onreadystatechange=null,b()):f({target:g,readyState:readyState})}:(g.onload=function(){b()},g.onerror=function(a){f(a)});g.src=a;"undefined"!=typeof log&&log("adding script "+a);document.getElementsByTagName("head")[0].appendChild(g)}
function setIframeLoadCallback(a,b){a.readyState?(log("Using readyState callback"),a.onreadystatechange=function(){if("loaded"==a.readyState||"complete"==a.readyState)a.onreadystatechange=null,b()}):(log("Using onload callback"),a.onload=function(){"about:blank"!=a.contentWindow.location.href&&(b(),a.onload=null)})}
var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,g=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(l,r,v){var m=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(l)||/\d/.test(l)||(r=l,l=void 0);"string"===typeof l&&isNaN(new Date(l))&&
(l=l.replace(/-/g,"/").replace("T"," ").split(".").shift()+"Z");l=l?new Date(l):new Date;if(isNaN(l))throw SyntaxError("invalid date");r=String(m.masks[r]||r||m.masks["default"]);"UTC:"==r.slice(0,4)&&(r=r.slice(4),v=!0);var w=v?"getUTC":"get",z=l[w+"Date"](),C=l[w+"Day"](),u=l[w+"Month"](),G=l[w+"FullYear"](),A=l[w+"Hours"](),B=l[w+"Minutes"](),J=l[w+"Seconds"](),w=l[w+"Milliseconds"](),D=v?0:l.getTimezoneOffset(),E={d:z,dd:g(z),ddd:m.i18n.dayNames[C],dddd:m.i18n.dayNames[C+7],m:u+1,mm:g(u+1),mmm:m.i18n.monthNames[u],
mmmm:m.i18n.monthNames[u+12],yy:String(G).slice(2),yyyy:G,h:A%12||12,hh:g(A%12||12),H:A,HH:g(A),M:B,MM:g(B),s:J,ss:g(J),l:g(w,3),L:g(99<w?Math.round(w/10):w),t:12>A?"a":"p",tt:12>A?"am":"pm",T:12>A?"A":"P",TT:12>A?"AM":"PM",Z:v?"UTC":(String(l).match(b)||[""]).pop().replace(f,""),o:(0<D?"-":"+")+g(100*Math.floor(Math.abs(D)/60)+Math.abs(D)%60,4),S:["th","st","nd","rd"][3<z%10?0:(10!=z%100-z%10)*z%10]};return r.replace(a,function(a){return a in E?E[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
var base_langpack={b_onlineCallDefaultText:"Call us for Free!",cw_callAfter:"Call in",cw_callButtonText:"Call back",cw_callFree:"The call is free charge. Powered by JivoChat",cw_chat:"Chat",cw_chatWithOperator:"Chat with agent",cw_close:"Close",cw_code_restrict:"Invalid direction",cw_connecting:"Connecting",cw_enterPhonePlaceholder:"Enter your phone",cw_errInfoText:"Please try to call again or contact us in the live chat",cw_formCenterText:"Did you find what you were looking for?",cw_form_second:"second",
cw_form_secondd:"seconds",cw_form_seconds:"seconds",cw_pickUpPhone:"Please pick up the phone",cw_rate_limit:"The call to the specified number is not possible",cw_repeatCall:"call again",cw_repeatCallAgain:"Call again",cw_reportPlaceholder:"Report the problem, we'll deal!",cw_reportProblem:"report a problem",cw_seconds:"seconds",cw_textSend:"send",cw_thxForCall:"Thank you for the call!",cw_typeInChat:"Chat with us",cw_unableToConnect:"The connection failed?",cw_weCalling:"We are calling you",cw_weRecallAfter:"Call back in",
c_callConnected:"Call established",c_callDisconnected:"Call finished",c_callProcessing:"Calling agent...",defCallformTitle:"Leave your number and we will call you back",defOfflineFormText:"Leave your message in the form below, and we will receive it by e-mail!",defOfflineWidgetLabel:"Send us a message",defOfflineWidgetLabelMobile:"Message",defOnlineWidgetLabel:"Chat with us, we are online!",defOnlineWidgetLabelMobile:"Chat",defRuleInvitationText:"Hello! How may I help you?",defRuleRetaining:"Please wait. All agents are busy right now, but soon someone will get free and help you!",
lblAgentDisconnected:"Agent disconnected",lblCallMe:"Call",lblCaptcha:"Type the text",lblCaptchaError:"Error, please try again",lblChatEnded:"Chat ended",lblChatIsOnline:"Agent is online",lblConnectedToAgent:"Please type your message",lblConnectionLost:"Connection lost. Reconnecting...",lblDeclineFile:"Reject",lblDefaultCobrowseComment:"Please note",lblEnterMessageHere:"Type here and hit <Enter>",lblEnterMessageOrPhoneHere:"Start chat or enter your phone number (we will call you back instantly)",
lblEvaluateCancel:"Cancel",lblEvaluatePlease:"Please rate the service quality",lblEvaluateThanks:"Thank you!",lblHangUp:"Hangup",lblHangUpShort:"Hangup",lblIntroduceButton:"Introduce",lblIntroduceName:"Your name",lblIntroduceRequest:"Please introduce yourself",lblIntroduceRequestBefore:"Introduce Yourself and Chat!",lblLeaveMessage:"Send us a message",lblLookingForFreeAgent:"Connecting...",lblMessageError:"Unfortunately message was not sent due to a technical error",lblMessageHere:"Type here",lblNegative:"Bad",
lblNewMessage:"New message!",lblNoOperators:"Unfortunately, nobody can take the chat at the moment",lblOfflineMessageSend:"Message was sent",lblOperatorsOnline:"Agents are online!",lblPencilHint:"Agent is typing a message",lblPhoneHint:"Click &quot;Allow&quot; to use microphone for the call.\r\nYour web cam will not be used",lblPositive:"Good",lblPwrBy:'Powered by <a href="https://www.ipchat.com/_URL_" target="_blank"><span class="j1">Jivo</span><span class="j2">Chat</span></a>',lblReceiveFile:"Accept",
lblReopenedElseWhere:"Chat opened in another window",lblReply:"Reply",lblSelectDep:"Select Department",lblSend:"Send",lblSendBefore:"Start Chat",lblSendingFile:"_AGENT_ is sending you file: _FILE_",lblThanks:"Thank you!",lblThankYouMessage:"Thank you for your message! We will contact you as soon as possible",lblTransferred:"Chat was transferred to agent _AGENT_",lblView:"View",lblWaitForOperator:"Please wait for an agent to answer the call...",lblWebPhoneFlashError:"Your Flash plugin version does not support web calls. Please use the chat",
lblWebPhoneMicError:"Microphone setup has failed. Please use the chat",lblWebPhoneNotAvail:"Web calls are unavailable due to connection issues. Please use the chat",lblWebPhoneNotConnected:"Call cannot be established. Please use the chat",lblYourEmail:"Your email",lblYourMessage:"Your message",lblYourPhone:"Your phone",lnkCloseThisWindow:"Close",lnkRestartChat:"Resume",ofl_enterEmail:"Please, enter e-mail",ofl_enterMessage:"Please, enter message",ofl_enterName:"Please, enter your name",ofl_enterValidEmail:"Please, enter valid email",
ofl_enterValidPhone:"Please, enter a valid phone number",seo_copyrightTextNew:'Live Chat Powered by <a href="https://www.ipchat.com/" target="_blank" id="jivosite-copyright" class="jivo-_COLOR_ jivo-en"></a>'};function translate(a){return"custom_langpack"in config&&a in config.custom_langpack?config.custom_langpack[a].replace(/\n/g,"<br />").replace(/'/g,"&#039;"):translate_basic(a)}function translate_basic(a){return a in base_langpack?base_langpack[a].replace(/\n/g,"<br />"):a}
function cookie(a,b,f){"__utmz"!=a&&(a=["jv",a,config.widget_id].join("_"));if(1<arguments.length&&"[object Object]"!==String(b)){"undefined"===typeof f&&(f={});null===b||void 0===b?(log("Clearing COOKIE "+a),f.expires=-1):log("Set COOKIE "+a+" with value "+b);if("number"===typeof f.expires){var g=f.expires,l=f.expires=new Date;l.setDate(l.getDate()+g)}b=String(b);return document.cookie=[encodeURIComponent(a),"=",encodeURIComponent(b),f.expires?"; expires="+f.expires.toUTCString():"",config.cookie_domain&&
!jivo.isSeparateWindow()?"; domain="+config.cookie_domain:"","; path=/"].join("")}f=b||{};l=f.raw?function(a){return a}:decodeURIComponent;return(g=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?l(g[1]):null}function getJSONP(a,b){}function getJSONPWithData(a,b,f){}var error_sent_cnt=0;
function reportException(a){if(config.disable_error_reporting)log("REPORT",a);else if(!(3<++error_sent_cnt))try{getJSONPWithData("//err.ipsite.com/widget",{widget_id:config.widget_id,message:a.message,url:window.top.location.href,lineNumber:a.lineNumber,fileName:a.fileName},log)}catch(b){log(b.message)}}
function telemetry(a,b){"object"!=typeof b&&(b={});b.event=a;b.widget_id=config.widget_id;b.chat_mode=config.chat_mode;cookie("client_id")&&(b.client_id=cookie("client_id").split(".")[0]);try{getJSONPWithData("//telemetry.ipsite.com/w",b,log)}catch(f){log(f.message)}}
function callWidgetPing(a,b){var f={name:"cw_ping"};cookie("client_id")&&(f.jv_client_id=cookie("client_id"));cookie("sess_id")&&(f.jv_sess_id=cookie("sess_id"));b&&(f=underscore.extend(f,b));getJSONPWithData(chatServerUrl(config.widget_id,config.site_id),f,function(b){"ok"===b.result&&a(b)})}
function setUTMParams(a){a=a.substr(a.indexOf("?")+1).split("&");var b,f,g="";for(f=a.length;f--;)b=a[f].split("="),0<=b[0].indexOf("utm_")&&(b=a[f],g+=(0<g.length?"|":"")+b.substr(b.indexOf("utm_")+4));g&&cookie("utm",g)}function setImplicitGuiMessage(a,b){var f=0,g=b||"";underscore.each(underscore.pairs(a),function(a){10>f&&(g=g+a[0]+": "+a[1]+"; \n",f+=1)});0<f&&jivo.handle("gui_message",g,{implicit:1})}
function highlightUrls(a){return stripBrackets(a).replace(/(\s|"|'|^)((?:(?:http|https|ftp|ftps|mailto):\/\/)?)((?:[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]|[\~\!\#$\%\^\&\*\(\)\+\=\_\-\:\;?\/\[\]\{\}\`\.]|(?:,(?!\s)))*\.(?:\u0440\u0444|com|aero|biz|com|coop|edu|eu|gov|info|int|mil|museum|name|net|org|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|travel|xxx|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)(?:[a-zA-Z\u0430-\u044f\u0410-\u042f0-9]|[\~\!\#$\%\^\&\*\(\)\+\=\_\-\:\;?\/\[\]\{\}\`\.]|(?:,(?!\s)))*)/gim,function(a,
f,g,l){g||(g="http://");a=document.domain;a=a.replace("www.","");a=-1==l.indexOf(a,0)?"_blank":"col_old_page";return f+"<a href='"+g+l+"' target='"+a+"'>"+l+"</a>"})}function nl2br(a){return a.replace(/\n/g,"<br />")}function stripBrackets(a){return underscore.isUndefined(a)?"":a.replace(/</g,"&lt;").replace(/>/g,"&gt;")}var CLASS_LIST_SUPPORTED="classList"in document.documentElement;function splitClasses(a){return underscore.isArray(a)?a:a.replace(/^\s+|\s+$/g,"").split(/\s+/)}
function forceRedraw(a){a.offsetHeight}function getClasses(a){return splitClasses(a.className)}function setClasses(a,b){var f=b.join(" ");a.className!==f&&(a.className=f,forceRedraw(a))}
var hasClass=CLASS_LIST_SUPPORTED?function(a,b){return a.classList.contains(b)}:function(a,b){return""!==a.className&&underscore.contains(getClasses(a),b)},addClass=CLASS_LIST_SUPPORTED?function(a,b){underscore.each(splitClasses(b),function(b){a.classList.add(b)});forceRedraw(a)}:function(a,b){var f=getClasses(a),f=underscore.union(f,splitClasses(b));setClasses(a,f)},removeClass=CLASS_LIST_SUPPORTED?function(a,b){underscore.each(splitClasses(b),function(b){a.classList.remove(b)});forceRedraw(a)}:
function(a,b){var f=getClasses(a),f=underscore.difference(f,splitClasses(b));setClasses(a,f)},toggleClass=CLASS_LIST_SUPPORTED?function(a,b,f){b=underscore.uniq(splitClasses(b));underscore.each(b,function(b){a.classList.toggle(b,f)});forceRedraw(a)}:function(a,b,f){var g=getClasses(a),l=[],r=[];underscore.each(splitClasses(b),function(a){var b=underscore.contains(g,a)?!0!==f&&r:!1!==f&&l;b&&b.push(a)});b=underscore.union(underscore.difference(g,r),l);setClasses(a,b)};
function removeProperty(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)}function removeElement(a){a.parentNode.removeChild(a)}function prefixedEvent(a,b,f){for(var g=["webkit","moz","MS","o",""],l=0;l<g.length;l++)g[l]||(b=b.toLowerCase()),a.addEventListener(g[l]+b,f,!1)}function css3AnimationIsSupported(){var a=utils.browser,b=a.name;return!!("Firefox"===b&&23<a.mV||"Chrome"===b&&28<a.mV||"Safari"===b&&5<a.mV)}
function switchClasses(a,b,f){removeClass(a,b);addClass(a,f)}function getOffsetRect(a){a=a.getBoundingClientRect();var b=document.body,f=document.documentElement;return{top:Math.round(a.top+(window.pageYOffset||f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0)),left:Math.round(a.left+(window.pageXOffset||f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0))}}
function getElementPosition(a){var b=a.ownerDocument,f=b.all&&!window.opera,b=f?b.compatMode&&"BackCompat"!=b.compatMode?b.documentElement:b.body:b.defaultView||b.parentWindow,g={left:0,top:0},l;if(a.getBoundingClientRect)g=underscore.extend(g,a.getBoundingClientRect());else for(l=a;l;)g.left+=l.offsetLeft,g.top+=l.offsetTop,l=l.offsetParent;g.width=a.offsetWidth;g.height=a.offsetHeight;g.windowWidth=f?b.clientWidth:b.innerWidth;g.windowHeight=f?b.clientHeight:b.innerHeight;return g}
function setElementPosition(a,b){a.style.cssText+="; top: "+b.top+"px; left : "+b.left+"px; width : "+b.width+"px; height: "+b.height+"px";return this}function setSubstrTitle(a){return a.substr(0,255)}function getConfigContactsAsk(){var a=!0;underscore.each(["name","phone","email"],function(b){config.contacts_settings[b].show&&(a=!1)},this);a&&(config.contacts_ask=2)}
function getIconLocale(){if(void 0===config.iconLocale){var a=underscore.find(["ru_RU","be","kk","uk"],function(a){return a===config.locale});config.iconLocale=a?a:"en"}return config.iconLocale}function getURLParam(a,b){for(var f=(b||window.location||"").search.substring(1).split("&"),g=0;g<f.length;g++){var l=f[g].split("=");if(l[0]==a)return decodeURIComponent(l[1])}}function getByIdFromParent(a){return(a=window.parent.document.getElementById(a))&&$(a)}
function proxy(a,b,f){return a[b].apply(a,f)}
var utils={fields:["client_name","phone","email"],phoneReg:/^\+?[0-9() -]+$/i,showAd:function(){return!(config.options&8&&config.hide_ad)},hideOffline:function(){return 0<config.hide_offline&&config.options&512},isValidValue_phone:function(a){return 5<=a.replace(/\D+/g,"").length&&this.phoneReg.test(a)},isValidValue_mobilePhone:function(a){var b=a.replace(/\D+/g,""),f=-1;-1!==underscore.indexOf(["7","8"],b.charAt(0))?f=11:"9"===b.charAt(0)&&(f=10);return-1!==underscore.indexOf(["7","8","9"],b.charAt(0))&&
b.length===f&&this.phoneReg.test(a)},isValidValue_email:function(a){return 4<=a.length&&/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(a)},isValidValue_name:function(a){return 0<a.length&&100>a.length}};
(function(a){if(!a.browser){a.browser={};a.browser.mozilla=!1;a.browser.webkit=!1;a.browser.opera=!1;a.browser.msie=!1;var b=navigator.userAgent;a.browser.ua=b;a.browser.name=navigator.appName;a.browser.fV=""+parseFloat(navigator.appVersion);a.browser.mV=parseInt(navigator.appVersion,10);var f,g;-1!=(g=b.indexOf("Opera"))?(a.browser.opera=!0,a.browser.name="Opera",a.browser.fV=b.substring(g+6),-1!=(g=b.indexOf("Version"))&&(a.browser.fV=b.substring(g+8))):-1!=(g=b.indexOf("MSIE"))?(a.browser.msie=
!0,a.browser.name="Microsoft Internet Explorer",a.browser.fV=b.substring(g+5)):-1!=b.indexOf("Trident")?(a.browser.msie=!0,a.browser.name="Microsoft Internet Explorer",f=b.indexOf("rv:")+3,a.browser.fV=b.substring(f,f+4)):-1!=(g=b.indexOf("Chrome"))?(a.browser.webkit=!0,a.browser.name="Chrome",a.browser.fV=b.substring(g+7)):-1!=(g=b.indexOf("Safari"))?(a.browser.webkit=!0,a.browser.name="Safari",a.browser.fV=b.substring(g+7),-1!=(g=b.indexOf("Version"))&&(a.browser.fV=b.substring(g+8))):-1!=(g=b.indexOf("AppleWebkit"))?
(a.browser.webkit=!0,a.browser.name="Safari",a.browser.fV=b.substring(g+7),-1!=(g=b.indexOf("Version"))&&(a.browser.fV=b.substring(g+8))):-1!=(g=b.indexOf("Firefox"))?(a.browser.mozilla=!0,a.browser.name="Firefox",a.browser.fV=b.substring(g+8)):(f=b.lastIndexOf(" ")+1)<(g=b.lastIndexOf("/"))&&(a.browser.name=b.substring(f,g),a.browser.fV=b.substring(g+1),a.browser.name.toLowerCase()==a.browser.name.toUpperCase()&&(a.browser.name=navigator.appName));-1!=(b=a.browser.fV.indexOf(";"))&&(a.browser.fV=
a.browser.fV.substring(0,b));-1!=(b=a.browser.fV.indexOf(" "))&&(a.browser.fV=a.browser.fV.substring(0,b));a.browser.mV=parseInt(""+a.browser.fV,10);isNaN(a.browser.mV)&&(a.browser.fV=""+parseFloat(navigator.appVersion),a.browser.mV=parseInt(navigator.appVersion,10));a.browser.version=a.browser.mV}})(utils);function staticUrl(a,b){b||(a+="?rnd=1446137274");return config.static_host?"//"+config.static_host+a:config.base_url+a}
function chatServerUrl(){var a=window.location.protocol+"//";"comet"in config&&(a+=config.comet.host,"https:"==window.location.protocol?"secure_port"in config.comet&&(a+=":"+config.comet.secure_port):"plain_port"in config.comet&&(a+=":"+config.comet.plain_port));return a+"/jsonp/"+underscore.toArray(arguments).join("/")}
var _templates={message:{message:underscore.template("<% if (jivo.isSeparateWindow()) {%>\n<div id='jivo_action'>\n<div id='jivo_close_button' data-action='close'></div>\n</div>\n<% } %>\n<div id='header-avatar' class='header {{ config.widget_font_color }}'>\n<div id='header-avatar-container'>\n<div id='header-animate-container'>\n<div class='info'>\n<div class='agent-name'>{{ header }}</div>\n</div>\n</div>\n</div>\n<div class='clear'></div>\n</div>\n<div class='special-logo'></div>\n<div id='offline-form' class='message<% if (templateData.nologo) {%> nologo<% } %>'>\n<div id='offline-form-inner' class='system-message-container'>\n<div class='description message'>{{ msg }}</div>\n<div id='buttons'></div>\n</div>\n<div id='jivosite-adword' class='<% if (templateData.locale) {%>jivosite-adword-{{ templateData.locale }}<% } %>'>\n<div class='content'>\n{{ templateData.link }}\n</div>\n</div>\n</div>")},offline:{form:underscore.template("<% if (jivo.isSeparateWindow()) {%>\n<div id='jivo_action'>\n<div id='jivo_close_button' data-action='close'></div>\n</div>\n<% } %>\n<div id='header-avatar' class='header {{ config.widget_font_color }}'>\n<div id='header-avatar-container'>\n<div id='header-animate-container'>\n<div class='info'>\n<div class='agent-name'>{{ header }}</div>\n</div>\n</div>\n</div>\n<div class='clear'></div>\n</div>\n<div class='special-logo'></div>\n<div id='offline-form'<% if (nologo) {%> class='nologo'<% } %>>\n<div id='offline-form-inner'>\n<div id='offline-form-fields'>\n<div class='description'>{{ text }}</div>\n<% if (fields.get('message').show()) {%>\n<div class='field-wrapper message'>\n<textarea id='message' maxlength='{{ maxMessageLength }}' class='input-field offline-message' placeholder='{{ translate('lblYourMessage') }}<% if (fields.get('message').required()) {%>*<% } %>'>{{fields.get('message').value()}}</textarea>\n<div id='error-message' class='error-balloon multiline'>{{ translate('ofl_enterMessage') }}</div>\n</div>\n<% } %>\n<% if (fields.get('name').show()) {%>\n<div class='field-wrapper'>\n<input id='name' type='text' class='input-field' placeholder='{{ translate('lblIntroduceName') }}<% if (fields.get('name').required()) {%>*<% } %>' value='{{_.escape(cookie('client_name'))}}'>\n<div id='error-name' class='error-balloon'>{{ translate('ofl_enterName') }}</div>\n</div>\n<% } %>\n<% if (fields.get('phone').show()) {%>\n<div class='field-wrapper'>\n<input id='phone' type='tel' class='input-field' placeholder='{{ translate('lblYourPhone') }}<% if (fields.get('phone').required()) {%>*<% } %>' value='{{ cookie('phone') }}'>\n<div id='error-phone' class='error-balloon'>{{ translate('ofl_enterValidPhone') }}</div>\n</div>\n<% } %>\n<% if (fields.get('email').show()) {%>\n<div class='field-wrapper'>\n<input id='email' type='email' class='input-field' placeholder='{{ translate('lblYourEmail') }}<% if (fields.get('email').required()) {%>*<% } %>' value='{{ cookie('email') }}'>\n<div id='error-email' class='error-balloon'>{{ translate('ofl_enterValidEmail') }}</div>\n</div>\n<% } %>\n<div class='buttons'>\n<div class='left-button'>\n<a id='cancel' class='jivoBtn cancel' href='#'>{{ translate('lblEvaluateCancel') }}</a>\n</div>\n<div>\n<input id='submit' type='button' value='{{ translate('lblSend') }}' class='jivoBtn accept'>\n</div>\n</div>\n<div class='captcha-container'>\n<div class='body'>\n<img src='' alt='captcha code image'>\n<input type='text' class='input-field cap_symbols' value='' placeholder='{{ translate('lblCaptcha') }}'>\n<input id='resend' type='button' class='jivoBtn accept' value='Ok'>\n</div>\n<p><div class='error'>{{ translate('lblCaptchaError') }}</div></p>\n</div>\n<a id='cancelCap' class='jivoBtn cancel' href='#'>{{ translate('lblEvaluateCancel') }}</a>\n<div class='clear'/>\n</div>\n<div id='jivosite-adword' class='<% if (locale) {%>jivosite-adword-{{ locale }}<% } %>'>\n<div class='content'>\n{{ link }}\n</div>\n</div>\n</div>")},
online:{chat:underscore.template("<% if (jivo.isSeparateWindow()) {%>\n<div id='jivo_action'>\n<div id='jivo_close_button' data-action='close'></div>\n</div>\n<% } %>\n<div id='jivosite-iframe-chat'>\n<div id='header-avatar' class='header {{ config.widget_font_color }}'>\n<div id='header-avatar-container'>\n<div id='header-animate-container'>\n<div class='header-animate-info header-animate-first'>\n<div class='avatar'></div>\n<div class='info'>\n<div class='agent-name'>{{ agent.name }}</div>\n<div class='title'>{{ agent.title }}</div>\n</div>\n</div>\n<div class='header-animate-info header-animate-second'>\n<div class='avatar'></div>\n<div class='info'>\n<div class='agent-name'></div>\n<div class='title'></div>\n</div>\n</div>\n</div>\n</div>\n<div class='clear'></div>\n<div class='sound_player'></div>\n</div>\n<div id='chat-body'<% if (templateData.nologo) {%> class='nologo'<% } %>>\n<div id='jivo-chat'>\n<div id='scrollbar-container'>\n<div id='messages-div' class='viewport'>\n<div id='messages-div-outer'>\n<div id='messages-div-inner' class='overview messages-div-inner'>\n<div id='messages-div-inner-clear'></div>\n</div>\n</div>\n<div id='agent-typing'></div>\n</div>\n</div>\n</div>\n<div id='jivosite-adword' class='<% if (templateData.locale) {%>jivosite-adword-{{ templateData.locale }}<% } %>'>\n<div class='content'>\n{{ templateData.link }}\n</div>\n</div>\n<div id='input-div' class='<% if (devicejs.iphone()) {%>input-div-iphone<% } %>'>\n<div class='input-div-table'>\n<div class='td-textarea'>\n<textarea id='input-field' class='<% if (jivo.getCallWidget()) {%>input-field-callwidget<% } %>' name='input-field' maxlength='{{ templateData.maxMessageLength }}' placeholder='{{ templateData.lblEnterMessageHere }}' autocomplete='off'></textarea>\n</div>\n<div class='td-button'>\n<input id='input-button' type='button' value=<% if (jivo.isTablet() && !jivo.isSeparateWindow()) {%>'{{ translate('lblReply') }}'<% } else {%>'{{ translate('lblSend') }}' disabled<% } %> class='jivoBtn accept'>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class='special-logo'></div>\n<svg id='svg-image-blur'>\n<filter id='blur-effect'>\n<feGaussianBlur stdDeviation='5' />\n</filter>\n</svg>"),
agentMessage:underscore.template("<div class='new-msg-container {{ type }} {{ color }} <% if (history && history === true) {%>new-msg-container-history<% } %>'>\n<div class='pip'></div>\n<div class='new-msg-body {{ type }}'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text <% if (history && history === true) {%>new-msg-text-history<% } %>'>\n<div class='new-msg-text-inner'>{{ highlightUrls(text) }}</div>\n</div>\n</div>\n</div>\n<div class='new-time'>{{ dateFormat(time, 'H:MM') }}</div>\n</div>"),
clientMessage:underscore.template("<div class='new-msg-container {{ type }} <% if (history && history === true) {%>new-msg-container-history<% } %>'>\n<div class='pip'></div>\n<div class='new-msg-body {{ type }}'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text <% if (history && history === true) {%>new-msg-text-history<% } %>'>\n<div class='new-msg-text-inner'>{{ nl2br(highlightUrls(text)) }}</div>\n</div>\n</div>\n</div>\n<div class='new-time'>{{ dateFormat(time, 'H:MM') }}</div>\n</div>"),
systemMessage:underscore.template("<div class='new-msg-container {{ type }}'>\n<div class='new-msg-body {{ type }}'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text'>\n<div class='new-msg-text-inner'>{{ text }}</div>\n</div>\n</div>\n</div>\n</div>"),emptyMessage:underscore.template("<div class='new-msg-container {{ type }}' style='visible:hidden'>\n</div>"),connectionError:underscore.template("<div class='connectionError new-msg-container systemMessage'>\n<div class='new-msg-body systemMessage'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text'>\n<div class='new-msg-text-inner'>{{ text }}</div>\n</div>\n</div>\n</div>\n</div>"),
cobrowse_highlight:underscore.template("<div class='new-msg-container agentHighlight {{ color }} <% if (history && history === true) {%>new-msg-container-history<% } %>'>\n<div class='pip'></div>\n<div class='new-msg-text <% if (history && history === true) {%>new-msg-text-history<% } %>'>\n<div class='new-msg-text-inner'>{{ highlightUrls(comment) }}</div>\n</div>\n<div class='cobrowse-btn-container'>\n<a href='#' data-url='{{ page_url }}' data-hash='{{ hash }}'>\n<div class='white-cloud'></div>{{ translate('lblView') }}\n</a>\n</div>\n<div class='new-time'>{{ dateFormat(time, 'H:MM') }}</div>\n</div>"),
messageNode:underscore.template("<div class='new-msg-text <% if (history && history === true) {%>new-msg-text-history<% } %>'>\n<div class='new-msg-text-inner'><% if (type !== 'connectionError') {%>{{ highlightUrls(text) }}<% } else { %>{{ text }}<% } %></div>\n</div>"),typing:underscore.template("<div class='agent-typing-wrapper'>\n<div class='agent-typing'>\n{{ translate('lblPencilHint') }}\n</div>\n</div>"),receiveFile:underscore.template("<div class='new-msg-container {{ type }}'>\n<div class='new-msg-body'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text'>\n<div class='new-msg-text-inner'>{{ translate('lblSendingFile').replace('_FILE_', fileName).replace('_AGENT_', agentName) }}</div>\n</div>\n<div class='evaluation-btn-container'>\n<a href='{{ fileUrl }}' id='receive_file_{{ fileId }}' data-id='{{ fileId }}' data-name='{{ fileName }}' target='_blank' class='button accept'>{{ translate('lblReceiveFile') }}</a>\n<a href='#' class='button decline' data-id='{{ fileId }}' data-name='{{ fileName }}'>{{ translate('lblDeclineFile') }}</a>\n</div>\n</div>\n</div>\n</div>"),
highlight:underscore.template("<div class='new-msg-container {{ type }}'>\n<div class='pip'></div>\n<div class='new-msg-body {{type }}'>\n<div class='new-msg-body-inner'>\n<div class='new-msg-text'>\n<div class='new-msg-text-inner'>{{ text }}</div>\n</div>\n<div class='cobrowse-btn-container'>\n<a href='#' data-href='{{ hash }}'>\n<div class='white-cloud'></div>{{ lblView }}\n</a>\n</div>\n</div>\n</div>\n<div class='new-time'>{{ dateFormat(time, 'H:MM') }}</div>\n</div>"),introduceForm:underscore.template("<div id='introduce-form'<% if (nologo) {%> class='nologo'<% } %>>\n<div id='jivosite-adword' class='<% if (locale) {%>jivosite-adword-{{ locale }}<% } %>'>\n<div class='content'>\n{{ link }}\n</div>\n</div>\n<div id='introduce-avatar'>\n<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAABzCAYAAACrQz3mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADkdJREFUeNrsXQu0VkUVHn4el8fVFAIFcwmCRiBYKd0lj1zx8oFIAipaUGgSxIqHddUkWCVSBMrjQgsVgtQgwgcLFB9Qll5AeabiJSyIWyQqmhYgL3m0P8++9nPunnP/85/HzHDvXmuvH84598ye/Z09s2fPnplaJ06cUNm0bt065RAVErcj7kDcivlc4ibMBcSnEdcmPka8j/gw8b+ZdxHvZN5CvJV4v3KU6jgm7/nE3Yi7MLcL8bcA9Az+91kBzwHQNcylxH93RTm1LLfMBsR9ia8i7k3cwoAMu4lXEj9L/DTxAWfAtIHog7qZfgYxkLbRU8SLi4qKFiVUd/fBpEq0oZ9i4iHE9R1o1Q4RP0I8lYDdXgOmJ/xl9HMX8bV5/PlHxGXsvMCJKWenpsLBgbOzj5R9lMqpw85QQZaDBGepJTtOcKLaEzfKQ47lxJOpnJerJZgk9CX0M5H7w1zpHe6/4JysJt5GCjweo0wZ+mlL3JUdLPTTZ4d4xXPEPyaZNlULMEnYpvRTwn1iLgTLW8J91aukqBMpylqLfr5IfA3xjWy5udDjxN8jWd87ZcEkQWfQz+gcHv2A+6P5pJAtFjlmaIpv4X69cQ5/MpPkH3NKgUkCdqKfOcSXVPEoxnjTiH9DSjhsq+dD9UG/+03i23MY624mHkH1We88mCTcdPqp6ut8jXgCmtI0m9GYmmEMn37KzXEQzaC6jXUSTG6SfkXcKeCxch6OPOESiBpQBxD/nLhNwKMbiG8N6jqsA5MEupp+fk3cVPPIQeJJaFKpYgdjqkxD4i9ws3ch8ZlZXDdrKLOLPyIMIzYSH4mx6g246R3H/5YITtFQqvcK68EkYUbSz+yAR14gHkaV2RFDZb5EfB3x19nTzIQUF4H359m7Lo2j/lQv1AEx5LnE3QMe/T49OztOMDMxAzktAEhETEYR99QBmSPB+bgNY0x2LsbzgD+fuiCIMJD4JWJYynkxAYrgfE+u7yHNY7NYX7FRLJbJ3h0srrPmESh+IFWyLKIDgGHBvcTNE+r+drM1vRnFMn31ac/jzraaP1mLMiu8d6OWSYXj634xAMgnvTpWDWQAIQqznB2qpIAEYVbmMeLWcb2Q6/0VOHmaR6C3F0mPp0ctK45mdhVk1tybxBa5N8L7LyBer9KbQUGTjcD5+8qb9hpMXC8ioOibr+dWRXyEeCUBGqmcSM0sFQ6noatwC7P6t1ElFkQMZ6GJ+r0KFx9Ngt4i/gnxvLDNrFC/oewc1dY0uV1St0wSarIGSLj61+cDpI8+Q7zMAiBB5zAAmMMsjGilC9hKj2ia3GmpgklADqefOzVA9ieBl8agwLlx9l0x0U3cdxdEBHQpD6kkQBElGp4KmBwQmCPcQnt9i24wHJL68NdrI32NOGqrA0Cf4Y/jmHAb+r06UTAJyIs4siPRnSTgwhiUBZkmK7sJIAyIAdAnecws0cPEFyVpmfOVHKLDLPvUmBTVJ2wlDNEU9f8wYdQ+VPp4P8v6jh9Mnv2QguYYP90do5JuVW4QQnbXxvSuuzXjUOh7eqxDE56PXK+J7BRFHEdml9OYozAFjgAKZ6hfmKFJQN0RNHhFeZMFfkLQYUNclik5PId4CLI3RuX0cAhI0BUqpkxC1uMNSo7lzomlmeVUDylD4A4S4I2YlXOZcosKVNXZE2EAhT6LhVsoY0YkMAnIZkrO2UFQfXYCyumk3KNLY37fL1m/fgIOzaJYZolwDZPJwxLKDLjAQTDbxPky1usw1nMueFQNJlnll5WXXuiniRHnI3Xl1VP6zASb6by4X8j6nSjcujGoWQ+yzEnCtZ1hXOWQ1ELFPFmeEp2R0Huns75zwUUPJlkJAr5XCrcQ5TmUkPANlZvUIImXsp7v0HjQXcJYphREf1V5M+ZJUV1HwUxyjSsCCX+WRhI5gUlWeaEmsjEh4XRIV8FMqqWqcIYmCLeAT9tcLPOHwjVkmj/tqlISpoMJv38F699Pt+cC5mDh2n0pJCn/x1Ew303y5az3KcKtIYFgUhOLqR1/eArrHBeloJT/OgpmeQplLGYcsgnRp28EWeZNwoseTWkRz/4Umqwk6J9JF8D6f0S4NUgEk6yyYjMIPy1IQyPcnOyssUwtSXOb12QP6TI+D8lPZaTk10+lr9xVmTkI/4bGs60EppRzsiRlxexwDEh0C39NsTwJj6skMHsJDy5PWTmvOQYm9i74OMXyJDx6nQQm9ZdIafSn/e82oFzXwEx7B6zXGZdsAm6tsy2zm/CHqwwsgMW6jGMOgbkhzcIYj1XCrW7ZYEqZ6avT1gwJ+5Gmk7eRoNhSA+VKuHTNBlNK11hrSEkvOQLmZqHJS4PWCNc+mUXJUH9Zsc1nNsFCthlS0hpHwHzGULlvMj7ZhKB7YUbJW5+UxbnzVUhyZb/Xd0wUyrhIa13bAcyLNV5T+q7hunVtDYxt86USjeOYBkl+RQeA2Uq4YSqshsWormQcYH3lVENlS8GV1gCzpXCj3IBVYhbgSsfGmcg0N7GhsYRPS4D5OeHGvwwIiMFvI8fArKVp2ZKmXcK1cwGmlFj7rgEBDys36aiBMvcI15oCTGl3xg8NeYcunlzwNwNlSvg0BpgFNlgJh6q2OQbk28rbTtWGVqwgo/EeTZ0QsNIxMFcZKlfCpyHArCNYyceGhHzCMTCNyKvBp05G6sBpmFDXkJCId77gCJB/UV4aZOqkwedoRmeyBpX0XeVt42kzITb6bWVuuk7sGgGmlHxs8lwRbHXWlZsw27L10LzhhITLlbwtQFok4XMoo/HGGhtWGvJqsHXoTMvARNwYOTebDMsh4fNBRhMgOMsS5W21DExb5JECPXsApjTB2sISoW2b27RFnnOEa28BzHLhRktLhMaOyrakX8LpedkSWSR8ygGmNN3VyiJrWGaJHAhoHLFElvOFazsAppTe2NEiMB+2RI5HLdJJB+HaloymU2/Ph5zZQMh6+JNhGbAE4SkblMG4SGeSbc0UFRXtFwDFvGJbi77E6YbLf1CZmeqS6POq8rwvJij2V1if1LF3tghMpOWbSv3E0K3EIl1IuHyimwowtYm1FhF2fjRxxBSOhLJpnlVKIivNBlPKzO7FZ1zZQjhuY3bKZa41UGZQfwk8pAVeqz8Fk3eEelsIHHS0zDqLU2xukZqBlck2rX3poCoHdIDb9mzLBEkTrf0sAxMz7Feo5FeLHeG+aZdl9Zfw+BS3bDCfFR68QdlH+1NQMj4aGxf+Sng8J4G5TDPe7GhhpU44/v58+kvsWy/tXb+sEph8jqU0MB5qIZjHqxuYyjvUzk/YaOuAZJmg3wp/MJizzauTZR63zCqh/yHCrcXZ/zkJTLJOgOnPPGii5P2BaprZ9GgQ4+Dv1xdqwWSSAsrFlo05Gzj+/rBjS2kXy0qbPElg3i9cwxrOPhaB2SgFMOtYUtc+Sl5DO61KMKmpxcpcaYuSeyyyzsIUymhoiVXeI9wCPttysUyQtIsiDuseUI3ALLSgngNY77ngI4NJ1olcl+ell9DXUr8GzFSssr4GNOCyJmcwmcYJ15BOMsYwkPDq0kgFNX0sxxglp++M0/2BFkyyTuSG/k64NZ539DJF2Kk6jXHvXcpbTGvCKqHf8cIt4LEpNJhMozSOwQOGnCHMsf4gxbLGGnJ6HtA4YKOC/jYQTLJOTANJs+w9iUemXE8czoK9d9Jc1HSfSv8IyJGsXz8Bhz15g8mAjtaY9hQO/qZBvRnI01JWLKwEJ+SNTqPJJX221zg9m5R8Jls4MJlGaAbWS0iAJBXcgCuHaZ5mhvpotAQ4IS/Rk+lZj48pOfo0Ipd35AQmWSd2b5QW8eDgzgUJ9J/YYweHm2FOsdiUI+IjbHmODPvJcbcQrL/5Sj4IFXrfEBuYDChc5Y2age3PYqoUvNRvsfBIb2yu7CJYDU5jQmoq4qVnxvRe6G+gcH1jmKFgTscUZykbfeQflXe4daUhAwF+f54govkarryFtmcrdwjrTxDwnqW8ldShjymmumNqS8raf5+4O/GWRMDkwhH4lU4fwosGU2UWhnhXZ+4PkA5RT7lLFZv64iDTFaSDYznWv7/y1nzWFm7jZIRQy+xDg8lCDFfyOchIhOpPlVkR8LdwZJC98B0V80GiltCH7MiUkB7KAvSAAw6Waj7iETzWVImDycJMVvJpfgB0EFVkadaz+PIgPI6m6ue4FYYhDCkeUt5BPwez9HGd8rIE6mnGk6PzKSxvMFmoUiVnvh9jy0OTO4ijNher6kv/4OHNPHZ05mmaVuQEd8l7UBwFTAb0FfT7mts4rv50VUMVhJQc3awTTmL4qoqwBjSOZXu9lP5IiBogT6YgIHtTUxxpMW9kMEmAfcrbSmVtDVZ5EfR2Oelxb9QXRW5mfU3udGV+vtMlmkEgjvXp0Jxl+qwUgo2qwSgnGuUHMirFvtSdBJzFA973avASCZGdvqwnZTWYDCiCBj1UyscrOUCItXYn/SRyfnesfWZNPxpIM3myoip92WWZQj+KcejmagriZk8NRYl/0Ilbpu+rQxRkdDUCsoQzNcLoyF7L9Fkpvk5ssvj4KQ4i6tc8LJBOWabvC7xUebP2PSwGBcoJk+XwB+IfcWZGvnpxD8ws4RGoR46qyYVJR5iR6ZBP9h+8918Ql4adnHa2mdU0vauJMS7FjmCYLjJxWA2mogpDAgk55yovbwfyl5rWpXHL1HyZNytv6qyvhU0vtgrAXOQizcdpzDIrgRnlZQlQQ/7qsZU2cmdNbGqMzZVXMiPd8oCylGwH009Yg4E+FluOdVHJbNaIdY9rudnEzlfbXXGhXQPTT8hfRRY4dq7ChrotlXfqIFaJNWGHBs9gVh/ZD/vY0UF8FAcN4DTCcuXlwyILroyfcZL+J8AADxI/P7hyHu8AAAAASUVORK5CYII=' />\n</div>\n<div id='introduce-caption'>{{ translate('lblIntroduceRequest') }}</div>\n<% if (fields.get('name').show()) {%>\n<div class='field-wrapper'>\n<input id='name' type='text' class='input-field' placeholder='{{ translate('lblIntroduceName') }}<% if (fields.get('name').required()) {%>*<% } %>' value='{{_.escape(cookie('client_name'))}}'>\n<div id='error-name' class='error-balloon'>{{ translate('ofl_enterName') }}</div>\n</div>\n<% } %>\n<% if (fields.get('email').show()) {%>\n<div class='field-wrapper'>\n<input id='email' type='email' class='input-field' placeholder='{{ translate('lblYourEmail') }}<% if (fields.get('email').required()) {%>*<% } %>' value='{{ cookie('email') }}'>\n<div id='error-email' class='error-balloon'>{{ translate('ofl_enterValidEmail') }}</div>\n</div>\n<% } %>\n<% if (fields.get('phone').show()) {%>\n<div class='field-wrapper'>\n<input id='phone' type='tel' class='input-field' placeholder='{{ translate('lblYourPhone') }}<% if (fields.get('phone').required()) {%>*<% } %>' value='{{ cookie('phone') }}'>\n<div id='error-phone' class='error-balloon'>{{ translate('ofl_enterValidPhone') }}</div>\n</div>\n<% } %>\n<div class='message field-wrapper'>\n<textarea id='message' class='input-field' placeholder='{{ translate('lblYourMessage') }}<% if (fields.get('message').required()) {%>*<% } %>' maxlength='{{ maxMessageLength }}'><% if (typeof valueInputField !== 'undefined') {%>{{ valueInputField }}<% } %></textarea>\n<div id='error-message' class='error-balloon multiline'>{{ translate('ofl_enterMessage') }}</div>\n</div>\n<% if (departments) { %>\n<div class='departments'>\n<div id='current-department' class='input-field' data-id='{{ departments[0].id }}'>{{ departments[0].name }}</div>\n<ul id='departments-list'>\n<% _.each(departments, function(department) { %>\n<li data-id='{{ department.id }}'>{{ department.name }}</li>\n<% }) %>\n</ul>\n</div>\n<% } %>\n<div class='buttons'><div id='cancel-introduce' class='left-button'><a id='cancel' class='jivoBtn cancel' href='#'>{{ translate('lblEvaluateCancel') }}</a></div><div><input id='submit' type='button' value='{{ send }}' class='jivoBtn accept'></div></div>\n</div>"),
introducePopup:underscore.template("<div id='introduce-popup' style='height: 0'>\n<div id='introduce-popup-content'>\n<% if (config.contacts_ask !== -1) {%><a id='cancel' href='#'></a><% } %>\n<i class='icon-thx'></i>\n<div class='text-field'>{{ translate('lblIntroduceRequest') }}:</div>\n<% if (fields.get('name').show()) {%>\n<div class='field-wrapper'>\n<input id='name' type='text' class='input-field' placeholder='{{ translate('lblIntroduceName') }}<% if (fields.get('name').required()) {%>*<% } %>' value='{{ cookie('client_name') }}'>\n<div id='error-name' class='error-balloon'>{{ translate('ofl_enterName') }}</div>\n</div>\n<% } %>\n<% if (fields.get('email').show()) {%>\n<div class='field-wrapper'>\n<input id='email' type='email' class='input-field' placeholder='{{ translate('lblYourEmail') }}<% if (fields.get('email').required()) {%>*<% } %>' value='{{ cookie('email') }}'>\n<div id='error-email' class='error-balloon'>{{ translate('ofl_enterValidEmail') }}</div>\n</div>\n<% } %>\n<% if (fields.get('phone').show()) {%>\n<div class='field-wrapper'>\n<input id='phone' type='tel' class='input-field' placeholder='{{ translate('lblYourPhone') }}<% if (fields.get('phone').required()) {%>*<% } %>' value='{{ cookie('phone') }}'>\n<div id='error-phone' class='error-balloon'>{{ translate('ofl_enterValidPhone') }}</div>\n</div>\n<% } %>\n<div class='buttons'><input id='submit' type='button' value='{{ send }}' class='jivoBtn accept'></div>\n</div>\n</div>"),
departments:underscore.template("<div id='departments'<% if (nologo) {%> class='nologo'<% } %>>\n<% _.each(departments, function(department) { %>\n<a class='department' data-id='{{ department.id }}'>{{ department.name }}</a>\n<% }) %>\n</div>"),callButton:underscore.template("<div id='callme'><div></div></div>"),evaluation:underscore.template("<div id='evaluation-popup'>\n<div class='evaluation-text'>\n<div class='evaluation-text-inner'>{{ translate('lblEvaluatePlease') }}</div>\n</div>\n<div class='evaluation-btn-container visible'>\n<a href='#' class='button' id='positive'></a>\n<a href='#' class='button' id='negative'></a>\n<a href='#' class='cancel-icon' id='close-eval'></a>\n</div>\n<div class='evaluation-btn-container hidden'>\n<a href='#' class='button' id='cancel'>{{ translate('lblEvaluateCancel') }}</a>\n</div>\n</div>")}};
function log(){if("logs"in config){var a=Array.prototype.slice.call(arguments);if("undefined"!=typeof console&&"function"==typeof console.log)if(window.opera)for(a=0;a<arguments.length;)console.log("Item "+(a+1)+": "+arguments[a]),a++;else 1==a.length&&"string"==typeof a[0]?console.log(a.toString()):console.log(a);else"undefined"!=typeof console&&"object"==typeof console.log&&Function.prototype.call.call(console.log,console,a)}}function hexToR(a){return parseInt(cutHex(a).substring(0,2),16)}
function hexToG(a){return parseInt(cutHex(a).substring(2,4),16)}function hexToB(a){return parseInt(cutHex(a).substring(4,6),16)}function cutHex(a){return"#"==a.charAt(0)?a.substring(1,7):a}function rgbToHex(a,b,f){return toHex(a)+toHex(b)+toHex(f)}function toHex(a){a=parseInt(a,10);if(isNaN(a))return"00";a=Math.max(0,Math.min(a,255));return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)}
function adjustLightness(a,b,f){var g=hexToR(a),l=hexToG(a);a=hexToB(a);g=ColorConverter.toHSV(new RGB(g,l,a));g.v=0<g.v?g.v*b:100*(b-1);g.s*=f;b=ColorConverter.toRGB(g);return"#"+rgbToHex(b.r,b.g,b.b)}function getLightness(a){var b=hexToR(a),f=hexToG(a);a=hexToB(a);b=ColorConverter.toHSV(new RGB(b,f,a));log("hsv.v="+b.v);return b.v}function isLightColor(a){return 65<getLightness(a)}
function HSV(a,b,f){0>=a&&(a=0);0>=b&&(b=0);0>=f&&(f=0);360<a&&(a=360);100<b&&(b=100);100<f&&(f=100);this.h=a;this.s=b;this.v=f}function RGB(a,b,f){0>=a&&(a=0);0>=b&&(b=0);0>=f&&(f=0);255<a&&(a=255);255<b&&(b=255);255<f&&(f=255);this.r=a;this.g=b;this.b=f}function CMYK(a,b,f,g){0>=a&&(a=0);0>=b&&(b=0);0>=f&&(f=0);0>=g&&(g=0);100<a&&(a=100);100<b&&(b=100);100<f&&(f=100);100<g&&(g=100);this.c=a;this.m=b;this.y=f;this.k=g}
var ColorConverter={_RGBtoHSV:function(a){var b=new HSV(0,0,0),f=a.r/255,g=a.g/255;a=a.b/255;var l=Math.max(f,g,a),r=l-Math.min(f,g,a);b.v=l;if(0==r)b.h=0,b.s=0;else{b.s=r/l;var v=((l-f)/6+r/2)/r,m=((l-g)/6+r/2)/r,r=((l-a)/6+r/2)/r;f==l?b.h=r-m:g==l?b.h=1/3+v-r:a==l&&(b.h=2/3+m-v);0>b.h&&(b.h+=1);1<b.h&&--b.h}b.h=Math.round(360*b.h);b.s=Math.round(100*b.s);b.v=Math.round(100*b.v);return b},_HSVtoRGB:function(a){var b=new RGB(0,0,0),f=a.h/360,g=a.s/100;a=a.v/100;if(0==g)b.r=255*a,b.g=255*a,b.b=255*
a;else{var l=6*f,r=Math.floor(l),f=a*(1-g),v=a*(1-g*(l-r)),g=a*(1-g*(1-(l-r)));0==r?(r=a,l=g,a=f):1==r?(r=v,l=a,a=f):2==r?(r=f,l=a,a=g):3==r?(r=f,l=v):4==r?(r=g,l=f):(r=a,l=f,a=v);b.r=255*r;b.g=255*l;b.b=255*a;b.r=Math.round(b.r);b.g=Math.round(b.g);b.b=Math.round(b.b)}return b},_CMYKtoRGB:function(a){var b=new RGB(0,0,0),f=a.m/100,g=a.y/100,l=a.k/100;b.r=1-Math.min(1,a.c/100*(1-l)+l);b.g=1-Math.min(1,f*(1-l)+l);b.b=1-Math.min(1,g*(1-l)+l);b.r=Math.round(255*b.r);b.g=Math.round(255*b.g);b.b=Math.round(255*
b.b);return b},_RGBtoCMYK:function(a){var b=new CMYK(0,0,0,0),f=a.r/255,g=a.g/255;a=a.b/255;b.k=Math.min(1-f,1-g,1-a);b.c=(1-f-b.k)/(1-b.k);b.m=(1-g-b.k)/(1-b.k);b.y=(1-a-b.k)/(1-b.k);b.c=Math.round(100*b.c);b.m=Math.round(100*b.m);b.y=Math.round(100*b.y);b.k=Math.round(100*b.k);return b},toRGB:function(a){if(a instanceof RGB)return a;if(a instanceof HSV)return this._HSVtoRGB(a);if(a instanceof CMYK)return this._CMYKtoRGB(a)},toHSV:function(a){if(a instanceof HSV)return a;if(a instanceof RGB)return this._RGBtoHSV(a);
if(a instanceof CMYK)return this._RGBtoHSV(this._CMYKtoRGB(a))},toCMYK:function(a){if(a instanceof CMYK)return a;if(a instanceof RGB)return this._RGBtoCMYK(a);if(a instanceof HSV)return this._RGBtoCMYK(this._HSVtoRGB(a))}};window.onerror=function(a,b,f){reportException({message:a,lineNumber:f,fileName:b})};
var chat_contents={isInit:!1,init:function(a,b,f){log("CHAT_CONTENTS: init",b);this.view_settings={backgroundColor:config.widget_color,borderColor:adjustLightness(config.widget_color,.6,1),isDarkText:"dark"==config.widget_font_color};this.view_settings.isDarkText?(this.view_settings.shadowCss=adjustLightness(this.view_settings.backgroundColor,1.15,.7)+" 0 1px",this.view_settings.textColor=adjustLightness(this.view_settings.backgroundColor,.1,.5)):(this.view_settings.shadowCss=adjustLightness(this.view_settings.backgroundColor,
.6,1)+" 0 -1px",this.view_settings.textColor="#ffffff");"online"===a?(this.isInit||chat_view_online.create(this.view_settings,f),"object"===typeof b&&"call"===b.start&&config.options&128&&(jivo.getCallWidget()?jivo.handle("cw_ping",{title:!1,invitation:"jivo_api.open"}):this.wpInit())):this.isInit||chat_view_offline.create(this.view_settings,f);this.callWidgetButtonInit();this.isInit=!0},updateAgent:function(a){var b={"agent.id":a.agent_id,"agent.avatar":a.avatar_url,"agent.name":a.display_name,"agent.title":a.title,
"agent.vox_name":a.vox_name,"agent.online":!0,"agent.disableAnimation":a.disableAnimation?!0:!1};a.state&&!jivo.getCallWidget()?b["agent.calls"]=a.state.available_for_calls:this.callWidgetButtonInit();chat_view_online.setChatAttr(b)},callInit:function(a){this.callWidgetButtonInit();"object"===typeof a&&"call"===a.start&&(jivo.getCallWidget()?jivo.handle("cw_ping",{title:!1,invitation:"jivo_api.open"}):chat_view_online.getChatModel().get("agent.id")?chat_view_online.getChatModel().get("agent.calls")?
(chat_view_online.getCallView().addMessage(translate("c_callProcessing")),chat_view_online.getCallModel().getWebPhone().handle("call")):chat_view_online.getCallView().addMessage(translate("lblWebPhoneNotConnected")):config.options&128&&this.wpInit())},callWidgetButtonInit:function(){var a=jivo.getCallWidget(),b="online"===config.chat_mode?chat_view_online:chat_view_offline;a&&"CALL"!==a.state&&callWidgetPing(function(a){a=a.show_form?!0:!1;b.setChatAttr({"agent.calls":a,can_enter_phone:a})})},wpInit:function(){var a=
chat_view_online.getCallModel();a.isInit||(this.wp_ready_hook=a.getWebPhone().on("WebPhoneAuthenticated",underscore.bind(this.wpReady,this)),this.wp_fail_hook=a.getWebPhone().on("WebPhoneMicDisabled",underscore.bind(this.wpFail,this)),a.getWebPhone().handle("init"),chat_view_online.addConnectionError(translate("lblWaitForOperator")),a.isInit=!0)},wpReady:function(){this.wp_ready_hook.off();this.wp_fail_hook.off();this.auto_call=!0;jivo.handle("gui_start_call")},wpFail:function(){this.wp_ready_hook.off();
this.wp_fail_hook.off();chat_view_online.addConnectionError(translate("lblWebPhoneMicError"))},handle:function(a,b){log("CHAT_CONTENTS: handling "+a);switch(a){case "agent_typing":chat_view_online.setChatAttr({"agent.typing":b.typing});break;case "agent_message":chat_view_online.setChatAttr({"agent.typing":!1});jivo.isVisitorsInsight()&&chat_view_online.setChatAttr({inputEnabled:!0});b.invitation&&0<$(".agentMessage").length&&chat_view_online.hideInvitationMessage();chat_view_online.addAgentMessage(b.message);
jivo.handle("gui_agent_message_ack",[b.msg_id]);jivo.isVisitorsInsight()&&0<$(".connectionError").length&&chat_view_online.hideConnectionError();break;case "system_message":chat_view_online.addSystemMessage(b.message);break;case "agent_service_message":handleServiceMessage(b);break;case "accept":this.updateAgent(b.agent_info);this.auto_call&&(this.auto_call=!1,chat_view_online.getCallModel().getWebPhone().handle("call"));1===config.contacts_ask&&jivo.invitationText&&chat_view_online.getIntroduceView().close();
config.departments&&chat_view_online.getDepartmentsView().close();break;case "agent_chat_close":var f=[],g=['<input type="button" class="jivoBtn reject reject-chat-btn" id="close-chat-btn" value="'+translate("lnkCloseThisWindow")+'" />'];chat_view_online.hideConnectionError();jivo.isSeparateWindow()||g.unshift('<input type="button" class="jivoBtn accept accept-chat-btn" id="restart-chat-btn" value="'+translate("lnkRestartChat")+'" />');b&&b.reason&&8===b.reason||(f.push(translate("lblAgentDisconnected")),
f.push(g.join("")),chat_view_online.setChatAttr({inputEnabled:!1}),chat_view_online.addConnectionError(f.join("<br>")));chat_view_online.setChatAttr({"agent.calls":!1,"agent.typing":!1});chat_view_online.getCallModel().getWebPhone().handle("disconnect");$(".reject-chat-btn").on("click",function(){jivo.handle("gui_minimize")});$(".accept-chat-btn").on("click",function(){jivo.handle("gui_resume")});break;case "gui_resume":chat_view_online.setChatAttr({inputEnabled:!0});chat_view_online.hideConnectionError();
chat_view_online.chatMaximized();break;case "resume_ok":f=b.agent_info;g=b.client_info;"object"===typeof f&&(f.disableAnimation=!0,this.updateAgent(b.agent_info));chat_view_online.setChatAttr({"client.name":g.name,inputEnabled:!0});f=g.msg_history||[];chat_view_online.resetMessages(f);if(f.length){1===config.contacts_ask&&chat_view_online.getIntroduceView().close();chat_view_online.getDepartmentsView().close();underscore.findWhere(f,{type:"clientMessage"})&&chat_view_online.setChatAttr({can_enter_phone:!1});
var l=[];underscore.each(f,function(a){"agentMessage"!==a.type||a.ack||l.push(a.msg_id)},this);l.length&&setTimeout(function(){jivo.handle("gui_agent_message_ack",l)},0)}break;case "connect_failed":chat_view_online.getCallModel().getWebPhone().handle("disconnect");g=[{title:translate("lblLeaveMessage"),event:"gui_leave_msg"}];utils.hideOffline()&&(g=[{title:translate("lnkCloseThisWindow"),event:"gui_minimize"}]);chat_view_msg.instance.models.message.set({msg:translate("lblNoOperators"),buttons:g});
chat_view_msg.create(this.view_settings);break;case "gui_leave_msg":chat_view_offline.create(this.view_settings);break;case "focus_maximize":"offline"===b?chat_view_offline.getFormView().inputFocus():chat_view_online.chatMaximized();this.callWidgetButtonInit();break;case "show":this.callInit(b);break;case "maximize":chat_view_online.getMessagesView().setScrollBottom(0);this.callInit(b);break;case "gui_message":chat_view_online.addClientMessage(b);break;case "offline_success":chat_view_msg.instance.models.message.set({header:translate("lblOfflineMessageSend"),
msg:translate("lblThankYouMessage"),buttons:[{title:translate("lnkCloseThisWindow"),event:"gui_minimize"}]});chat_view_msg.create(this.view_settings);break;case "offline_captcha":chat_view_offline.captcha(b);break;case "offline_failed":chat_view_msg.instance.models.message.set({header:"An error occured",msg:translate("lblMessageError"),buttons:[{title:translate("lnkCloseThisWindow"),event:"gui_minimize"}]});chat_view_msg.create(this.view_settings);break;case "transferred":chat_view_online.addConnectionError(translate("lblTransferred").replace("_AGENT_",
b.agent_info.display_name));this.updateAgent(b.agent_info);break;case "update_agent_info":this.updateAgent(b.agent_info);break;case "cw_connecting":chat_view_online.getCallView().addMessage(translate("c_callProcessing"));chat_view_online.setChatAttr({can_enter_phone:!1});break;case "cw_connected":chat_view_online.getCallView().addMessage(translate("c_callConnected"));chat_view_online.setChatAttr({can_enter_phone:!1});$("#callme").css("display","none");break;case "cw_call_end":chat_view_online.getCallView().addMessage(translate("c_callDisconnected"));
$("#callme").css("display","block");break;case "cw_show_form":b.show_form||chat_view_online.getCallView().addMessage(translate("lblWebPhoneNotConnected"));break;default:log("CHAT_CONTENTS: unhandled "+a,b)}}};
function handleServiceMessage(a){switch(a.service){case "file_transfer":"receive_file_request"===a.event&&chat_view_online.addReceiveFile({fileUrl:a.file_url,fileName:a.file_name,fileId:a.file_id,state:"pending",agentName:chat_view_online.getChatAttr("agent.name")});break;case "cobrowse":"highlight"===a.event&&chat_view_online.addCobrowseHighlight({page_url:a.page_url,hash:a.hash,comment:stripBrackets(a.comment),state:"pending"});break;default:log("CHAT_CONTENTS: unhandled agent_service_message",
a)}}window.Jivo={Online:{Models:{},Views:{},Collections:{},Controller:{},MAX_MESSAGE_LENGTH:1E3},Offline:{Models:{},Views:{},Collections:{},Controller:{},MAX_MESSAGE_LENGTH:1200},Message:{Models:{},Views:{},Controller:{}},Model:{},View:{},Collection:{}};
Jivo.Model.Field=Backbone.Model.extend({defaults:{formId:"default-form-id"},valid:function(){return!this.required()||0<this.value().length},required:function(){return this.show()&&config.contacts_settings[this.id].required},show:function(){return config.contacts_settings[this.id].show},value:function(){var a=$("#"+this.get("formId")).find("#"+this.id);return 0===a.length?"":$.trim(a.val())}});
Jivo.Model.Email=Jivo.Model.Field.extend({id:"email",valid:function(){var a=this.value();return 0===a.length&&!this.required()||utils.isValidValue_email(a)}});Jivo.Model.Phone=Jivo.Model.Field.extend({id:"phone",valid:function(){var a=this.value();return 0===a.length&&!this.required()||utils.isValidValue_phone(a)}});Jivo.Model.Name=Jivo.Model.Field.extend({id:"name"});Jivo.Model.Message=Jivo.Model.Field.extend({id:"message"});
Jivo.Model.Error=Backbone.Model.extend({defaults:{name:"",messages:[]},idAttribute:"name"});Jivo.Collection.Errors=Backbone.Collection.extend({model:Jivo.Model.Error});
Jivo.View.Form=Backbone.View.extend({events:{"click #submit":"submit","click #cancel":"cancel","keydown input:text,textarea":"onKeyDown"},initialize:function(){this.collection=new Jivo.Collection.Errors;this.collection.on("add",this.onErrorAdd,this);this.collection.on("remove",this.onErrorRemove,this);this.collection.on("reset",this.onReset,this);this.initializeSpecial()},initializeSpecial:function(){},valid:function(){var a=this;a.fields.each(function(b){b.valid()?a.collection.remove(b.id):a.collection.add({name:b.id,
messages:[]})},a);return!a.collection.length},toggleError:function(a,b){b?(this.$("#"+a).parent().addClass("error-field"),this.$("#error-"+a).show()):(this.$("#"+a).parent().removeClass("error-field"),this.$("#error-"+a).hide());jivo.isSeparateWindow()||this.updateHeight()},updateHeight:function(){jivo.handle("update_height",this.getHeight())},getHeight:function(){return 0},onErrorAdd:function(a){this.toggleError(a.get("name"),!0)},onErrorRemove:function(a){this.toggleError(a.get("name"),!1)},onReset:function(a,
b){underscore.each(b.previousModels,function(a){this.toggleError(a.get("name"),!1)},this)},onKeyDown:function(a){var b=$(a.target).attr("id");this.collection.remove(b);13!==a.keyCode||"INPUT"!==a.target.tagName&&("TEXTAREA"!==a.target.tagName||hasClass(a.target,"offline-message"))||(a.preventDefault(),this.submit())}});
Jivo.Online.Models.Chat=Backbone.Model.extend({defaults:{templateData:{pencilTitle:translate("lblPencilHint"),pencilSource:config.base_url+"/images/pencil.gif",callMe:translate("lblCallMe"),hangUp:translate("hangUp"),lblHangUpShort:translate("lblHangUpShort"),lblEvaluatePlease:translate("lblEvaluatePlease"),lblEvaluateThanks:translate("lblEvaluateThanks"),lblEvaluateCancel:translate("lblEvaluateCancel"),link:translate("lblPwrBy").replace("_URL_","?utm_source="+encodeURIComponent(location.hostname)+
"&utm_medium=link&utm_content=offline_form&utm_campaign=self_ad"),nologo:!utils.showAd(),maxMessageLength:Jivo.Online.MAX_MESSAGE_LENGTH,locale:getIconLocale()},client:{id:1,name:cookie("client_name"),phone:cookie("phone"),email:cookie("email"),title:!1,avatar:!1,typing:!1},agent:{id:2,name:translate("lblConnectedToAgent"),title:translate("lblOperatorsOnline"),avatar:!1,calls:!1,typing:!1,online:!1,disableAnimation:!1},can_enter_phone:jivo.getCallWidget()?!0:!1,inputEnabled:!0,evaluate:!1,"size.height":362,
"size.min-height":200,"size.width":287,"textarea.height":32,"textarea.width":226,"position.left":0,"position.right":0,"coordinates.x":0,"coordinates.y":0,"coordinates.dx":0,"coordinates.dy":0},initialize:function(){var a;a=jivo.isMobileOrTablet()?translate("lblMessageHere"):jivo.getCallWidget()?translate("lblEnterMessageOrPhoneHere"):translate("lblEnterMessageHere");this.defaults.templateData.lblEnterMessageHere=a},introduced:null!==cookie("client_name")||null!==cookie("phone")||null!==cookie("email")||
!1});
Jivo.Online.Views.Chat=Backbone.View.extend({el:"#inner-chat",tagName:"div",previousScroll:0,template:_templates.online.chat,headerTimeout:[],events:{"keydown    #input-field":"inputFieldKeyPress","click      #input-button":"inputButtonClick","focusin    #input-field":"inputFieldFocus","input      #input-field":"messageInput"},initialize:function(){this.model.on("change:agent.name",this.setHeaderName,this);this.model.on("change:agent.title",this.setAgentTitle,this);this.model.on("change:agent.typing",this.agentTyping,
this);this.model.on("change:agent.avatar",this.setAgentImage,this);this.model.on("change:client.typing",this.clientTyping,this);this.model.on("change:inputEnabled",this.setInputMode,this);this.model.on("change:agent.calls",this.updateCallMe,this);this.model.on("change:can_enter_phone",this.inputSizeChange,this);1==config.typing_insight&&setInterval(underscore.bind(this.notifyInputChanged,this),1E3)},handleTyping:function(a){this.model.set({"client.typing":a})},lastInputValue:"",notifyInputChanged:function(){var a=
this.$el.find("#input-field").val();this.lastInputValue!=a&&(jivo.handle("gui_typing_insight",a),this.lastInputValue=a)},render:function(){var a=this.$el;a.append(this.template(this.model.toJSON()));this.model.set("agent.name",translate("lblConnectedToAgent"));this.inputAutoResize();if(jivo.isSeparateWindow())a.on("focus blur","input[type=text],input[type=tel],input[type=email],textarea",JivoGui.handleSoftKeyboard);getByIdFromParent("jivo_action").find("div").on("click",function(){if("close"===$(this).attr("data-action")){var a=
jivo.getCallWidget();a&&"CALL"!==a.state&&!a.clickClosedForm?jivo.handle("cw_ping"):chat_view_online.chatMinimized()}});jivo.isMobileOrTablet()||getByIdFromParent("jivo-chat").jivoDragEvent({handler:getByIdFromParent("jivo-drag-handle"),tracker:getByIdFromParent("jivo-mouse-tracker")}).bind("jivo.drag.init",$.proxy(this,"startResize")).bind("jivo.drag.move",$.proxy(this,"resize")).bind("jivo.drag.stop",$.proxy(this,"stopResize"));$("input[placeholder], textarea[placeholder]").placeholder();$(window).on("resize",
underscore.bind(this.windowResize,this));$("#messages-div-outer").on("scroll",underscore.bind(this.messagesScroll,this));if(utils.browser.msie&&9>utils.browser.mV)this.$("#input-field").on("keydown paste",underscore.bind(this.messageInput,this));if(devicejs.ios())$("#messages-div-inner").on("touchmove",function(){var a=$("#input-field");a.is(":focus")&&a.trigger("blur")});this.requestRedraw();1===config.contacts_ask?this.showIntroduceForm(!0):config.departments&&this.showDepartmentsSelector();return this},
inputFocus:function(){var a=this.$el.find("#input-field"),b;setTimeout(function(){b=$("#introduce-form");b.length&&b.is(":visible")||jivo.isSeparateWindow()||a.focus()},0);return a},inputAutoResize:function(){this.$("#input-field").autoResize({extraSpace:jivo.isMobileOrTablet()?12:0,animate:!1,maxSize:65,minSize:"original",onResize:underscore.bind(this.updateMessage,this),onAfterResize:underscore.bind(this.updateMessage,this)}).typing({start:underscore.bind(this.handleTyping,this,1),stop:underscore.bind(this.handleTyping,
this,0),delay:5E3})},setHeaderName:function(){var a=this.$el,b=this.model.get("agent.name"),f=this.model.get("agent.title")?this.model.get("agent.title"):translate("lblOperatorsOnline"),g=a.find("#header-animate-container"),l;for(l=this.headerTimeout.length;l--;)clearTimeout(this.headerTimeout[l]);g.removeClass("header-animate");this.model.get("agent.disableAnimation")?(a.find(".header-animate-info").find(".agent-name").text(b),this.setAgentTitle()):(a.find(".header-animate-first").find(".agent-name").text(b),
a.find(".header-animate-first").find(".title").text(f),this.headerTimeout[0]=setTimeout(function(){g.addClass("header-animate")},0),this.headerTimeout[1]=setTimeout(function(){a.find(".header-animate-second").find(".agent-name").text(b);a.find(".header-animate-second").find(".title").text(f)},400),jivo.isMobileOrTablet()||(this.headerTimeout[2]=setTimeout(function(){g.removeClass("header-animate")},1500)));$("#agent-typing").empty();this.agentTyping()},setAgentTitle:function(){var a=this.model.get("agent.title")?
this.model.get("agent.title"):translate("lblOperatorsOnline");this.$el.find(".title").text(a)},setAgentImage:function(){this.$el.find(".avatar img").remove();config.options&32&&(null!==this.model.get("agent.avatar")?(this.$el.find(".avatar").append($("<img/>",{src:config.avatar_url+"/avatars/"+this.model.get("agent.avatar")})),this.$el.find(".avatar").parent().addClass("has-avatar")):this.$el.find(".avatar").parent().removeClass("has-avatar"))},setInputMode:function(){var a=this.model.get("inputEnabled"),
b=chat_view_online.getMessagesView(),f=b.getScrollBottom();this.$("#input-div").css("visibility",a?"visible":"hidden");this.$("#messages-div").css("bottom",a?40:0);b.setScrollBottom(f)},agentTyping:function(){var a=$("#agent-typing");this.model.get("agent.typing")?(a.is(":empty")&&a.append(_templates.online.typing({agentName:this.model.get("agent.name")})),a.show()):a.hide()},clientTyping:function(){chat_view_online.typing(this.model.get("client.typing"))},inputFieldKeyPress:function(a){13===a.keyCode&&
(a.preventDefault(),this.inputSendMessage(a.currentTarget.value,$(a.currentTarget),$("#input-button")[0]))},inputButtonClick:function(a){if(jivo.isTablet()&&!jivo.isSeparateWindow())a.preventDefault(),jivo.handle("gui_answer_proactive");else{var b=$("#input-field");this.inputSendMessage(b.val(),b,$(a.currentTarget)[0])}},inputSendMessage:function(a,b,f){if(0!==$.trim(a).length){var g=this.model.get("can_enter_phone");this.model.set("can_enter_phone",!1);g&&jivo.getCallWidget()&&!jivo.isMobileOrTablet()&&
utils.isValidValue_mobilePhone(a)?(jivo.handle("cw_ping"),jivo.cw.callwidget.handle("setPhoneNumber",a.replace(/[^0-9]/gim,""))):(chat_view_online.getChatModel().introduced||!jivo.invitationText&&!jivo.isMobileOrTablet()||1!==config.contacts_ask?Jivo.Online.Controller.sendMessage(a):(jivo.isMobileOrTablet()&&b.blur(),this.showIntroduceForm(!1,a)),b.val("").css("height",""),f.disabled=!0,this.updateMessage(),devicejs.ios()&&chat_view_online.initSound())}},inputFieldFocus:function(a){Jivo.Online.Controller.onFocus();
if(devicejs.ios()){var b=$(a.target);b.on("focus",function(){$(document).unbind("scroll.on_focus");setTimeout(function(){$(document).bind("scroll.on_focus",function(a){b.trigger("blur")})},1500)});b.on("blur",function(){$(document).unbind("scroll.on_focus")})}},windowResize:function(){chat_view_online.getMessagesView().setScrollBottom(this.previousScroll)},messagesScroll:function(){this.previousScroll=chat_view_online.getMessagesView().getScrollBottom()},messageInput:function(a){var b=a.currentTarget;
a=a.currentTarget.value;var f=$("#input-button")[0];setTimeout(underscore.bind(function(){var a=$(this).attr("maxlength");$(this).val().length>a&&$(this).val($(this).val().substring(0,a))},b),0);f.disabled=0>=a.length},showIntroduceForm:function(a,b){chat_view_online.getIntroduceView().render(a,b);this.disableDragging()},showDepartmentsSelector:function(){chat_view_online.getDepartmentsView().render();this.disableDragging()},updateCallMe:function(){(chat_view_online.getCallModel().rtcSupported()||
this.hasFlash()||jivo.getCallWidget())&&this.model.get("agent.calls")?(this.$el.find("#callme").css("display","block"),this.$el.find(".title").css("width","75%")):chat_view_online.getCallModel().calling()||(this.$el.find("#callme").css("display","none"),this.$el.find(".title").css("width","100%"))},hasFlash:function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a=!0}catch(b){navigator.mimeTypes&&void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&
(a=!0)}return a},enableDragging:function(){jivo.isSeparateWindow()||getByIdFromParent("jivo-drag-handle").show()},disableDragging:function(){jivo.isSeparateWindow()||getByIdFromParent("jivo-drag-handle").hide()},toolbarToggle:function(a){if(!jivo.isSeparateWindow()){var b=getByIdFromParent("jivo_close_button");b.finish();"show"===a?b.fadeIn(500):b.fadeOut(500)}},requestRedraw:function(){var a=document.getElementById("inner-chat");a.style.display="none";a.offsetHeight;a.style.display="block"},startResize:function(a){a=
getElementPosition(a.currentTarget);a.minLeft=30;a.maxLeft=a.windowWidth-a.width-30;0<$("#introduce-popup").length?this.model.set("size.min-height",200+$("#introduce-popup").outerHeight()):this.model.set("size.min-height",200);a.minHeight=this.model.get("size.min-height");a.maxHeight=a.windowHeight;chat_view_online.getMessagesView().setScrollBottom(0);this._dragData=a},stopResize:function(a){a=$(a.currentTarget);cookie("left",a.css("left"));cookie("right",a.css("right"));cookie("height",a.css("height"));
delete this._dragData},resize:function(a){var b=this._dragData,f=b.left+a.dx,g=b.height-a.dy,l=$(a.currentTarget),f=Math.max(b.minLeft,Math.min(b.maxLeft,f)),g=Math.max(b.minHeight,Math.min(b.maxHeight,g));f!==a.currentTarget.offsetLeft&&(a=b.windowWidth-b.width-f,b=f<=a,l.css({left:b?f:"auto",right:b?"auto":a}));g!==this.model.get("size.height")&&(g>this.model.get("size.min-height")||g>this.model.get("size.height"))&&(this.model.set("size.height",g),jivo.transferProportion({width:l.css("width"),
height:l.css("height")}),l.css({height:g}),0<=navigator.userAgent.indexOf("Opera")&&this.requestRedraw(),chat_view_online.getMessagesView().setScrollBottom(0))},updateMessage:function(){var a=chat_view_online.getMessagesView(),b=a.getScrollBottom();this.$("#messages-div").css("bottom",this.$("#input-field").outerHeight()+10);a.setScrollBottom(b,!0)},inputSizeChange:function(){var a=this.$("#input-field");a.attr("placeholder",translate("lblEnterMessageHere"));a.removeClass("input-field-callwidget");
a.val("");this.inputAutoResize()}});
Jivo.Online.Views.Evaluation=Backbone.View.extend({el:"#chat-body",template:_templates.online.evaluation,events:{"click .evaluation-btn-container a":"sendRate"},render:function(){this.$el.append(this.template({}));var a=this.$("#evaluation-popup");jivo.gui.animationIsSupported()?a.addClass("jivo-fade-in"):(a.css("opacity","1"),a.show())},sendRate:function(a){function b(a){setTimeout(function(){chat_view_online.getMessagesView().evaluationMessageIsShow=!1},a)}a.preventDefault();var f=a.currentTarget.id,
g;"close-eval"===f?(this.evaluationTimeout=setTimeout(underscore.bind(this.hideEvaluation,this),100),b(400)):(g=translate("lblEvaluate"+("cancel"===f?"Please":"Thanks")),this.$(".evaluation-text-inner").html(g),this.$(".evaluation-btn-container").toggleClass("hidden visible"),"cancel"===f?(this.evaluationTimeout&&clearTimeout(this.evaluationTimeout),f=0):(this.evaluationTimeout=setTimeout(underscore.bind(this.hideEvaluation,this),15E3),b(15300),f="positive"===f?1:-1),chat_view_online.getChatView().inputFocus(),
jivo.handle("gui_evaluation",f,cookie("sess_id")),a.preventDefault())},hideEvaluation:function(){var a=this.$("#evaluation-popup");jivo.gui.animationIsSupported()?(a.removeClass("jivo-fade-in"),a.addClass("jivo-fade-out")):(a.css("opacity","0"),a.hide())}});
var MessageModel=Jivo.Online.Models.Message=Backbone.Model.extend({defaults:function(){return{text:"",time:new Date,delivered:!0,priority:0,color:config.bubble_color}},isAgent:function(){return 0<=underscore.indexOf([MessageModel.TYPE_AGENT,MessageModel.TYPE_COBROWSE_HIGHLIGHT,MessageModel.TYPE_RECEIVE_FILE],this.get("type"))},isClient:function(){return this.get("type")===MessageModel.TYPE_CLIENT},isHistory:function(){return!!this.get("history")},isReceiveFile:function(){return this.get("type")===
MessageModel.TYPE_RECEIVE_FILE},isSystem:function(){return this.get("type")===MessageModel.TYPE_SYSTEM},isConnectionError:function(){return this.get("type")===MessageModel.TYPE_CONNECTION_ERROR}},{TYPE_AGENT:"agentMessage",TYPE_CLIENT:"clientMessage",TYPE_SYSTEM:"systemMessage",TYPE_RECEIVE_FILE:"receiveFile",TYPE_CONNECTION_ERROR:"connectionError",TYPE_COBROWSE_HIGHLIGHT:"cobrowse_highlight"}),MessagesCollection=Jivo.Online.Collections.Messages=Backbone.Collection.extend({model:MessageModel,addMessage:function(a,
b){this.push(underscore.extend({},b,{type:a}));return this},addAgentMessage:function(a){return this.addMessage(MessageModel.TYPE_AGENT,{text:a})},addClientMessage:function(a){return this.addMessage(MessageModel.TYPE_CLIENT,{text:a})},addSystemMessage:function(a){return this.addMessage(MessageModel.TYPE_SYSTEM,{text:a})},addConnectionError:function(a){return this.addMessage(MessageModel.TYPE_CONNECTION_ERROR,{text:a})},addReceiveFile:function(a){return this.addMessage(MessageModel.TYPE_RECEIVE_FILE,
a)},addCobrowseHighlight:function(a){return this.addMessage(MessageModel.TYPE_COBROWSE_HIGHLIGHT,a)}});
Jivo.Online.Views.Message=Backbone.View.extend({el:"#messages-div-inner",$lastMessage:null,$clearDiv:null,scrollBottomThreshold:20,messagesBeforeEvaluation:5,$parent:null,events:{"click .cobrowse-btn-container a":"openHighlight","click .cobrowse-btn-container":"openHighlight","click .receiveFile a":"declineFile"},evaluationMessageIsShow:!1,initialize:function(){this.$lastMessage=this.$(".new-msg-container");this.$clearDiv=this.$("#messages-div-inner-clear");this.$parent=this.$el.parent();this.listenTo(this.collection,
"add",this.handleAdd).listenTo(this.collection,"reset",this.handleReset)},render:function(){this.$parent.perfectScrollbar({topMargin:utils.showAd()?40:25});if(0<=navigator.userAgent.indexOf("Opera")){var a=this;setTimeout(function(){a.collection.add({type:"emptyMessage",time:new Date,history:!1})},200)}},updateScrollBar:function(){this.$parent.perfectScrollbar("update")},getScrollBottom:function(){return parseInt($(this.el).css("bottom"))},setScrollBottom:function(a){$(this.el).css({bottom:-a,top:"auto"});
this.updateScrollBar()},setScrollMobileBottom:function(){document.body.scrollTop=1E4;this.$parent.perfectScrollbar("scroll")},renderMessage:function(a){var b=a.get("type"),f=!a.isConnectionError()&&!a.isSystem()&&!a.isReceiveFile(),g=this.$lastMessage;f&&g&&g.hasClass(b)?(f=_templates.online.messageNode({type:b,text:a.get("text"),history:a.get("history")}),g.find(".new-msg-body-inner").append(f),g.find(".new-time").text(dateFormat(a.get("time"),"H:MM"))):(f=_templates.online[b](a.toJSON()),g=this.$lastMessage=
$(f).insertBefore(this.$clearDiv));setTimeout(function(){if(a.get("history"))updateBlur&&updateBlur();else if("agentMessage"===b||"clientMessage"===b||"cobrowse_highlight"===b)g.find(".new-msg-text").each(function(){var a=$(this);0===a[0].clientHeight&&(a[0].style.height=a.find(".new-msg-text-inner")[0].clientHeight+"px",css3AnimationIsSupported()||(a[0].className+=" new-msg-text-history"))}),g.addClass("new-msg-animate")},0)},isIntroduceRequired:function(){return!chat_view_online.getChatModel().introduced},
isEvaluationRequired:function(){function a(a){return!a.isHistory()&&(a.isClient()||a.isAgent())}return config.show_rate_form&&config.options&64&&!this.evaluationMessageIsShow&&this.collection.filter(a).length>=this.messagesBeforeEvaluation},handleAdd:function(a){a.get("type");var b;b=this.getScrollBottom();this.renderMessage(a);0===b&&(this.updateScrollBar(),updateBlur&&updateBlur());this.trigger("message",this,a);a.isAgent()?jivo.soundPlayer.incomingMessage():a.isClient()&&this.isIntroduceRequired()&&
0>=config.contacts_ask&&chat_view_online.getIntroducePopupView().render();this.isEvaluationRequired()&&!$("#introduce-popup").is(":visible")&&(this.evaluationMessageIsShow=!0,chat_view_online.getEvaluationView().render())},handleReset:function(a){var b=underscore.find(a.toJSON(),function(a){return"clientMessage"===a.type});this.$(".new-msg-container").remove();this.$lastMessage=this.$(".new-msg-container");a.each(function(a){a.set("history",!0);this.renderMessage(a)},this);a.length&&this.isIntroduceRequired()&&
b&&0>=config.contacts_ask&&chat_view_online.getIntroducePopupView().render();this.setScrollBottom(0);this.trigger("reset",this,a)},remove:function(a){},edit:function(a){},hideMessage:function(a,b){function f(){$(this).remove();g.setScrollBottom(l)}var g=this,l=this.getScrollBottom();b?a.each(f):a.fadeOut("slow",f)},declineFile:function(a){var b=$(a.currentTarget);a.preventDefault();"#"!==b.attr("href")?(window.open(b.attr("href")),chat_view_online.fileReceive(b.attr("data-id"),b.attr("data-name"))):
chat_view_online.fileDecline(b.attr("data-id"),b.attr("data-name"));this.hideMessage(b.parents(".receiveFile"));chat_view_online.getChatView().inputFocus()},openHighlight:function(a){var b=$(a.currentTarget);b.attr("data-url")||(b=b.find("a"));chat_view_online.acceptCobrowse(b.attr("data-url"),b.attr("data-hash"));chat_view_online.getChatView().inputFocus();a.preventDefault()},hideInvitationMessage:function(){this.hideMessage(this.$(".agentMessage"),!0);this.$lastMessage=null},hideConnectionError:function(){this.hideMessage(this.$(".connectionError"),
!0)}});Jivo.Online.Models.Name=Jivo.Model.Name.extend({required:function(){return this.show()&&config.contacts_settings[this.id].required}});Jivo.Online.Models.Message=Jivo.Model.Message.extend({defauts:{required:!1},required:function(){return this.get("required")},show:function(){return this.get("required")}});
Jivo.Online.Views.IntroduceForm=Jivo.View.Form.extend({el:"#inner-chat",tagName:"div",templateData:{nologo:!utils.showAd(),maxMessageLength:Jivo.Online.MAX_MESSAGE_LENGTH,link:translate("lblPwrBy").replace("_URL_","?utm_source="+encodeURIComponent(location.hostname)+"&utm_medium=link&utm_content=offline_form&utm_campaign=self_ad"),locale:getIconLocale()},validFields:["name","phone","email"]});
Jivo.Online.Views.Introduce=Jivo.Online.Views.IntroduceForm.extend({template:_templates.online.introduceForm,previousStartedValue:!1,events:{"click #submit":"submit","click #cancel":"cancel",'keydown input:text,input[type="tel"],input[type="email"],textarea':"onKeyDown","input  #message":"messageInput"},fields:new Backbone.Collection([new Jivo.Online.Models.Message({formId:"introduce-form"}),new Jivo.Model.Email({formId:"introduce-form"}),new Jivo.Model.Phone({formId:"introduce-form"}),new Jivo.Online.Models.Name({formId:"introduce-form"})]),
render:function(a,b){var f=this.$("#introduce-form"),g;g=this.templateData;b?(g.valueInputField=b,this.fields.get("message").set("required",!0)):this.fields.get("message").set("required",a);g.fields=this.fields;g.departments=a&&config.departments?config.departments:null;g.send=a?translate("lblSendBefore"):translate("lblSend");0<f.length&&this.previousStartedValue===a?f.show():(this.previousStartedValue=a,this.$("#introduce-form").remove(),this.$el.append(this.template(g)));b||a?(this.$("#message").show(),
this.$("#introduce-form").find(".buttons").addClass("single"),a&&(this.$("#introduce-caption").hide(),chat_view_online.getChatModel().set("agent.name",translate("lblIntroduceRequestBefore")))):(this.$("#message").hide(),this.$("#introduce-form").find(".buttons").removeClass("single"),this.$("#introduce-caption").show());f=this.$("#introduce-avatar");f.removeClass("introduce-bg").css("height",0);this.getHeight()<jivo.getChatHeight()&&(g=jivo.getChatHeight()-this.getHeight(),f.css("height",g),f.height()>
f.width()?f.find("img").css({width:"100%",height:"auto"}):f.find("img").css({width:"auto",height:"100%"}),50<g&&f.addClass("introduce-bg"));jivo.isSeparateWindow()?this.$("#introduce-form").perfectScrollbar({topMargin:utils.showAd()?40:25}).find("#departments-list").perfectScrollbar():setTimeout(function(){$("#introduce-form").find('input:text[value=""],input[type="tel"][value=""],input[type="email"][value=""],textarea:empty').first().focus()},0);jivo.isMobileOrTablet()&&(document.documentElement.style.position=
"static");this.$("#introduce-form").find("input[placeholder], textarea[placeholder]").placeholder();this.$("#current-department").click(function(){$("#departments-list").toggle()});this.$("#departments-list>li").click(underscore.bind(this.onDepartmentSelect));if(utils.browser.msie&&9>utils.browser.mV)this.$("#message").on("keydown paste",underscore.bind(this.messageInput,this));this.delegateEvents();this.updateHeight()},getHeight:function(){var a=$("#header-avatar").outerHeight();return(100<a?a/2:
a)+$("#introduce-form").outerHeight()},messageInput:function(a){setTimeout(underscore.bind(function(){var a=$(this).attr("maxlength");$(this).val().length>a&&$(this).val($(this).val().substring(0,a))},a.currentTarget),0)},submit:function(){if(this.valid()){var a={},b=!0;underscore.each(this.validFields,function(f){var l=this.fields.get(f).value();""!==l&&(a[f]=l,b=!1)},this);if(b&&0>=config.contacts_ask)this.close();else{chat_view_online.getChatModel().introduced=!0;this.close();chat_view_online.getChatView().el.scrollTop=
0;jivo.handle("gui_introduced",a);this.$("#current-department")&&jivo.handle("gui_department",this.$("#current-department").attr("data-id"));var f=chat_view_online.getChatModel().get("client");underscore.extend(f,a);f=this.fields.get("message").value();0!==$.trim(f).length&&chat_view_online.sendMessage(f);devicejs.ios()&&chat_view_online.initSound();chat_view_online.getChatView().inputFocus()}}else chat_view_online.getChatView().requestRedraw(),this.updateHeight()},cancel:function(a){this.close();
a.preventDefault()},close:function(){this.$("#introduce-form").hide();this.collection.reset();chat_view_online.getChatView().enableDragging();jivo.isMobileOrTablet()&&(document.documentElement.style.position="fixed");this.undelegateEvents()},onDepartmentSelect:function(a){a=$(a.currentTarget);$("#departments-list").hide();this.$("#current-department").html(a.html()).attr("data-id",a.attr("data-id"))}});
Jivo.Online.Views.IntroducePopup=Jivo.Online.Views.IntroduceForm.extend({el:"#chat-body",template:_templates.online.introducePopup,popup:"#introduce-popup",popupContent:"#introduce-popup-content",events:{"click #submit":"submit","click #cancel":"cancel",'keydown input:text,input[type="tel"],input[type="email"]':"onKeyDown","focus input":"onInputFocus","blur input":"onInputBlur"},fields:new Backbone.Collection([new Jivo.Model.Email({formId:"introduce-popup"}),new Jivo.Model.Phone({formId:"introduce-popup"}),
new Jivo.Online.Models.Name({formId:"introduce-popup"})]),render:function(){var a;0===$("#introduce-popup").length&&(a=this.templateData,a.fields=this.fields,a.send=translate("lblSend"),this.$el.append(this.template(a)),this.$("#introduce-popup").find("input[placeholder], textarea[placeholder]").placeholder());setTimeout(underscore.bind(this.renderSpecific,this),3E3)},renderSpecific:function(a){this.onInputBlur(a,!1);this.delegateEvents()},cancel:function(a){a.preventDefault();this.close();chat_view_online.getChatModel().introduced=
!0},close:function(){this.$("#introduce-popup").fadeOut();chat_view_online.getChatView().enableDragging();this.undelegateEvents()},submit:function(a){a&&a.target.focus();if(this.valid()){var b={},f=!0;underscore.each(this.validFields,function(a){var l=this.fields.get(a).value();""!==l&&(b[a]=l,f=!1)},this);f&&0>=config.contacts_ask?this.close():(this.$("#cancel, .text-field, .field-wrapper, .buttons").fadeOut(),this.$(".icon-thx").fadeIn(),this.$("#introduce-popup-content").addClass("thx-content"),
this.onInputBlurSpecific(a,!0),setTimeout(underscore.bind(this.close,this),3E3),chat_view_online.getChatModel().introduced=!0,jivo.handle("gui_introduced",b),a=chat_view_online.getChatModel().get("client"),underscore.extend(a,b),chat_view_online.getChatView().inputFocus())}},toggleError:function(a,b){b?(this.$("#"+a).parent().addClass("error-field"),this.$("#error-"+a).show()):(this.$("#"+a).parent().removeClass("error-field"),this.$("#error-"+a).hide())},onInputFocus:function(){this.$("#introduce-popup").height(this.$("#introduce-popup-content").height())},
onInputBlur:function(a,b){setTimeout(underscore.bind(this.onInputBlurSpecific,this),100)},onInputBlurSpecific:function(a,b){var f;if(b||!(this.$("input:text").length&&""!==this.$("input:text").val()||this.$('input[type="tel"]').length&&""!==this.$('input[type="tel"]').val()||this.$('input[type="email"]').length&&""!==this.$('input[type="email"]').val()||this.$('input[type="button"]').is(":focus")||this.$("input:text").is(":focus")||this.$('input[type="tel"]').is(":focus")||this.$('input[type="email"]').is(":focus")))f=
b?this.$(".icon-thx").outerHeight():this.$(".text-field").outerHeight()+this.$(".field-wrapper").outerHeight(),this.$("#introduce-popup").height(f)}});
Jivo.Online.Views.Departments=Backbone.View.extend({el:"#inner-chat",tagName:"div",template:_templates.online.departments,templateData:{nologo:!utils.showAd()},events:{"click a.department":"onDepartmentSelect"},render:function(){this.templateData.departments=config.departments;this.$el.append(this.template(this.templateData));chat_view_online.getChatModel().set("agent.name",translate("lblSelectDep"));this.$("#input-field").hide();this.fixSafariScroll()},close:function(){this.$("#input-field").show();
this.$("#departments").remove();chat_view_online.getChatModel().set("agent.name",chat_view_online.getChatModel().get("agent.name"));chat_view_online.getChatView().enableDragging()},onDepartmentSelect:function(a){jivo.handle("gui_department",$(a.currentTarget).attr("data-id"));this.close(!0);chat_view_online.chatMaximized()},fixSafariScroll:function(){this.$("#departments").mouseover(function(a){$(this).css("border","1px");$(this).css("border","none")})}});
Jivo.Online.Views.Call=Backbone.View.extend({el:"#header-avatar",template:_templates.online.callButton,events:{"click #callme":"onCallClick"},initialize:function(){this.model.on("change:state",this.onStateChange,this);$("#phone_hint").html(translate("lblPhoneHint"))},render:function(){this.$el.append(this.template({}))},addMessage:function(a){chat_view_online.addSystemMessage(a)},micDisabled:function(){return"WebPhoneMicDisabled"===this.model.get("state")},idle:function(){return"WebPhoneIdle"===this.model.get("state")},
connecting:function(){return"WebPhoneConnecting"===this.model.get("state")},progressing:function(){return"WebPhoneProgressing"===this.model.get("state")},joined:function(){return"WebPhoneJoined"===this.model.get("state")},authenticating:function(){return"WebPhoneAuthenticating"===this.model.get("state")},onStateChange:function(){this.model.calling()?($("#callme").addClass("hang-up"),this.joined()?this.addMessage(translate("c_callConnected")):this.authenticating()?$("#web_phone").addClass("phone_hidden"):
this.connecting()?this.model.rtcSupported()||$("#web_phone").removeClass("phone_hidden"):this.progressing()&&($("#callme").show(),$(".header-avatar-container").find(".title").css("width","75%"))):($("#callme").removeClass("hang-up"),this.micDisabled()?$("#callme").hide():this.idle()&&this.addMessage(translate("c_callDisconnected")),chat_view_online.getCallModel().isInit=!1)},onCallClick:function(){var a=jivo.getCallWidget();a?"CALL"!==a.state?("online"===config.chat_mode?jivo.handle("cw_ping"):jivo.handle("cw_show_form",
{show_form:1}),a.analyticsTitle="buttonClick"):chat_view_online.chatMinimized():this.model.calling()?this.model.hangup():($("#callme").hide(),this.addMessage(translate("c_callProcessing")),this.model.call())}});
Jivo.Online.Models.Call=Backbone.Model.extend({isInit:!1,defaults:{state:"WebPhoneUninitialized"},initialize:function(a){a.on("change:agent.vox_name",this.onVoxNameChange,this)},call:function(){this.getWebPhone().handle("call")},hangup:function(){this.getWebPhone().handle("hangup")},rtcSupported:function(){var a=!1;if(!jivo.isMobileOrTablet()&&("undefined"!==typeof webkitRTCPeerConnection||"undefined"!==typeof mozRTCPeerConnection))if("undefined"!==typeof mozRTCPeerConnection)try{a=!0}catch(b){}else a=
!0;return a},getWebPhone:function(){if(void 0===this.webPhone){var a="WebPhoneMicDisabled WebPhoneInitializing WebPhoneInitialized WebPhoneConnecting WebPhoneConnected WebPhoneAuthenticating WebPhoneIdle WebPhoneProgressing WebPhoneJoined".split(" ");this.webPhone=new WebPhone;for(var b in a)this.webPhone.on(a[b],underscore.bind(function(a){this.set("state",a.name)},this))}return this.webPhone},onVoxNameChange:function(a){this.getWebPhone().setAgentId(a.changed["agent.vox_name"])},calling:function(){return underscore.contains(["WebPhoneInitializing",
"WebPhoneConnecting","WebPhoneAuthenticating","WebPhoneProgressing","WebPhoneJoined"],this.get("state"))}});
var chat_view_online=Jivo.Online.Controller=new function(){var a,b,f,g,l,r,v,m,w,z=!1;underscore.defaults(config,{bubble_color:"green"});this.getChatModel=function(){a||(a=new Jivo.Online.Models.Chat);return a};this.getMessagesCollection=function(){b||(b=new MessagesCollection);return b};this.getCallModel=function(){f||(f=new Jivo.Online.Models.Call(this.getChatModel()));return f};this.getChatView=function(){l||(l=new Jivo.Online.Views.Chat({model:this.getChatModel(),collection:this.getMessagesCollection()}));
return l};this.getMessagesView=function(){r||(r=new Jivo.Online.Views.Message({collection:this.getMessagesCollection()}));return r};this.getIntroduceView=function(){m||(m=new Jivo.Online.Views.Introduce,m.undelegateEvents());return m};this.getIntroducePopupView=function(){m||(m=new Jivo.Online.Views.IntroducePopup,m.undelegateEvents());return m};this.getDepartmentsView=function(){w||(w=new Jivo.Online.Views.Departments);return w};this.getCallView=function(){v||(v=new Jivo.Online.Views.Call({model:this.getCallModel(),
chatModel:this.getChatModel()}));return v};this.getEvaluationView=function(){g||(g=new Jivo.Online.Views.Evaluation);return g};underscore.each("addClientMessage addAgentMessage addSystemMessage addReceiveFile addConnectionError addCobrowseHighlight".split(" "),function(a){this[a]=function(){return proxy(this.getMessagesCollection(),a,arguments)}},this);this.resetMessages=function(){return proxy(this.getMessagesCollection(),"reset",arguments)};underscore.each(["hideConnectionError","hideInvitationMessage"],
function(a){this[a]=function(){return proxy(this.getMessagesView(),a,arguments)}},this);this.setChatAttr=function(){return proxy(this.getChatModel(),"set",arguments)};this.getChatAttr=function(){return proxy(this.getChatModel(),"get",arguments)};this.create=function(a,b){this.getChatView().render();this.getMessagesView().render();this.getCallView().render();b&&this.chatMaximized()};this.sendMessage=function(a){if(0==a.length)return!1;jivo.handle("gui_message",a)};this.onFocus=function(){jivo.handle("gui_msg_input_focus")};
this.chatMinimized=function(){jivo.handle("gui_minimize")};this.chatMaximized=function(){this.onFocus();this.getChatView().inputFocus();this.getMessagesView().setScrollBottom(0)};this.typing=function(a){jivo.handle("gui_typing",a?1:0)};this.fileReceive=function(a,b){jivo.handle("gui_receive_file",a,b)};this.fileDecline=function(a,b){jivo.handle("gui_decline_file",a,b)};this.acceptCobrowse=function(a,b){jivo.handle("gui_accept_cobrowse",a,b)};this.getHeight=function(){return this.getChatModel().get("size.height")};
this.initSound=function(){z||(jivo.soundPlayer.incomingMessage(),jivo.soundPlayer.pause(),z=!0)}};
Jivo.Offline.Models.Form=Backbone.Model.extend({defaults:{templateData:{type:config.widget_font_color,header:config.offline_form_title||config.offline_widget_label,text:config.offline_form_text,link:translate("lblPwrBy").replace("_URL_","?utm_source="+encodeURIComponent(location.hostname)+"&utm_medium=link&utm_content=offline_form&utm_campaign=self_ad"),nologo:!utils.showAd(),maxMessageLength:Jivo.Offline.MAX_MESSAGE_LENGTH,locale:getIconLocale(),agent:{calls:!1}}}});
Jivo.Offline.Models.Error=Backbone.Model.extend({defaults:{name:"",messages:[]},idAttribute:"name"});Jivo.Offline.Collections.Errors=Backbone.Collection.extend({model:Jivo.Offline.Models.Error});
Jivo.Offline.Models.Email=Jivo.Model.Email.extend({show:function(){return config.contacts_settings.email.show||this.phoneNotRequired()},required:function(){return config.contacts_settings.email.show&&config.contacts_settings.email.required||this.phoneNotRequired()},phoneNotRequired:function(){return!config.contacts_settings.phone.show||!config.contacts_settings.phone.required}});Jivo.Offline.Models.Message=Jivo.Model.Field.extend({id:"message",required:function(){return!0},show:function(){return!0}});
Jivo.Offline.Views.Form=Jivo.View.Form.extend({el:"#inner-chat",tagName:"div",template:_templates.offline.form,height:362,events:{"click #submit":"submit","click #cancel":"cancel",'keydown input:text,input[type="tel"],input[type="email"],textarea':"onKeyDown","input  #message":"messageInput"},fields:new Backbone.Collection([new Jivo.Offline.Models.Message({formId:"inner-chat"}),new Jivo.Offline.Models.Email({formId:"inner-chat"}),new Jivo.Model.Phone({formId:"inner-chat"}),new Jivo.Model.Name({formId:"inner-chat"})]),
initializeSpecial:function(){this.model.on("change:agent.calls",this.updateCallMe,this)},render:function(a,b){var f=this.model.get("templateData");f.fields=this.fields;this.$el.html(this.template(f));this.$el.addClass("offline");getByIdFromParent("jivo_action").find("div").on("click",function(){if("close"===$(this).data("action")){var a=jivo.getCallWidget();a&&"CALL"!==a.state&&!a.clickClosedForm?(a.analyticsTitle="buttonClick",a.handle("cw_show_form",{show_form:1})):chat_view_offline.chatMinimized()}});
jivo.isSeparateWindow()||jivo.isTablet()||getByIdFromParent("jivo_top_wrap").mouseenter(underscore.bind(this.toolbarToggle,this,"show")).mouseleave(underscore.bind(this.toolbarToggle,this,"hide"));$("input[placeholder], textarea[placeholder]").placeholder();if(utils.browser.msie&&9>utils.browser.mV)this.$("#message").on("keydown paste",underscore.bind(this.messageInput,this));jivo.isSeparateWindow()?(this.$el.on("focus blur","input[type=text],input[type=tel],input[type=email],textarea",JivoGui.handleSoftKeyboard),
this.$("#offline-form-inner").perfectScrollbar({topMargin:utils.showAd()?40:25})):this.updateHeight();a&&($("#offline-form-inner").find(".description, .message, #email, #name, #phone, .buttons").hide(),f=$(".captcha-container"),f.show(),f.find("img").attr("src",config.avatar_url+"/captcha/"+a+".png"),b&&f.find(".error").css("display","block"),f.find("#resend").on("click",underscore.bind(this.submit,this)),$("#cancelCap").show().on("click",underscore.bind(this.cancelCaptcha,this)),setTimeout(function(){$(".cap_symbols").focus()},
0));setTimeout(function(){$("#header-animate-container").addClass("header-animate")},0);return this},inputFocus:function(){var a=this.$el.find("#message");setTimeout(function(){a.focus()},0);return a},messageInput:function(a){setTimeout(underscore.bind(function(){var a=$(this).attr("maxlength");$(this).val().length>a&&$(this).val($(this).val().substring(0,a))},a.currentTarget),0)},submit:function(){if(this.valid()){var a={};this.fields.each(function(b){a[b.id]=b.value()},this);if(chat_view_offline.cap_id&&
(a.cap_id=chat_view_offline.cap_id,a.cap_symbols=$(".cap_symbols").val(),""==a.cap_symbols)){$(".cap_symbols").addClass("empty");return}jivo.handle("gui_offline_message",a)}else this.requestRedraw(),jivo.isSeparateWindow()||this.updateHeight(),chat_view_offline.instance.views.form.el.scrollTop=0},cancel:function(a){jivo.handle("gui_minimize");a.preventDefault()},cancelCaptcha:function(){chat_view_offline.cap_id=!1;$(".captcha-container").hide();$("#cancelCap").hide();$("#offline-form-inner").find(".description, .message, #email, #phone, #name, .buttons").show()},
getHeight:function(){return $("#header-avatar").height()+$("#offline-form").height()},toolbarToggle:function(a){var b=getByIdFromParent("jivo_close_button");b.finish();"show"===a?b.fadeIn(500):b.fadeOut(500)},requestRedraw:function(){var a=this.$("#offline-form-inner")[0];a.style.display="none";a.offsetHeight;a.style.display="block"},updateCallMe:function(){jivo.getCallWidget()&&this.model.get("agent.calls")?this.$el.find("#callme").show():this.$el.find("#callme").hide()}});
var chat_view_offline=Jivo.Offline.Controller=new function(){var a,b;this.instance={models:{form:new Jivo.Offline.Models.Form,error:new Jivo.Offline.Models.Error},collections:{errors:!1},views:{form:!1}};this.create=function(a,b){this.instance.collections.errors=new Jivo.Offline.Collections.Errors;this.instance.views.form=new Jivo.Offline.Views.Form({model:this.instance.models.form,collection:this.instance.collections.errors});this.instance.views.form.render();this.getCallView().render();b&&this.getFormView().inputFocus()};
this.captcha=function(a){this.instance.views.form.render(a.cap_id,this.cap_id&&a.cap_id!=this.cap_id);this.cap_id=a.cap_id};this.getHeight=function(){return this.instance.views.form.getHeight()};this.chatMinimized=function(){this.instance.collections.errors.reset();jivo.handle("gui_minimize")};this.getFormView=function(){a||(a=this.instance.views.form);return a};this.getCallView=function(){b||(b=new Jivo.Online.Views.Call({model:this.instance.views.form}));return b};this.setChatAttr=function(){return proxy(this.instance.models.form,
"set",arguments)}};Jivo.Message.Models.Message=Backbone.Model.extend({defaults:{templateData:{link:translate("lblPwrBy").replace("_URL_","?utm_source="+encodeURIComponent(location.hostname)+"&utm_medium=link&utm_content=offline_form&utm_campaign=self_ad"),nologo:!utils.showAd(),locale:getIconLocale()},buttons:[],msg:translate("lblNoOperators"),header:translate("lblChatEnded")}});
Jivo.Message.Views.Message=Backbone.View.extend({el:"#inner-chat",submited:!1,tagName:"div",template:_templates.message.message,initialize:function(){},render:function(){this.$el.html(this.template(this.model.toJSON()));this.$el.addClass("offline");getByIdFromParent("jivo-chat")&&getByIdFromParent("jivo-chat").addClass("jivo-offline").removeClass("jivo-online");var a=this.$el.find("#buttons"),b=this.model.get("buttons");underscore.each(b,function(b,g){a.append($("<input/>",{type:"button",value:b.title,
"class":"jivoBtn accept"}).click(function(a){return function(){jivo.handle(a)}}(b.event)))});setTimeout($.proxy(function(){this.$el.find("#report-message-inner").css({top:(this.$el.find("#report-message").outerHeight()-this.$el.find("#report-message-inner").outerHeight())/2})},this),10);setTimeout(function(){$("#header-animate-container").addClass("header-animate")},0);return this}});
var chat_view_msg=Jivo.Message.Controller=new function(){this.instance={models:{message:new Jivo.Message.Models.Message},views:{message:!1}};this.create=function(a,b){this.instance.views.message=new Jivo.Message.Views.Message({model:this.instance.models.message});this.instance.views.message.render()};this._parent=function(a){return $(window.parent.document.getElementById(a))?$(window.parent.document.getElementById(a)):!1}};
browserNameVer=function(){var a=navigator.appName,b=navigator.userAgent.toLowerCase(),f=navigator.platform.toLowerCase(),g,l=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),f=f?/win/.test(f):/win/.test(b);l&&null!=(g=b.match(/version\/([\.\d]+)/i))&&(l[2]=g[1]);l=l?[l[1],l[2]]:[a,navigator.appVersion,"-?"];l.win=f;return l}();
if(!(browserNameVer.win&&"msie"==browserNameVer[0]&&9>=parseFloat(browserNameVer[1])||/Android/.test(navigator.userAgent)||jivo.isMobileOrTablet())){var initBlur=function(){$(".messages-div-blurred").remove();var a=$("#jivosite-adword"),b=$("#input-div"),f=$("#messages-div"),g=$("#messages-div-inner"),f=f.height();this.$contentBlurred=$("<div></div>").addClass("messages-div-blurred").append($("<div></div>").addClass("messages-div-blurred-cont").html($content.clone())).css({filter:"url(#blur-effect)",
bottom:-f+a.height()+parseInt(g.css("bottom"))});this.$contentBlurred.appendTo(a);this.$contentBlurred.clone().css("bottom",b.innerHeight()+parseInt(g.css("bottom"))).appendTo(b);translation="translate3d(0,"+overviewNode.css("bottom")+", 0)";a.find(".messages-div-blurred-cont").css({"-webkit-transform":translation,"-moz-transform":translation,transform:translation});b.find(".messages-div-blurred-cont").css({"-webkit-transform":translation,"-moz-transform":translation,transform:translation})},$content,
messages_col=0,translation,overviewNode=$("#messages-div-inner"),updateBlur=function(){$content=$(".messages-div-inner:first");var a=$content.children(".new-msg-container").find(".new-msg-text").length;if(a>messages_col||a<messages_col&&null!=$content)initBlur(),messages_col=a};updateBlur()};